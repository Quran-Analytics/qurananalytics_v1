<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Knowledge Through Verse Network | Quran Analytics with R</title>
  <meta name="description" content="9 Knowledge Through Verse Network | Quran Analytics with R" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Knowledge Through Verse Network | Quran Analytics with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Knowledge Through Verse Network | Quran Analytics with R" />
  
  
  

<meta name="author" content="Wan M Hasni and Azman Hussin" />


<meta name="date" content="2024-04-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="text-classification-models.html"/>
<link rel="next" href="way-forward.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quran Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-first-author.html"><a href="preface-from-the-first-author.html"><i class="fa fa-check"></i>Preface From the First Author</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-second-author.html"><a href="preface-from-the-second-author.html"><i class="fa fa-check"></i>Preface From the Second Author</a></li>
<li class="chapter" data-level="" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i>Preamble</a></li>
<li class="chapter" data-level="1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html"><i class="fa fa-check"></i><b>1</b> Introducing Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quran-analytics"><i class="fa fa-check"></i><b>1.1</b> Quran Analytics</a></li>
<li class="chapter" data-level="1.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-studies"><i class="fa fa-check"></i><b>1.2</b> Quranic Studies</a></li>
<li class="chapter" data-level="1.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-language-and-studies"><i class="fa fa-check"></i><b>1.3</b> Quranic language and linguistic studies</a></li>
<li class="chapter" data-level="1.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#computational-linguistics"><i class="fa fa-check"></i><b>1.4</b> Computational Linguistics</a></li>
<li class="chapter" data-level="1.5" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#natural-language-processing"><i class="fa fa-check"></i><b>1.5</b> Natural Language Processing (NLP)</a></li>
<li class="chapter" data-level="1.6" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#programming-language-in-NLP"><i class="fa fa-check"></i><b>1.6</b> Programming language in NLP</a></li>
<li class="chapter" data-level="1.7" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#advancements-in-NLP-and-quran-analytics"><i class="fa fa-check"></i><b>1.7</b> Advancements in NLP and Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#common-NLP-tasks"><i class="fa fa-check"></i><b>1.7.1</b> Common NLP tasks</a></li>
<li class="chapter" data-level="1.7.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#available-resources-for-digital-quranic-studies"><i class="fa fa-check"></i><b>1.7.2</b> Available resources for digital Quranic studies</a></li>
<li class="chapter" data-level="1.7.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#nlp-works-on-english-translations-of-al-quran"><i class="fa fa-check"></i><b>1.7.3</b> NLP works on English translations of Al-Quran</a></li>
<li class="chapter" data-level="1.7.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#complex-nlp-tasks-for-quran-analytics"><i class="fa fa-check"></i><b>1.7.4</b> Complex NLP tasks for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#why-use-R"><i class="fa fa-check"></i><b>1.8</b> Why use R?</a></li>
<li class="chapter" data-level="1.9" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#focus-of-this-book"><i class="fa fa-check"></i><b>1.9</b> Focus of this book</a></li>
<li class="chapter" data-level="1.10" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#further-readings"><i class="fa fa-check"></i><b>1.10</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-frequencies.html"><a href="analysis-of-words-by-its-frequencies.html"><i class="fa fa-check"></i>Analysis of Words by its Frequencies</a></li>
<li class="chapter" data-level="2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html"><i class="fa fa-check"></i><b>2</b> Word Frequency Analysis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#R-packages-and-data-used"><i class="fa fa-check"></i><b>2.1</b> R packages and data used</a></li>
<li class="chapter" data-level="2.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#wordcloud-analysis"><i class="fa fa-check"></i><b>2.2</b> Wordclouds analysis</a></li>
<li class="chapter" data-level="2.3" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#analyzing-word-and-document-frequency"><i class="fa fa-check"></i><b>2.3</b> Analyzing word and document frequency</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#term-frequency-in-english-quran"><i class="fa fa-check"></i><b>2.3.1</b> Term frequency in English Quran</a></li>
<li class="chapter" data-level="2.3.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#the-bind_tf_idf-function"><i class="fa fa-check"></i><b>2.3.2</b> The <em>bind_tf_idf</em> function</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#zipfs-law"><i class="fa fa-check"></i><b>2.4</b> Zipf’s law</a></li>
<li class="chapter" data-level="2.5" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-high-occurrence-and-stopwords"><i class="fa fa-check"></i><b>2.5</b> Words of high occurrence and stopwords</a></li>
<li class="chapter" data-level="2.6" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-rare-occurrence"><i class="fa fa-check"></i><b>2.6</b> Words of rare occurrence</a></li>
<li class="chapter" data-level="2.7" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-with-medium-occurrence"><i class="fa fa-check"></i><b>2.7</b> Words with medium occurrence</a></li>
<li class="chapter" data-level="2.8" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#chapter-2-summary"><i class="fa fa-check"></i><b>2.8</b> Summary</a></li>
<li class="chapter" data-level="2.9" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#further-readings-1"><i class="fa fa-check"></i><b>2.9</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html"><i class="fa fa-check"></i><b>3</b> Word Scoring Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#preprocessing-the-data"><i class="fa fa-check"></i><b>3.1</b> Preprocessing the data</a></li>
<li class="chapter" data-level="3.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-with-tidy-data"><i class="fa fa-check"></i><b>3.2</b> Sentiment analysis with tidy data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-models"><i class="fa fa-check"></i><b>3.2.1</b> Sentiment scoring models</a></li>
<li class="chapter" data-level="3.2.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#bing-scoring-model"><i class="fa fa-check"></i><b>3.2.2</b> <em>bing</em> scoring model</a></li>
<li class="chapter" data-level="3.2.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#afinn-scoring-model"><i class="fa fa-check"></i><b>3.2.3</b> <em>AFINN</em> scoring model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-within-the-surahs"><i class="fa fa-check"></i><b>3.3</b> Sentiment analysis within the Surahs</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#wordcloud-analysis-1"><i class="fa fa-check"></i><b>3.3.1</b> Wordcloud analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#statistics-of-sentiment-score"><i class="fa fa-check"></i><b>3.4</b> Statistics of sentiment score</a></li>
<li class="chapter" data-level="3.5" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-frequencies"><i class="fa fa-check"></i><b>3.5</b> Sentiment scoring frequencies</a></li>
<li class="chapter" data-level="3.6" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#building-dedicated-sentiment-scoring-model"><i class="fa fa-check"></i><b>3.6</b> Building dedicated sentiment scoring model</a></li>
<li class="chapter" data-level="3.7" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#summary-chapter-3"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#further-readings-2"><i class="fa fa-check"></i><b>3.8</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-cooccurences.html"><a href="analysis-of-words-by-its-cooccurences.html"><i class="fa fa-check"></i>Analysis of Words by its Cooccurences</a></li>
<li class="chapter" data-level="4" data-path="word-collocations.html"><a href="word-collocations.html"><i class="fa fa-check"></i><b>4</b> Word Collocations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-word-collocations"><i class="fa fa-check"></i><b>4.1</b> Analyzing word collocations</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-bi-grams"><i class="fa fa-check"></i><b>4.1.1</b> Analyzing bi-grams</a></li>
<li class="chapter" data-level="4.1.2" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-a-network-of-bigrams-with-ggraph"><i class="fa fa-check"></i><b>4.1.2</b> Visualizing a network of bigrams with <em>ggraph</em></a></li>
<li class="chapter" data-level="4.1.3" data-path="word-collocations.html"><a href="word-collocations.html#tri-grams"><i class="fa fa-check"></i><b>4.1.3</b> Tri-grams</a></li>
<li class="chapter" data-level="4.1.4" data-path="word-collocations.html"><a href="word-collocations.html#bigrams-co-ocurrences-and-correlations"><i class="fa fa-check"></i><b>4.1.4</b> Bigrams co-ocurrences and correlations</a></li>
<li class="chapter" data-level="4.1.5" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-correlations-of-bigrams-of-keywords"><i class="fa fa-check"></i><b>4.1.5</b> Visualizing correlations of bigrams of keywords</a></li>
<li class="chapter" data-level="4.1.6" data-path="word-collocations.html"><a href="word-collocations.html#summarizing-ngrams"><i class="fa fa-check"></i><b>4.1.6</b> Summarizing ngrams</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="word-collocations.html"><a href="word-collocations.html#lexical-analysis"><i class="fa fa-check"></i><b>4.2</b> Lexical analysis</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="word-collocations.html"><a href="word-collocations.html#basic-frequency-statistics"><i class="fa fa-check"></i><b>4.2.1</b> Basic frequency statistics</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="word-collocations.html"><a href="word-collocations.html#word-cooccurrences-using-POS"><i class="fa fa-check"></i><b>4.3</b> Word cooccurrences using POS</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="word-collocations.html"><a href="word-collocations.html#nouns-adjectives-and-verbs-used-in-same-sentence"><i class="fa fa-check"></i><b>4.3.1</b> Nouns, adjectives, and verbs used in same sentence</a></li>
<li class="chapter" data-level="4.3.2" data-path="word-collocations.html"><a href="word-collocations.html#words-that-follow-one-another-using-pos"><i class="fa fa-check"></i><b>4.3.2</b> Words that follow one another using POS</a></li>
<li class="chapter" data-level="4.3.3" data-path="word-collocations.html"><a href="word-collocations.html#word-correlations-using-pos"><i class="fa fa-check"></i><b>4.3.3</b> Word correlations using POS</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="word-collocations.html"><a href="word-collocations.html#finding-keyword-combinations-using-POS"><i class="fa fa-check"></i><b>4.4</b> Finding keyword combinations using POS</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="word-collocations.html"><a href="word-collocations.html#using-rake"><i class="fa fa-check"></i><b>4.4.1</b> Using RAKE</a></li>
<li class="chapter" data-level="4.4.2" data-path="word-collocations.html"><a href="word-collocations.html#using-pointwise-mutual-information-collocations"><i class="fa fa-check"></i><b>4.4.2</b> Using Pointwise Mutual Information Collocations</a></li>
<li class="chapter" data-level="4.4.3" data-path="word-collocations.html"><a href="word-collocations.html#using-a-sequence-of-pos-tags-noun-phrases"><i class="fa fa-check"></i><b>4.4.3</b> Using a sequence of POS tags (noun phrases)</a></li>
<li class="chapter" data-level="4.4.4" data-path="word-collocations.html"><a href="word-collocations.html#textrank"><i class="fa fa-check"></i><b>4.4.4</b> Textrank</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="word-collocations.html"><a href="word-collocations.html#dependency-parsing"><i class="fa fa-check"></i><b>4.5</b> Dependency parsing</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="word-collocations.html"><a href="word-collocations.html#collocations-and-co-occurences"><i class="fa fa-check"></i><b>4.5.1</b> Collocations and co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="word-collocations.html"><a href="word-collocations.html#chapter-4-summary"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
<li class="chapter" data-level="4.7" data-path="word-collocations.html"><a href="word-collocations.html#further-readings-3"><i class="fa fa-check"></i><b>4.7</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="word-collocations.html"><a href="word-collocations.html#appendix"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html"><i class="fa fa-check"></i><b>5</b> Graph Representations of Word Cooccurences</a>
<ul>
<li class="chapter" data-level="5.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#statistical-analysis-of-word-positions"><i class="fa fa-check"></i><b>5.1</b> Statistical analysis of word positions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-between-saheeh-and-yusuf-ali"><i class="fa fa-check"></i><b>5.1.1</b> Comparison between Saheeh and Yusuf Ali</a></li>
<li class="chapter" data-level="5.1.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-against-the-arabic-text"><i class="fa fa-check"></i><b>5.1.2</b> Comparison against the Arabic text</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#focus-on-surah-Yusuf"><i class="fa fa-check"></i><b>5.2</b> Focus on Surah Yusuf</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#arc-method-of-visualization"><i class="fa fa-check"></i><b>5.2.1</b> Arc method of visualization</a></li>
<li class="chapter" data-level="5.2.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#circular-method-of-visualization"><i class="fa fa-check"></i><b>5.2.2</b> Circular method of visualization</a></li>
<li class="chapter" data-level="5.2.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#grouping-of-co-occurences"><i class="fa fa-check"></i><b>5.2.3</b> Grouping of co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#a-short-tutorial-on-graphs-in-R"><i class="fa fa-check"></i><b>5.3</b> A short tutorial on graphs in <strong>R</strong></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-creation"><i class="fa fa-check"></i><b>5.3.1</b> Graph creation</a></li>
<li class="chapter" data-level="5.3.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-plots"><i class="fa fa-check"></i><b>5.3.2</b> Graph plots</a></li>
<li class="chapter" data-level="5.3.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-layouts"><i class="fa fa-check"></i><b>5.3.3</b> Graph layouts</a></li>
<li class="chapter" data-level="5.3.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-algorithms"><i class="fa fa-check"></i><b>5.3.4</b> Graph algorithms</a></li>
<li class="chapter" data-level="5.3.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-analysis"><i class="fa fa-check"></i><b>5.3.5</b> Graph analysis</a></li>
<li class="chapter" data-level="5.3.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#using-ggraph"><i class="fa fa-check"></i><b>5.3.6</b> Using ggraph</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#fun-with-network-graphs"><i class="fa fa-check"></i><b>5.4</b> Fun with network graphs</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#working-with-a-bigger-graph"><i class="fa fa-check"></i><b>5.4.1</b> Working with a bigger graph</a></li>
<li class="chapter" data-level="5.4.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#taking-the-largest-component"><i class="fa fa-check"></i><b>5.4.2</b> Taking the largest component</a></li>
<li class="chapter" data-level="5.4.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#community-structure-detection"><i class="fa fa-check"></i><b>5.4.3</b> Community structure detection</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#chapter-5-summary"><i class="fa fa-check"></i><b>5.5</b> Summary</a></li>
<li class="chapter" data-level="5.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#further-readings-4"><i class="fa fa-check"></i><b>5.6</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html"><i class="fa fa-check"></i><b>6</b> Word Cooccurences of Surah Taa Haa</a>
<ul>
<li class="chapter" data-level="6.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#data-preprocessing"><i class="fa fa-check"></i><b>6.1</b> Data preprocessing</a></li>
<li class="chapter" data-level="6.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-analysis-and-characteristics"><i class="fa fa-check"></i><b>6.2</b> Network analysis and characteristics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-characteristics"><i class="fa fa-check"></i><b>6.2.1</b> Network characteristics</a></li>
<li class="chapter" data-level="6.2.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#centrality-measures-node-level-measures"><i class="fa fa-check"></i><b>6.2.2</b> Centrality measures (node-level measures)</a></li>
<li class="chapter" data-level="6.2.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-strength"><i class="fa fa-check"></i><b>6.2.3</b> Degree and strength</a></li>
<li class="chapter" data-level="6.2.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Degree distribution</a></li>
<li class="chapter" data-level="6.2.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-degree-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.2.5</b> Degree and degree distribution for directed graph</a></li>
<li class="chapter" data-level="6.2.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-degree"><i class="fa fa-check"></i><b>6.2.6</b> Why do we care about degree?</a></li>
<li class="chapter" data-level="6.2.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#betweenness"><i class="fa fa-check"></i><b>6.2.7</b> Betweenness</a></li>
<li class="chapter" data-level="6.2.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.8</b> Degree centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#outdegree-centrality-and-indegree-prestige"><i class="fa fa-check"></i><b>6.2.9</b> Outdegree centrality and indegree prestige</a></li>
<li class="chapter" data-level="6.2.10" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#closeness-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.10</b> Closeness centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.11" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#correlation-analysis-among-centrality-measures-for-the-gu-network"><i class="fa fa-check"></i><b>6.2.11</b> Correlation analysis among centrality measures for the <em>gu</em> network</a></li>
<li class="chapter" data-level="6.2.12" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assembling-a-dataset-of-node-level-measures-for-gd-network"><i class="fa fa-check"></i><b>6.2.12</b> Assembling a dataset of node-level measures for gd network</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-level-measures"><i class="fa fa-check"></i><b>6.3</b> Network-level measures</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#size-and-density"><i class="fa fa-check"></i><b>6.3.1</b> Size and density</a></li>
<li class="chapter" data-level="6.3.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#components"><i class="fa fa-check"></i><b>6.3.2</b> Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distributions"><i class="fa fa-check"></i><b>6.3.3</b> Degree distributions</a></li>
<li class="chapter" data-level="6.3.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#average-path-length-and-diameter"><i class="fa fa-check"></i><b>6.3.4</b> Average path length and diameter</a></li>
<li class="chapter" data-level="6.3.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution"><i class="fa fa-check"></i><b>6.3.5</b> Path distance distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.3.6</b> Path distance distribution for directed graph</a></li>
<li class="chapter" data-level="6.3.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-path"><i class="fa fa-check"></i><b>6.3.7</b> Why do we care about path?</a></li>
<li class="chapter" data-level="6.3.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#clustering-coefficient-transitivity-distribution"><i class="fa fa-check"></i><b>6.3.8</b> Clustering coefficient (Transitivity) distribution</a></li>
<li class="chapter" data-level="6.3.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-clustering-coefficient"><i class="fa fa-check"></i><b>6.3.9</b> Why do we care about clustering coefficient?</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#community-structure-and-assortment"><i class="fa fa-check"></i><b>6.4</b> Community structure and assortment</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection"><i class="fa fa-check"></i><b>6.4.1</b> Modularity and community detection</a></li>
<li class="chapter" data-level="6.4.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection-a-simple-example"><i class="fa fa-check"></i><b>6.4.2</b> Modularity and community detection: a simple example</a></li>
<li class="chapter" data-level="6.4.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#another-example-of-clustering"><i class="fa fa-check"></i><b>6.4.3</b> Another example of clustering</a></li>
<li class="chapter" data-level="6.4.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assortment-homophily"><i class="fa fa-check"></i><b>6.4.4</b> Assortment (homophily)</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#analyzing-using-tidygraph"><i class="fa fa-check"></i><b>6.5</b> Analyzing using <em>tidygraph</em></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#direct-ggraph-integration"><i class="fa fa-check"></i><b>6.5.1</b> Direct ggraph integration</a></li>
<li class="chapter" data-level="6.5.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#use-selected-measures-from-tidygraph-and-plot"><i class="fa fa-check"></i><b>6.5.2</b> Use selected measures from <em>tidygraph</em> and plot</a></li>
<li class="chapter" data-level="6.5.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#example-combining-selected-node-and-edge-measures-from-tidygraph"><i class="fa fa-check"></i><b>6.5.3</b> Example combining selected node and edge measures from <em>tidygraph</em></a></li>
<li class="chapter" data-level="6.5.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#who-is-the-most-important-influencer"><i class="fa fa-check"></i><b>6.5.4</b> Who is the most important influencer?</a></li>
<li class="chapter" data-level="6.5.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#build-communities-and-calculate-measures"><i class="fa fa-check"></i><b>6.5.5</b> Build communities and calculate measures</a></li>
<li class="chapter" data-level="6.5.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#visualize-the-network"><i class="fa fa-check"></i><b>6.5.6</b> Visualize the network</a></li>
<li class="chapter" data-level="6.5.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#concentric-layouts"><i class="fa fa-check"></i><b>6.5.7</b> Concentric layouts</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#chapter-6-summary"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
<li class="chapter" data-level="6.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#further-readings-5"><i class="fa fa-check"></i><b>6.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="text-and-knowledge-modeling.html"><a href="text-and-knowledge-modeling.html"><i class="fa fa-check"></i>Text and Knowledge Modeling</a></li>
<li class="chapter" data-level="7" data-path="text-network-analysis.html"><a href="text-network-analysis.html"><i class="fa fa-check"></i><b>7</b> Texts Network Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#a-brief-tutorial-on-quanteda"><i class="fa fa-check"></i><b>7.1</b> A brief on <em>quanteda</em></a></li>
<li class="chapter" data-level="7.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#analyzing-word-cooccurrences-as-a-network"><i class="fa fa-check"></i><b>7.2</b> Analyzing word cooccurrence as a network</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#network-dynamics-growth-of-word-co-occurrence-network"><i class="fa fa-check"></i><b>7.2.1</b> Network dynamics: growth of word co-occurrence network</a></li>
<li class="chapter" data-level="7.2.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-co-occurrence-network-statistics"><i class="fa fa-check"></i><b>7.2.2</b> Word co-occurrence network statistics</a></li>
<li class="chapter" data-level="7.2.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#diameter-and-average-distance"><i class="fa fa-check"></i><b>7.2.3</b> Diameter and average distance</a></li>
<li class="chapter" data-level="7.2.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#connectedness"><i class="fa fa-check"></i><b>7.2.4</b> Connectedness</a></li>
<li class="chapter" data-level="7.2.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#degree-distributions-1"><i class="fa fa-check"></i><b>7.2.5</b> Degree distributions</a></li>
<li class="chapter" data-level="7.2.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#clustering-coefficients"><i class="fa fa-check"></i><b>7.2.6</b> Clustering coefficients</a></li>
<li class="chapter" data-level="7.2.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#modularity"><i class="fa fa-check"></i><b>7.2.7</b> Modularity</a></li>
<li class="chapter" data-level="7.2.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#betweenness-1"><i class="fa fa-check"></i><b>7.2.8</b> Betweenness</a></li>
<li class="chapter" data-level="7.2.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#prestige-centrality"><i class="fa fa-check"></i><b>7.2.9</b> Prestige centrality</a></li>
<li class="chapter" data-level="7.2.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary"><i class="fa fa-check"></i><b>7.2.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#dive-into-selected-surahs"><i class="fa fa-check"></i><b>7.3</b> Dive into selected Surahs</a></li>
<li class="chapter" data-level="7.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-collocations-statistical-method"><i class="fa fa-check"></i><b>7.4</b> Word collocations statistical method</a></li>
<li class="chapter" data-level="7.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-keyness-comparisons"><i class="fa fa-check"></i><b>7.5</b> Word keyness comparisons</a></li>
<li class="chapter" data-level="7.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#lexical-diversity-and-dispersion"><i class="fa fa-check"></i><b>7.6</b> Lexical diversity and dispersion</a></li>
<li class="chapter" data-level="7.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#viewing-the-network-as-dendrogram"><i class="fa fa-check"></i><b>7.7</b> Viewing the network as dendrogram</a></li>
<li class="chapter" data-level="7.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-similarity-in-verses"><i class="fa fa-check"></i><b>7.8</b> Words similarity in verses</a></li>
<li class="chapter" data-level="7.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-dissimilarity-in-verses"><i class="fa fa-check"></i><b>7.9</b> Words dissimilarity in verses</a></li>
<li class="chapter" data-level="7.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary-chapter-7"><i class="fa fa-check"></i><b>7.10</b> Summary</a></li>
<li class="chapter" data-level="7.11" data-path="text-network-analysis.html"><a href="text-network-analysis.html#further-readings-6"><i class="fa fa-check"></i><b>7.11</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="text-classification-models.html"><a href="text-classification-models.html"><i class="fa fa-check"></i><b>8</b> Text Classification Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="text-classification-models.html"><a href="text-classification-models.html#brief-outline-of-text-modeling"><i class="fa fa-check"></i><b>8.1</b> Brief outline of text modeling</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="text-classification-models.html"><a href="text-classification-models.html#general-setting"><i class="fa fa-check"></i><b>8.1.1</b> General setting</a></li>
<li class="chapter" data-level="8.1.2" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-and-unsupervised-learning-methods"><i class="fa fa-check"></i><b>8.1.2</b> Supervised and unsupervised learning methods</a></li>
<li class="chapter" data-level="8.1.3" data-path="text-classification-models.html"><a href="text-classification-models.html#topic-modeling-for-quran-analytics"><i class="fa fa-check"></i><b>8.1.3</b> Topic modeling for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="text-classification-models.html"><a href="text-classification-models.html#unsupervised-learning-models"><i class="fa fa-check"></i><b>8.2</b> Unsupervised learning models</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda-model"><i class="fa fa-check"></i><b>8.2.1</b> Latent Dirichlet Allocation (LDA) model</a></li>
<li class="chapter" data-level="8.2.2" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm"><i class="fa fa-check"></i><b>8.2.2</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.3" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-model"><i class="fa fa-check"></i><b>8.2.3</b> Latent Semantic Analysis model</a></li>
<li class="chapter" data-level="8.2.4" data-path="text-classification-models.html"><a href="text-classification-models.html#labeling-the-data"><i class="fa fa-check"></i><b>8.2.4</b> Labeling the data</a></li>
<li class="chapter" data-level="8.2.5" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda"><i class="fa fa-check"></i><b>8.2.5</b> Latent Dirichlet Allocation (LDA)</a></li>
<li class="chapter" data-level="8.2.6" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm-1"><i class="fa fa-check"></i><b>8.2.6</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.7" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-lsa"><i class="fa fa-check"></i><b>8.2.7</b> Latent Semantic Analysis (LSA)</a></li>
<li class="chapter" data-level="8.2.8" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-unsupervised-learning-model"><i class="fa fa-check"></i><b>8.2.8</b> Summarizing unsupervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-learning-models"><i class="fa fa-check"></i><b>8.3</b> Supervised learning models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="text-classification-models.html"><a href="text-classification-models.html#naive-bayes-nb"><i class="fa fa-check"></i><b>8.3.1</b> Naive Bayes (NB)</a></li>
<li class="chapter" data-level="8.3.2" data-path="text-classification-models.html"><a href="text-classification-models.html#support-vector-machines-svm"><i class="fa fa-check"></i><b>8.3.2</b> Support Vector Machines (SVM)</a></li>
<li class="chapter" data-level="8.3.3" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-supervised-learning-model"><i class="fa fa-check"></i><b>8.3.3</b> Summarizing supervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="text-classification-models.html"><a href="text-classification-models.html#ideological-difference-models"><i class="fa fa-check"></i><b>8.4</b> Ideological difference models</a></li>
<li class="chapter" data-level="8.5" data-path="text-classification-models.html"><a href="text-classification-models.html#word-embedding-models"><i class="fa fa-check"></i><b>8.5</b> Word embeddings models</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-word-embedding-model-methods"><i class="fa fa-check"></i><b>8.5.1</b> Summarizing word embedding model methods</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="text-classification-models.html"><a href="text-classification-models.html#summary-chapter-8"><i class="fa fa-check"></i><b>8.6</b> Summary</a></li>
<li class="chapter" data-level="8.7" data-path="text-classification-models.html"><a href="text-classification-models.html#further-readings-7"><i class="fa fa-check"></i><b>8.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html"><i class="fa fa-check"></i><b>9</b> Knowledge Through Verse Network</a>
<ul>
<li class="chapter" data-level="9.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#tafseer-Ibnu-Katheer-as-knowledge-graphs"><i class="fa fa-check"></i><b>9.1</b> Tafseer Ibnu Katheer as Knowledge Graphs</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#preparing-the-data-and-settings"><i class="fa fa-check"></i><b>9.1.1</b> Preparing the data and settings</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#Katheer-graph-network"><i class="fa fa-check"></i><b>9.2</b> Katheer Graph network</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-visualizations"><i class="fa fa-check"></i><b>9.2.1</b> Katheer Graph visualizations</a></li>
<li class="chapter" data-level="9.2.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-statistics"><i class="fa fa-check"></i><b>9.2.2</b> Katheer Graph network statistics</a></li>
<li class="chapter" data-level="9.2.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-degree"><i class="fa fa-check"></i><b>9.2.3</b> Katheer Graph network degree</a></li>
<li class="chapter" data-level="9.2.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-paths-and-traversals"><i class="fa fa-check"></i><b>9.2.4</b> Katheer Graph network paths and traversals</a></li>
<li class="chapter" data-level="9.2.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#network-traversals-using-statistical-properties"><i class="fa fa-check"></i><b>9.2.5</b> Network traversals using statistical properties</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-surah-al-alaa-traversals-in-surah-al-alaa"><i class="fa fa-check"></i><b>9.3</b> Traversals in Surah Al-A’laa {#traversals-in-Surah-Al-A’laa}</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#themes-of-surah-al-alaa"><i class="fa fa-check"></i><b>9.3.1</b> Themes of Surah Al-A’laa</a></li>
<li class="chapter" data-level="9.3.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#surah-al-alaa-network"><i class="fa fa-check"></i><b>9.3.2</b> Surah Al-A’laa network</a></li>
<li class="chapter" data-level="9.3.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#view-from-the-perspectives-of-the-entire-ibnu-katheer-network"><i class="fa fa-check"></i><b>9.3.3</b> View from the perspectives of the entire Ibnu Katheer network</a></li>
<li class="chapter" data-level="9.3.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-1"><i class="fa fa-check"></i><b>9.3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversing-verse-13-surah-al-alaa-traversing-verse-13-surah-al-alaa"><i class="fa fa-check"></i><b>9.4</b> Traversing verse 13 Surah Al-A’laa {#traversing-verse-13-Surah-Al-A’laa}</a></li>
<li class="chapter" data-level="9.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-verses-2:255-and-16:90"><i class="fa fa-check"></i><b>9.5</b> Traversals in verses 2:255 and 16:90</a></li>
<li class="chapter" data-level="9.6" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#word-cooccurrences-from-Katheer-graph"><i class="fa fa-check"></i><b>9.6</b> Word cooccurrences from Katheer Graph</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#setting-the-text-data"><i class="fa fa-check"></i><b>9.6.1</b> Setting the text data</a></li>
<li class="chapter" data-level="9.6.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#what-words-co-occur-together"><i class="fa fa-check"></i><b>9.6.2</b> What words co-occur together</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-chapter-9"><i class="fa fa-check"></i><b>9.7</b> Summary</a></li>
<li class="chapter" data-level="9.8" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#further-readings-8"><i class="fa fa-check"></i><b>9.8</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#appendix-1"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="way-forward.html"><a href="way-forward.html"><i class="fa fa-check"></i><b>10</b> Way Forward</a>
<ul>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#new-tools-for-studying-al-quran"><i class="fa fa-check"></i>New tools for studying Al-Quran</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#limitations"><i class="fa fa-check"></i>Limitations</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#direction-of-future-works"><i class="fa fa-check"></i>Direction of future works</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quran Analytics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="knowledge-through-verse-network" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Knowledge Through Verse Network<a href="knowledge-through-verse-network.html#knowledge-through-verse-network" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Knowledge graphs (KG) have been a major area of research since 2012, after its introduction by Google when they enhanced their search engine as a semantic search, upgrading from strings search process <span class="citation">(<a href="#ref-googlekg2012">Singhal 2012</a>)</span>. Formally defining knowledge graphs, however, is challenging, since almost any form of representations of relationships, mathematically can be structured fitting a graph definition. Generically, it is “a network of all kinds of things relevant to a specific domain, not limited to abstract concepts and relations but can also contain instances of things like documents and datasets”<span class="citation">(<a href="#ref-blumauer2016">Blumauer 2016</a>)</span>.</p>
<p>The early development of knowledge graphs was focused on gathering and organizing information from the web onto a knowledge graph framework. The leaders were Google, Yahoo, and major search engines of the web. Later on, the development moved towards knowledge extraction processes from semi-structured web knowledge bases such as Wikipedia, and towards the development of Semantic Web as well as the development of schema.org <span class="citation">(<a href="#ref-paulheim2016">Paulheim 2016</a>)</span>. The main challenges involve the methodologies of building the “graph from knowledge”, and “defining knowledge itself”.</p>
<p>Within the field of Information Retrieval(IR), the application of knowledge graph is growing, due to the instrumental role of semantic search enabling of KG. Within IR, among the key tasks are understanding queries and documents, matching and returning direct and clear answers as well as actionable entities or relationships, for any form of subject or domain of interest. The main issue facing both subjects is the intertwining directions between “knowledge graphs for information retrieval” and “information retrieval for knowledge graphs”<span class="citation">(<a href="#ref-reinada2020">Reinanda, Meij, and Rijke 2020</a>)</span>. In graph theory, this problem is couched in the term of reference for a graph, defining which are the nodes and which are the edges. For example, do we represent “documents” as nodes and “entities” as edges or the reverse.<a href="#fn108" class="footnote-ref" id="fnref108"><sup>108</sup></a></p>
<p>The subject of KG, IR, and combinations of both is among the latest research works which provide advancements in knowledge theory, towards building expert systems and knowledge retrieval. Quran Analytics as we envisage is aiming towards creating an open system for Quranic knowledge retrieval and related learning systems as the end goal.</p>
<p>The first and foremost challenge in creating KG and developing IR systems on top of it is “annotating” the knowledge. Interestingly though, within Islamic sciences, “annotating” the knowledge has been practiced by Islamic scholars from its very early time as a very strict discipline. We can see how the classical books are documented in an extremely meticulous way linking information, in forms of interpretations of verses of Al-Quran and the sayings or traditions of the Prophet (s.a.w). This is evident in the compendium of exegeses, such as by Imam Ibnu Katheer (Tafseer Ibnu Katheer), Imam Al-Razi (Al-Tafseer Al-Kabeer, The Large Commentary), and Imam Al-Tabari (Tafseer Al-Tabari). In Al-Hadith, we have the Sunan Sittah (the six major compendiums of Al-Hadith), which disciplines were established by Imam Malik (in Al-Muwatta’), and Imam Al-Bukhari (Saheeh Al-Bukhari) followed by Imam Muslim (Saheeh Muslim), and others.</p>
<p>The knowledge of these classical Islamic scholars (and many others for that matter) has been “preserved” in their annotations, labeling, documenting the source, interpretation, and links as provided by the writings and records of the Classical texts of Islamic sciences. What they had established in essence is knowledge retrieval systems, combining both the methodologies of KG and IR, and resolving some of the major issues between the “documents” and “entities” - where the entities are the source of knowledge (for example the narrators in Al-Hadith), and the documents (for example the Matan, or body of the Hadith).</p>
<p>The task for Quran Analytics, therefore, in the first instance is to convert all these “information” into a graph framework, as envisaged by the Knowledge Graph concept, to allow us to “extract knowledge” from the sources (such as from the verses) and transform them into learning. Since the field is extremely vast and challenging, the first focus of our Quran Analytics project is on the major exegesis of Al-Quran.</p>
<p>Another interesting issue is, how do we learn what are in the “mind” of the classical scholars of exegesis of Al-Quran? Many of their ideas and thoughts are “hidden” from a direct naked reading of their writings. It would be almost impossible to memorize and link all concepts and aspects presented by these scholars, especially ideas which are not “explicitly written”, except through annotations. For example, when a reference is made, say for a verse that is interpreted by other verses, the reasoning for such references may be inexplicitly stated, for reasons known only to the author. Uncovering this “hidden knowledge” is exactly what later scholars did when they relied on the classical sources and combined them with their own knowledge. (i.e., interpreting interpretations with their own interpretations). We can see this in the work of Imam Ibn Hajar, for example, in providing a detailed exegesis of the Sahih Al-Bukhari. This is exactly what is happening to the translations of Al-Quran, which in essence is interpretations of Al-Quran, into another language by the author.</p>
<p>Among the major requirements for Quran Analytics is to build “translation engines” for “interpretations” (i.e. translations) of Al-Quran in other languages, including Modern Standard Arabic language,<a href="#fn109" class="footnote-ref" id="fnref109"><sup>109</sup></a> besides the obvious commonly used languages such as the English language and other major languages. In the case of the Malay language, the authors’ mother tongue, the need is rather acute, at least based on our own experience of learning Al-Quran. The distance between Malay speaking people with their own mother tongue is diverging, the distance with the Arabic language is even wider, and the teaching of Al-Quran is relegated towards memorization and less towards understanding.<a href="#fn110" class="footnote-ref" id="fnref110"><sup>110</sup></a></p>
<div id="tafseer-Ibnu-Katheer-as-knowledge-graphs" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Tafseer Ibnu Katheer as Knowledge Graphs<a href="knowledge-through-verse-network.html#tafseer-Ibnu-Katheer-as-knowledge-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Tafseer Ibnu Katheer is a classical Quranic exegesis, using a methodology that is considered by many scholars as to the “gold standard” of interpretations of Al-Quran, that is “Interpretation of the Quran with the Quran” (Tafseer Al-Quran bi Al-Quran).<a href="#fn111" class="footnote-ref" id="fnref111"><sup>111</sup></a> What Ibnu Katheer did was to provide links between a verse to other verses which interpret the verse. By doing so, what is documented is his views on how each verse is linked to other verses, and in turn, implicitly, these verses are also linked to other verses and so on. The network of links between these verses then forms a massive network of links between all possible verses to all other possible verses.</p>
<p>In network terms, we say that each verse is a “node”, and each of the links is an “edge”, and the total network formed is a “graph”. The information provided by the graph is called a “knowledge graph”. In this case, the full knowledge graph of the Tafseer represents what Imam Ibnu Katheer recorded as his way of interpreting not only just each verse of Al-Quran but the entire verses of Al-Quran in totality. Whether that had been implicitly intended by him, or it is what his complete understanding of the whole Al-Quran is not explicitly expressed. Once we convert his whole interpretation into the form of a network as described, we can see the structures of his “knowledge” and get the deeper meanings of the knowledge representations of his methodologies and hence its deeper and broader understanding.</p>
<p>In this chapter, we will do an expanded analysis of Tafseer Ibnu Katheer, using the tools and methods explored in previous chapters.</p>
<p>Open-source network visualization tools are handy when we deal with large networks. There are several open-source tools available such as <em>Gephi</em><a href="#fn112" class="footnote-ref" id="fnref112"><sup>112</sup></a>, <em>Cytoscape</em><a href="#fn113" class="footnote-ref" id="fnref113"><sup>113</sup></a>, and <em>Pajek</em><a href="#fn114" class="footnote-ref" id="fnref114"><sup>114</sup></a>. For interested readers, please refer to the manuals in <em>Gephi</em> for the methods of applying the visualizations presented here.</p>
<p>The codes used for this chapter are in the Appendix.</p>
<div id="preparing-the-data-and-settings" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Preparing the data and settings<a href="knowledge-through-verse-network.html#preparing-the-data-and-settings" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will start with general network visualizations. Network visualizations are useful for general analysis where the objective is to observe any “emergent” structures discernable from the observed patterns from the network. Here we will utilize plotting packages from <strong>R</strong>, namely <em>ggplot2</em>, and <em>ggraph</em>; we will also deploy <em>Gephi</em>, which is open-source software for large-scale network visualizations and network statistical computations.</p>
<p>Furthermore, we will use some of the tools from previous chapters to do deeper analysis on the network data, and explore some examples of “deep diving” into a Surah, or a verse, or a group of verses. We will use the graph theory and visualizations in Chapter 5, Chapter 6, text modeling techniques of Chapter 7, and Chapter 8. In essence, we will glue together the works from previous chapters into our analysis.</p>
<p>The dataset which provides the annotations for the Tafseer Ibnu Katheer is from <a href="http://textminingthequran.com/" class="uri">http://textminingthequran.com/</a>.<a href="#fn115" class="footnote-ref" id="fnref115"><sup>115</sup></a> The dataset contains 7,679 rows and two columns, a column for the reference verse and the “interpreting” verse in the second column. These two columns are the “vertices” or “nodes” and a row represents an “edge”.</p>
<p>Notationally speaking, we have <span class="math inline">\(K_G = set(N,E)\)</span>, where <span class="math inline">\(K_g\)</span> is the <em>Katheer Graph</em>, and <span class="math inline">\(N\)</span> are the nodes (i.e., verses) in the graph, and <span class="math inline">\(E\)</span> are the edges or directed links (i.e., the relationship) between the nodes (verses), which therefore means that the graph is a <em>directed</em> graph.<a href="#fn116" class="footnote-ref" id="fnref116"><sup>116</sup></a></p>
<p>Using <em>igraph</em>, we convert the dataset to a graph object and we are ready to explore the Katheer Graph.</p>
</div>
</div>
<div id="Katheer-graph-network" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Katheer Graph network<a href="knowledge-through-verse-network.html#Katheer-graph-network" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="katheer-graph-visualizations" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Katheer Graph visualizations<a href="knowledge-through-verse-network.html#katheer-graph-visualizations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In network analysis, we use various methods of display or visualization of the network, which is called the layout. What each layout does is expand the network visually for visual observations. Here we provide a few samples of visuals followed by short interpretations.</p>
<ol style="list-style-type: decimal">
<li><em>Fruchterman-Reingold</em> layout visualization</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig901"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig901-1.png" alt="Ibnu Katheer verse network: Fructherman Reingold layout" width="384" />
<p class="caption">
Figure 9.1: Ibnu Katheer verse network: Fructherman Reingold layout
</p>
</div>
<p>First, we calculate the modularity classes for the network (based on a resolution scale of 1.0) and color each class distinctly. As observed in the image, the various 115 communities are spread out throughout the verses in the entire Al-Quran. What this implies is that the method of interpretations of Ibnu Katheer is expanding the grouping of verses which are interpreted by each other (i.e. networked with each other), spanning across a large space encompassing many verses from other parts of Al-Quran (e.g., from other verses within the same Surah as well as from other Surahs). The visuals also imply that it took many verses to explain a verse, or in another way, many verses linked together give a much wider interpretation of the verse, and vice-versa.</p>
<p>This is indeed a magnificent view of what Ibnu Katheer had in mind. If we want to do this manually, it will take a great effort to annotate and make notes of each verse, grouping, and link altogether.</p>
<p>The largest modularity class, which stood at 5.65% of verses (nodes) is a group of verses (community) consisting of about 300 verses. What it normally means is that these verses are from a common theme or subject. If we want to know what the themes are, we must extract the entire “sub-network” and do the types of analysis which were shown in earlier chapters (word network, co-occurrence network, topic models, sentiment analysis, etc.). Furthermore, the sub-network itself may consist of smaller sub-networks. We can keep repeating the process until we reach its most elementary form. Since our work here is for exploratory purposes, we will leave these details for future work.</p>
<ol start="2" style="list-style-type: decimal">
<li>Add <em>Force Atlas 2</em> layout to existing graph</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig902"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig902-1.png" alt="Ibnu Katheer verse network: Force Atlas layout" width="384" />
<p class="caption">
Figure 9.2: Ibnu Katheer verse network: Force Atlas layout
</p>
</div>
<p>Now we can observe that if we “re-arrange” the visualizations (by adding the Force Atlas algorithm), the groupings are more distinctly clearer. What this means is those different methods of visualizing provide views of various dimensions of the network. In fact, there are numerous methods of layout layerings that are easily applied within a network structure. All these layouts are based on certain “graph spring” algorithms, whereby each algorithm (logics) brings in another dimension to the graph (or knowledge representations). Again, we leave the subject for future work.</p>
</div>
<div id="katheer-graph-network-statistics" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Katheer Graph network statistics<a href="knowledge-through-verse-network.html#katheer-graph-network-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we summarize the network properties of <em>Katheer Graph</em> and comment on its general structure.<a href="#fn117" class="footnote-ref" id="fnref117"><sup>117</sup></a></p>
<table>
<colgroup>
<col width="47%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th>Katheer Graph Network</th>
<th>Statistics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Total number of possible nodes</td>
<td>6,236</td>
</tr>
<tr class="even">
<td>Number of source nodes</td>
<td>2,445</td>
</tr>
<tr class="odd">
<td>Number of target nodes</td>
<td>3,279</td>
</tr>
<tr class="even">
<td>Number of edges</td>
<td>7,679</td>
</tr>
<tr class="odd">
<td>Average degree</td>
<td>2.46</td>
</tr>
<tr class="even">
<td>Average path length</td>
<td>14.82</td>
</tr>
<tr class="odd">
<td>Diameter</td>
<td>51</td>
</tr>
<tr class="even">
<td>Modularity (resolution 1.0)</td>
<td>115</td>
</tr>
<tr class="odd">
<td>Node average clustering</td>
<td>0.064</td>
</tr>
</tbody>
</table>
<p>A quick observation from the table tells us that not all verses from the 6,236 verses are represented, or we can say that there are nodes without any edges. Mathematically speaking we have 19,440,730 possible one-to-one combinations between the verses. We have only 0% of the possible links, which means that the network is “linearly sparse” in the first layer.</p>
<p>This implies that Ibnu Katheer viewed that not all verses are linked directly to other verses, and possibly a link or few links are sufficient to transmit the message. However, the average path length tells us something else, the message is carried through quite a long path, which on average is 14.82 “hops” or “steps”. In another word, a path, denoted by <span class="math inline">\(p\)</span> is represented by: <span class="math inline">\(V_{p,n}\)</span> &gt; <span class="math inline">\(V_{p,n-1}\)</span> …&gt; <span class="math inline">\(V_{p,0}\)</span>, representing a long message passing process. Verse <span class="math inline">\(V_{p,n}\)</span> is interpreting Verse <span class="math inline">\(V_{p,0}\)</span> through a sequence of verses. Note that the number of possible paths can be exploding exponentially (i.e., <span class="math inline">\(i = 1,2,...m\)</span>).</p>
<p>Are these path sequences random or are they part of the inherent structure of Ibnu Katheer? If the sequence is random, then message passing is also random, which logically cannot be true. If it is true, then we can say that Ibnu Katheer’s method does not have “knowledge value”. We will show later that true enough to the status of its exegesis, the brilliance of Ibnu Katheer is par excellence beyond imagination. Instead of having to annotate the links for each of <span class="math inline">\(V_{p,n}\)</span>, <span class="math inline">\(V_{p,n-1}\)</span>,.. to <span class="math inline">\(V_{p,0}\)</span> directly, the message in <span class="math inline">\(V_{p,n}\)</span> can be traced through the paths to <span class="math inline">\(V_{p,0}\)</span>. However, a beginner learner needs to read the Tafseer and traverse through all those available paths, many times before he can learn the full message contained in a verse.<a href="#fn118" class="footnote-ref" id="fnref118"><sup>118</sup></a> We know this by the fact that the largest <span class="math inline">\(p\)</span> is 51, the <em>diameter</em> of the network.</p>
<p>Given such an enormous structure of the Katheer Graph or knowledge network of verses, it deserves a thorough analysis, which we will do subject by subject next.</p>
</div>
<div id="katheer-graph-network-degree" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Katheer Graph network degree<a href="knowledge-through-verse-network.html#katheer-graph-network-degree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The degree of the network represents the concept of “links between ideas” (we will use “message”, instead of “idea”). If a verse is a “link” to another verse, it means that the “message” contained in the “source” verses explains the message in the “target” verse. The network shows that on average, a verse is connected to (interpreted directly by) 2.46 verses. However, as normally understood in statistics, an average is meaningless without understanding the shape of the entire distribution; which is shown in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig903">9.3</a>.</p>
<p>The scatter plot of the distribution (Figure A) and the shape of the (log-log) ranked degree distribution of the network (Figure B) proves one key point: the network degree distributions seem not to conform to Zipf’s Law. This contrasts with normal word and word co-occurrence networks (see discussions in Chapter 2). If the network does not follow a Power Law distribution structure, then what is the form of the network structure?</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig903"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig903-1.png" alt="Plot of the Katheer Graph degree" width="576" />
<p class="caption">
Figure 9.3: Plot of the Katheer Graph degree
</p>
</div>
<p>To make sense of this phenomenon, just think of the citation network for scientific literature, where each verse is a journal, and the links are the citations.<a href="#fn119" class="footnote-ref" id="fnref119"><sup>119</sup></a> What we observe for citation networks is the case where only a few journal papers are cited with high frequencies and many papers with few or little citations or no citations. Those papers with a high number of citations hold some prestigious information (or knowledge), whilst the others are of lesser importance. The shape of a typical citation network degree distribution is a downward curved “L” shape. But what we see here for <em>Katheer Graph</em> is an extremely amplified version of a citation network; where many verses are cited by at least one other verse, and yet, if we trace further, those verses which are not cited directly are cited through the next layers of the network (as explained in the “paths” discussion before).</p>
<p>What we have is a massively dense citation network. Every verse is an important message (literature) and is compactly present in the citation network. This fact is an amazing phenomenon! What this implies as well is that every verse (message) is important, not only on its own, but also within a peculiar way in the network. You can take out a verse randomly, it contains messages in many other verses within it. And if you take a group of connected verses, without one of its members, the message linkages are very unlikely to be broken.<a href="#fn120" class="footnote-ref" id="fnref120"><sup>120</sup></a></p>
</div>
<div id="katheer-graph-network-paths-and-traversals" class="section level3 hasAnchor" number="9.2.4">
<h3><span class="header-section-number">9.2.4</span> Katheer Graph network paths and traversals<a href="knowledge-through-verse-network.html#katheer-graph-network-paths-and-traversals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us begin our discussion with the plot of the frequency distributions of <em>distance</em>, which is the measure of the number of “hops” in any path of the network. The plot is shown in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig904">9.4</a>. This is an awesome discovery. The path distributions look like a normally distributed shape, with the average distance of 14.82. A verse on the network is about 15 links or hops away from any other verse, on average; or a message is never too far away from any other message. This is the “linear view” of it.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig904"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig904-1.png" alt="Plot of the Katheer Graph path lengths distributions" width="576" />
<p class="caption">
Figure 9.4: Plot of the Katheer Graph path lengths distributions
</p>
</div>
<p>To appreciate the concept of distance better, let us ask the question how far is, say verse 6:25 (picked randomly), from any other verse in the network (picked randomly)? The plot in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig905">9.5</a> says that it is distributed like a normal distribution.<a href="#fn121" class="footnote-ref" id="fnref121"><sup>121</sup></a></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig905"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig905-1.png" alt="Verse 6:25 distances from other verses" width="576" />
<p class="caption">
Figure 9.5: Verse 6:25 distances from other verses
</p>
</div>
<p>We emphasize again that this observation is important, the network exhibits the small world property. A simple estimate of the small world property is measured by <span class="math inline">\(log(N)/mean(d)\)</span>, which is 3.55. It means that in real terms, a verse is only about 4 links or steps away from “each other”.<a href="#fn122" class="footnote-ref" id="fnref122"><sup>122</sup></a></p>
<p>This may imply that the messages within the verses are only a few steps away. We will demonstrate this observation later in the chapter. Another way to say it is that even though the paths of interpretation can be quite long for some cases (can be as long as 51 steps), we do not need to go that “far back” in the traversals. Probably 4 steps are sufficient.</p>
</div>
<div id="network-traversals-using-statistical-properties" class="section level3 hasAnchor" number="9.2.5">
<h3><span class="header-section-number">9.2.5</span> Network traversals using statistical properties<a href="knowledge-through-verse-network.html#network-traversals-using-statistical-properties" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Analyzing network statistical properties is important in the sense that it describes the overall “behaviors” of the network. In network science, these behaviors reveal many “emergent” properties which are interesting and useful for explanatory purposes. We can plot and study various properties as we demonstrate next.</p>
<p>Some verses are “prestigious” or “highly influential” (ie., <span class="math inline">\(eigen centrality &gt; 0.5\)</span>) in interpreting other verses; and yet many of these verses are not necessarily contained within a grouping of verses (sub-networks) (i.e., <span class="math inline">\(closeness centrality &lt; 0.5\)</span>). There are only a few verses that are both “prestigious” and at the same time have a high level of importance in their own groupings (i.e., <span class="math inline">\(eigen centrality &gt; 0.5\)</span> and <span class="math inline">\(closeness centrality &gt; 0.5\)</span>). Which are these verses? And how can we interpret these properties? If we dive deeper into the verses and the relations, we might have a better meaning of what they mean.</p>
<p>How about verses that are important in interpreting other verses as a carrier of the interpretation of verses to other verses? This is what’s measured by <em>betweenness centrality</em>. Out of 6,000 over verses, more than 3,700 verses play this type of role as presented in the above plot. Again, this is an amazing observation. There are so many short verses in Al-Quran. And probably many of these short verses are actually links to other short (and also long) verses, and if taken together bring a new dimension of meanings to it.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig906"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig906-1.png" alt="Centrality measures of verses in Ibnu Katheer: Prestige vs Betweeness" width="576" />
<p class="caption">
Figure 9.6: Centrality measures of verses in Ibnu Katheer: Prestige vs Betweeness
</p>
</div>
<p><strong>Verse 2_255</strong></p>
<p>A plot of this is shown in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig906">9.6</a>. We can observe clearly verse V2_255 is high, both in terms of “prestige” and “betweenness”. What is verse 2:255? It is Ayah Al-Kursi. Compared to the verses from Al-Fatihah (opening Surah of Al-Quran), they rank lower on both counts (bottom left of the plot in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig906">9.6</a>). Further checks reveal that indeed V2:255 has 16 in-degree (interpreted by 16 other verses) and 15 out-degree (interprets 16 other verses). But that is not the only fact, these 16 in-degree verses and 15 out-degree verses, in turn, have high in-degrees and out-degrees as well, for V2:255 to have high betweenness and prestige centrality. We will delve into the details of this in the latter part of the chapter.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig907"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig907-1.png" alt="Centrality measures of verses in Ibnu Katheer: Pageranks vs Authority" width="576" />
<p class="caption">
Figure 9.7: Centrality measures of verses in Ibnu Katheer: Pageranks vs Authority
</p>
</div>
<p><strong>Al-Rahman</strong></p>
<p>Figure <a href="knowledge-through-verse-network.html#fig:ch9fig907">9.7</a> compares the <em>Authority</em> and <em>pageranks</em> for the network. What can we learn from it? The group of verses from 19:88-93 (Surah Maryam v88-93) are high in terms of <em>Authority</em>, and yet low in terms of <em>pageranks</em>. What is the content of these verses? It contains the name of Allah, “Al-Rahman”, befitting such knowledge that Al-Rahman is the most “authoritative” name of Allah (measured by <em>Authority</em>) but is mentioned not as often (measured by <em>pageranks</em>).</p>
<p><strong>The Messengers and the message</strong></p>
<p>How about Verse 16:36 (An-Nahl, verse 36)? Why is its “mentioned” status among the highest? A further look into the verse reveals that it is about the messenger (Prophets) with the message: <em>“Worship Allah and shun false gods”.</em></p>
<p>There are countless ways and methods we can traverse the network using the network statistical properties as we have demonstrated above, depending on the contexts and objectives. What we demonstrate here is just a sampling of what’s possible. The method of visualization is just one of the simple ways to present a pictorial view of the subject. Tracing these links and traversing from one verse to another may yield new meanings and interpretations. The network graph model is a useful tool in analyzing the work of Ibnu Katheer.</p>
</div>
</div>
<div id="traversals-in-surah-al-alaa-traversals-in-surah-al-alaa" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Traversals in Surah Al-A’laa {#traversals-in-Surah-Al-A’laa}<a href="knowledge-through-verse-network.html#traversals-in-surah-al-alaa-traversals-in-surah-al-alaa" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we will demonstrate an example of how the Ibnu Katheer network can be used within a study of a specific Surah, namely Surah Al-A’laa (Surah no 87). It is a short Surah with known virtues as noted by Imam Ibnu Katheer himself.<a href="#fn123" class="footnote-ref" id="fnref123"><sup>123</sup></a></p>
<p>The first step we have to do is to “extract out” the Surah from the entire network. This is important since we cannot build the network for the Surah in isolation, without linking it to the entire network. We must attempt to understand the Surah within the total framework, instead of a localized framework. A first pass exercise (or linear search) will be to go through each verse of the Surah, and observe the annotations by Ibnu Katheer for each of the verses, which is fine. But how about the second level search, which are the verses being referred to, how are they being referred to other verses at their own level? And we move to the next level, the same question arises, until the end of the traversal process.</p>
<p>This is achieved simply by combining the verses which point to any verse in Surah Al-A’laa (i.e. <span class="math inline">\(E_i &gt; 87_{1:19}\)</span>); then combine all the edges pointing to these verses (<span class="math inline">\(E_j &gt; E_i\)</span>) and move back up to five steps. The combination of edges creates the Surah Al-A’laa graph.</p>
<p>There are 44 verses pointing to the 15 verses (level 1); then there are 29 other verses pointing to the 44 verses (level 2); then there are 54 verses pointing to the 29 verses (level 3); then there are 135 verses pointing to the 54 verses (level 4); then there are 228 verses pointing to the 135 verses (level 5). We can continue as far as we want until there are no nodes and edges to be added onto the network which may reach 51 levels (the network diameter of the entire Ibnu Kahtheer network). Up to level 5, we have 490 edges with 231 nodes (verses).</p>
<p>What we want to do next depends on our objective. Let us say our objective is to understand how Ibnu Katheer interpreted Surah Al-A’laa, then we have to go through a few steps of questions and answers, as we will do next.</p>
<div id="themes-of-surah-al-alaa" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Themes of Surah Al-A’laa<a href="knowledge-through-verse-network.html#themes-of-surah-al-alaa" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What is/are the main theme(s) of the Surah? And in which larger theme(s) is it in? To answer the question we stack the network to 5 levels deep and we tabulate the results from STM topic modeling for various levels in the table below:</p>
<table>
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th>Level</th>
<th>No of verses</th>
<th>STM Top topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>15</td>
<td>brings pasture scriptures lord name abraham former indeed moses avoid</td>
</tr>
<tr class="even">
<td>1</td>
<td>34</td>
<td>life hereafter worldly enjoyment except o revealed fire muhammad purifies</td>
</tr>
<tr class="odd">
<td>2</td>
<td>65</td>
<td>men women one believing day therein let say fire death</td>
</tr>
<tr class="even">
<td>3</td>
<td>109</td>
<td>allah say o life except death fire know worldly better</td>
</tr>
<tr class="odd">
<td>4</td>
<td>201</td>
<td>allah indeed say life people o among many believed except</td>
</tr>
<tr class="even">
<td>5</td>
<td>331</td>
<td>allah indeed lord people say us upon believed o know</td>
</tr>
</tbody>
</table>
<p>Based on the English translation usage of wordings in Saheeh, we may say that the theme for the Surah is about: .</p>
<p>How to make up the meaning of this sentence is up to an interpreter of Al-Quran. In fact, we can construct the sentence even better if we have the proper language model to put the proper ranking of the words (i.e. probabilistically). This is a subject we exclude from our current work. But the point is, we do have all the “data” necessary from the model (if we assume that the model is working), to construct a more organized sentence, semantically, syntactically, and grammatically.</p>
<p>We do not wish to pursue this direction for now at least due to two reasons:</p>
<ol style="list-style-type: lower-alpha">
<li>we need to work with a language model of English which is suitable for the task.</li>
<li>we have to assume the accuracy of Saheeh’s interpretation is in full congruency with Ibnu Katheer’s exegesis.</li>
</ol>
<p>We cannot confirm either.</p>
</div>
<div id="surah-al-alaa-network" class="section level3 hasAnchor" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Surah Al-A’laa network<a href="knowledge-through-verse-network.html#surah-al-alaa-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How does the Surah Al-A’laa network look like with five inward-pointing levels? This is shown in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig908">9.8</a>, which is obtained from <em>Gephi</em> in order to provide a much clearer view of the network. The verses from Surah Al-A’laa are spread all over the network, as they are present within its own sub-network of verses interpreting it. By way of modularity grouping (as explained in earlier chapters), we colored the various “clusters” distinctly. This is the same basis as <em>cluster_fastgreedy</em> or <em>cluster_louvain</em> for finding <em>cliques</em> in the network.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig908"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig908-1.png" alt="Verses links towards verses in Surah Al-A'laa, up to 5 levels" width="576" />
<p class="caption">
Figure 9.8: Verses links towards verses in Surah Al-A’laa, up to 5 levels
</p>
</div>
<p>We create the graph using the <em>igraph</em> function and tabulate the summary statistics:</p>
<table style="width:100%;">
<colgroup>
<col width="30%" />
<col width="36%" />
<col width="20%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th>Statistics</th>
<th>Surah Al-A’laa network</th>
<th>Surah Al-Kahf</th>
<th>Surah Maryam</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Nodes</td>
<td>231</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="even">
<td>Edges</td>
<td>490</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>Average degree</td>
<td>4.24</td>
<td>21.8</td>
<td>17.41</td>
</tr>
<tr class="even">
<td>Diameter</td>
<td>8</td>
<td>7</td>
<td>7</td>
</tr>
<tr class="odd">
<td>Average Path Length</td>
<td>3.67</td>
<td>3.06</td>
<td>3.24</td>
</tr>
<tr class="even">
<td>Transitivity</td>
<td>0.15</td>
<td>0.28</td>
<td>0.33</td>
</tr>
</tbody>
</table>
<p>We can benchmark the results from the above table with similar tables in Chapter 7 for Surah Al-Kahf and Surah Maryam. Note that the measures are for word co-occurrences network, which is a different framework than what we have here.</p>
<p>We calculate the network statistical measures and use STM to extract the topics in the top ten verses under each category. The results are tabulated below:</p>
<table>
<colgroup>
<col width="20%" />
<col width="79%" />
</colgroup>
<thead>
<tr class="header">
<th>Measures</th>
<th>Topics results from STM on top ten verses of Surah Al-A’laa network</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>By Al-A’laa network top degree</td>
<td>allah, righteousness, death, gives, may, one, promise, true, angels, ask</td>
</tr>
<tr class="even">
<td>By Al-A’laa network betweenness</td>
<td>allah, believing, errs, gives, guided, promise, true, righteousness, whoever, one</td>
</tr>
</tbody>
</table>
<p>From the table, we can see the various word rankings in the network; depending on what perspective one wants to see, as an example, verses which are the most referred to (top degree), or the most referred to as in between references (betweenness). We can do the same for verses referred to less frequently but hold an important role (prestige), or by its high references using <em>pageranks</em> and numerous other measures (not shown here). Each of the settings has its own meaning as it represents one of the dimensions of “knowledge” through the rankings of words within the top topics.</p>
</div>
<div id="view-from-the-perspectives-of-the-entire-ibnu-katheer-network" class="section level3 hasAnchor" number="9.3.3">
<h3><span class="header-section-number">9.3.3</span> View from the perspectives of the entire Ibnu Katheer network<a href="knowledge-through-verse-network.html#view-from-the-perspectives-of-the-entire-ibnu-katheer-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have not addressed other approaches like instead of looking “within the neighbors” of Surah Al-A’laa network, or we can traverse from the “neighbors outside” of Surah Al-A’laa, or within groupings of Surah such as the short Surahs. We can traverse outwardly or inwardly, depending on the objectives of learning.</p>
<p>Instead of using Al-A’laa network statistics to get the topics, we use the statistics obtained from the entire network of Ibnu Katheer Graph; and use STM to extract the topics. The results are tabulated below:</p>
<table>
<colgroup>
<col width="21%" />
<col width="78%" />
</colgroup>
<thead>
<tr class="header">
<th>Measures</th>
<th>Topics extracted based on entire network measures</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>By entire network top degree</td>
<td>merciful, allah, entirely, especially, name, fear, guided, soul, aided, compensation</td>
</tr>
<tr class="even">
<td>By entire network betweenness</td>
<td>whoever, call, earth, let, wills, indeed, lord, fire, like, truth</td>
</tr>
</tbody>
</table>
<p>We can see that the order of the words changed (in the topic for the top ten verses), when we use the “original measures” from the entire network, instead of the measures from the “internal network” of Surah Al-A’laa. These changes are by no means trivial and have their own dimensions. A simple example may help: a person’s status within his family members tells something about him, and at the same time his status in relation to all other people’s status in their own families means something else. The topics of verses within a sub-network may tell us something, and if we measure relative to the entire network, those topics may rank differently.</p>
<p>How to interpret the results as presented is beyond our current discussion for similar reasons that we made before: the STM model may suffer from small sample problems, and semantically we do not know the styles of language used in Saheeh translations. Therefore, we will leave the subject as it is and let the readers think for themselves as to what the results may imply. What we demonstrated are the methods and approaches for the extraction of information, via text topic modeling, relying on the network dimensions.</p>
</div>
<div id="summary-1" class="section level3 hasAnchor" number="9.3.4">
<h3><span class="header-section-number">9.3.4</span> Summary<a href="knowledge-through-verse-network.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can summarize for now that the possibilities of diving deeper into the “meaning” and “learning” from the Ibnu Katheer’s interpretations of Al-Quran, by representing the verse-to-verse method of interpretations, are made easy when we transform the “knowledge” into “graphs”. The network graph now allows the learner to traverse through the layers of verses, links across verses, etc., which is very difficult to do otherwise. What we have shown here is still “raw” in the sense that, the extraction of meanings is based on the Saheeh English translations, and the semantic meaning is what we may be after.</p>
<p>Despite these shortcomings, we need to say that as far as the verses are concerned, the network we have shown and used for the traversals and explorations does not rely on the Arabic language at all. Furthermore, we do not rely on the comments made by Imam Ibnu Katheer in his exegesis. We rely solely on the data based on annotations made on the Tafseer.</p>
</div>
</div>
<div id="traversing-verse-13-surah-al-alaa-traversing-verse-13-surah-al-alaa" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Traversing verse 13 Surah Al-A’laa {#traversing-verse-13-Surah-Al-A’laa}<a href="knowledge-through-verse-network.html#traversing-verse-13-surah-al-alaa-traversing-verse-13-surah-al-alaa" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We choose a specific verse from a specific Surah to show how we can traverse from one verse to other verses in the network. This is slightly different from the previous section where we looked at a group of verses, namely the whole Surah Al-A’laa.</p>
<p>The verse 87:13 reads <em>“Neither dying therein nor living.”</em> The phrase <em>“neither dying therein nor living”</em> is an important metaphor, which requires interpretation. Direct reading of Ibnu Katheer says that this verse is interpreted by verses 35:36 and 43:77. Verse 35:36 reads <em>“And for those who disbelieve will be the fire of Hell. [Death] is not decreed for them so they may die, nor will its torment be lightened for them. Thus do we recompense every ungrateful one.”</em> and verse 43:77 reads <em>“And they will call,”O Malik, let your Lord put an end to us!” He will say, “Indeed, you will remain.”“</em></p>
<p>On the other hand, verse 87:13 is pointed towards two verses: 20:74 and 43:77. Notice that 43:77 is also pointed to 87:13, which is a circular loop, meaning that both interpret the other jointly. From the text of verse 43:77, it says about the Lord decreeing a judgement <em>“Indeed, you will remain”</em>,<em>“neither dying therein not living”</em>, and inversely, <em>“neither dying therein not living”</em>, <em>“Indeed, you will remain”</em>.</p>
<p>So far we have traversed through the first layer, which is a simulation of direct reading of Ibnu Katheer: read verse 87:13, look at the annotations, then read verse 35:36 and 43:77. We will only know that verse 87:13 is being referred to by verse 20:27 by reading verse 20:27 and finding its annotations, and similarly for verse 43:77. To go beyond this step, will involve repeating the process all over again from each verse mentioned. The process is tedious, lengthy, and maybe confusing, but that is what is exactly required without any shortcuts. We hope the readers appreciate the difficulty involved that we are trying to emphasize here.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig909"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig909-1.png" alt="The verse map for V87:13" width="1152" />
<p class="caption">
Figure 9.9: The verse map for V87:13
</p>
</div>
<p>Fortunately, this is all easily presented like a “map” using the network graph. We present this as an ego plot, in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig909">9.9</a>. We can see that indeed, inward-looking, there are only three verses in the first layer (i.e. manual reading). However, beyond the first layer, there is a massive complex network that emanates from these three verses (35:36, 20:74, and 43:77). Behind 43:77 lies another massively complex network of its own going further into the layers, and similarly for 35:36.</p>
<p>By observing further, we can see that verse 20:74 does not have such deeper networks emanating from it. Why? Apparently, the wordings of 20:74 are similar to 87:13, as verse 20:74 reads <em>“Indeed, whoever comes to his Lord as a criminal - indeed, for him is Hell; he will neither die therein nor live.”</em> It is almost an exact word for word matching with verse 87:13.</p>
<p>How can a learner of Ibnu Katheer use this “map”? Firstly, he can easily draw the links between a verse to all the verses which point towards its interpretation. Secondly, the “map” presents the “message” or “knowledge” flows. As an example, reading verse 35:36 would likely confirm it is about the disbelievers and the torment of hellfire. The network around it probably presents a similar subject. Similarly, verse 43:77 is about the Lord’s judgement on the disbelievers, a subject of the group of verses that relates to it, and so on.</p>
<p>Furthermore, based on our earlier point of “small word properties” of Katheer Graph, it is obviously clear where in the case of verse 87:13 network, that it is “only four or so steps away” from the rest of the verses. A way to understand this is just like your house is only four roads away from the main highway and the main highway defines the neighbourhood of your house. The interpretation of verse 87:13 can be obtained from the four hops exercise because beyond that the meaning is already apparent.</p>
<p>Additionally, even though a four layers analysis for verse 87:13 may suffice, it does not prevent a learner from seeing other systems “evolving”. As an example, the ego network of 87:13 converges in the outer layer, layer 9, when the network starting from 35:36 and 43:77 &gt; 35:37 meets again via verses 87:14 and 87:15 - which are direct neighbours of 87:13. What does this imply?</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig907b"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig907b-1.png" alt="Verse 87:13 ego network directed with clusters" width="768" />
<p class="caption">
Figure 9.10: Verse 87:13 ego network directed with clusters
</p>
</div>
<p>Now let us move further, to understand the network based on <em>betweenness centrality</em> measures (the concept of which we deliberated in earlier chapters). “Map” wise, we plot as in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig907b">9.10</a> using the tools provided from earlier chapters. What can we say about it? The verses in the outer layers are organized in some peculiar settings - some verses serve as major connectors (as go-between) for other verses on the network. The large size nodes on the maps represent high connectivities compared to smaller size nodes. What messages it carries as go-betweenness is a subject a learner can go into.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig909b"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig909b-1.png" alt="Inverse of verse 87:13 ego network" width="1152" />
<p class="caption">
Figure 9.11: Inverse of verse 87:13 ego network
</p>
</div>
<p>Figure <a href="knowledge-through-verse-network.html#fig:ch9fig909b">9.11</a> uses <em>cluster_louvain()</em> as the clustering algorithm. We can see that the coloring schemes (labels) generated some groupings, which can be thought of as groups of distinct messages or themes. If a learner wants to understand them, then he should investigate each of the groupings and discover what are the themes which emerge as the significant elements within each. For a start, we can see that the center of the ego-network is no longer verse 87:13, instead, it is verse 17:15. Why this is the case? This is a classic “inversion” issue - that is when we invert the roles by importance within the entire network, another node becomes the “actual ego center”.</p>
<p>Verse 17:15 reads: <em>“Whoever is guided is only guided for [the benefit of] his soul. And whoever errs only errs against it. And no bearer of burdens will bear the burden of another. And never would We punish until We sent a messenger.”</em> It is about the subject of “guidance” and “no soul is burdened with the sin of others”. What this message implies should be of interest to a learner of the verse, within the context of verse 87:13, inversely.</p>
<p><strong>Summary</strong></p>
<p>How we can traverse the various paths, groupings, clusterings, just based on pointers and layouts as we have presented can be extensive and exhaustive. Thus far, we do not impose our own views on the interpretations of the verse, but instead, allow the “data to speak for itself”. Furthermore, we also show how unsupervised learning models such as the STM model can be applied in combination with knowledge graphs. This is the power of knowledge graphs, and what we have demonstrated is about the tremendous amount of “knowledge” represented by the graph, just for a relatively short verse. We hope that the exercise convinces learners of Al-Quran of the strength and benefit of knowledge graph representations towards the knowledge retrieval process. We envisaged this to be a subject of paramount importance for Quran Analytics.</p>
</div>
<div id="traversals-in-verses-2:255-and-16:90" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Traversals in verses 2:255 and 16:90<a href="knowledge-through-verse-network.html#traversals-in-verses-2:255-and-16:90" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we will show another approach of graph traversals and clustering by joining the networks of two distant verses. The exercise is akin to independently looking at the interpretations of two separate verses together (reading different pages separated by quite a distance). We choose verses “2:255” (Ayat al-Kursi) and “16:90”. “2:255” is well known for its virtues<a href="#fn124" class="footnote-ref" id="fnref124"><sup>124</sup></a> and “16:90” is the command to be fair and just<a href="#fn125" class="footnote-ref" id="fnref125"><sup>125</sup></a>. “2:255” describes many of the beautiful attributes of Allah (SWT). “16:90” summarizes the essence of Akhlaq or morals in Islam. “2:255” is about belief or faith (Iman) and “16:90” is about morals (Akhlaq).</p>
<p>We will take a different approach where 2:255 will be an “outwardly” moving network - that is which other verses 2:255 point to; and for 16:90, we look at which are the verses that interpret it (inwardly). Then we will combine the two networks together.</p>
<p>The “map from” 2:255 is in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig910">9.12</a>. We can see that verse 2:255 interprets many other verses directly (nodes in layer 1), from layer 2 onwards, there are some groupings or clusterings of verses as we move outwardly, about four groupings. These groupings may well be “themes”, “words” or any specific linkages - the subject of which will be known once we delve deeper into the verses and the linkages.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig910"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig910-1.png" alt="Verse 2:255 ego network outwardly" width="1152" />
<p class="caption">
Figure 9.12: Verse 2:255 ego network outwardly
</p>
</div>
<p>The “map towards” 16:90 is in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig911">9.13</a>. The picture is a bit different, where we have many verses converging from many directions (hence sources) towards the center, verse 16:90. Possibly there are no unified themes involved.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig911"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig911-1.png" alt="Verse 16:90 ego network inwardly" width="1152" />
<p class="caption">
Figure 9.13: Verse 16:90 ego network inwardly
</p>
</div>
<p>We will combine these 2 ego graphs, where we have an outwardly 2:255 and inwardly 16:90. This is displayed in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig912">9.14</a>. Now, we can see that verse 16:90 is in the outer layer, grouped under verse 4:48, connected via verse 31:13. Therefore, we can say that verse 16:90 (be fair and just) is part of the “larger” message of verse 2:255 (Ayah Al Kursi), through verse 31:13; and the message of which is contained in verse 31:13.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig912"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig912-1.png" alt="Outwardly map from verse 2:255 towards verse 16:90" width="1152" />
<p class="caption">
Figure 9.14: Outwardly map from verse 2:255 towards verse 16:90
</p>
</div>
<p>Now we invert the position, and make verse 16:90 the center and obtain the “map” in Figure <a href="knowledge-through-verse-network.html#fig:ch9fig913">9.15</a>. The inverted message, from verse 16:90, traversed through verse 31:13, which is the same verse as before (in non-inverted position). However, verse 20:211 becomes the only go-between to the remaining clusters of verse 2:255. The inverted message (of be fair and just) now pass through a “messenger” in-between to the larger message (Ayah Al-Kursi). Note that what we meant by inverted here is the orders are reversed.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch9fig913"></span>
<img src="12-Ch9KnowledgeGraph_files/figure-html/ch9fig913-1.png" alt="Verse 2:255 and 16:90 ego network union with 16:90 as focus node: first degree" width="1152" />
<p class="caption">
Figure 9.15: Verse 2:255 and 16:90 ego network union with 16:90 as focus node: first degree
</p>
</div>
<p><strong>Summary</strong></p>
<p>The various traversals between the two verses which we have shown are another example of how we can use a knowledge graph representation in an unlimited number of ways. The most important point is the learner must set the objectives of learning and then follow a traversal path from the network that emanates from a selected verse. The original written text of Ibnu Katheer only provides the first degree or layer of connections inwardly. With a graph network, we can traverse inwardly or outwardly across many degrees, although “four hops” or “four degrees” will, on average, bring us back to the starting verse. From the path we have chosen, we can then apply some of the “learning algorithms” that we have shown like STM, combined with some of the centrality properties of the network like betweenness.</p>
</div>
<div id="word-cooccurrences-from-Katheer-graph" class="section level2 hasAnchor" number="9.6">
<h2><span class="header-section-number">9.6</span> Word cooccurrences from Katheer Graph<a href="knowledge-through-verse-network.html#word-cooccurrences-from-Katheer-graph" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Word co-occurrences play a major role in language modeling in NLP, as we have explained in Chapters 5, 6, and 7. In fact, when Imam Ibnu Katheer made his commentaries, referring a verse to another, it is a referral based on parts or chunks of the verses. A chunk of a verse, interpreting another chunk. A chunk usually contains a few words. In some ways, we can think of it as like a synonym dictionary. The base of the chunk are words forming the sub-sentence. And when these chunks are “matched” together, we have the words to “co-occur” together. If we take this perspective, what will the word co-occurrence framework look like? Can we learn new things out of it?</p>
<p>Since the subject of the inquiry is a major one, we will not attempt to provide conclusive answers. Instead, we will work through some examples and demonstrate what are the possibilities offered by the methods we present in this book.</p>
<p>First and foremost, we need to note that the “normal” method of word co-occurrences by counting the frequencies of n-grams, as we have shown in Chapter 3, will not be applicable. Instead, we rely on the GloVe model of <em>word-2-vec</em> algorithms. The <em>word-2-vec</em> does not suffer from the problems of “localized” positions of n-grams; wherein n-grams, the exact position of the word in a sequence of sentences and documents matter. GloVe instead creates “global vectors” (as the name represents), where what we want to know is the position of a word in a global sense, and hence less on exact positional sense. Furthermore, GloVe is a dynamic model, where we can change and alter what we set as “global”. The alterations depend on the objective and problem setting the researcher has.</p>
<p>We will apply the GloVe model and see how it works, with a note of caution. We rely on Saheeh’s English translation, which confounds the analysis by an unknown degree since the translation methods and linguistic styles will enter into consideration when we want to interpret the results. Nevertheless, this is sufficient to demonstrate our objectives.</p>
<div id="setting-the-text-data" class="section level3 hasAnchor" number="9.6.1">
<h3><span class="header-section-number">9.6.1</span> Setting the text data<a href="knowledge-through-verse-network.html#setting-the-text-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will again revisit and choose Surah Al-A’laa as our sample data. We will choose the network of verses up to five hops or levels inwardly and combine with five levels outwardly. In total, we have ten levels altogether. For demonstration, we will split the data into “inwardly” and “outwardly”, and finally combine the data as a complete set.</p>
</div>
<div id="what-words-co-occur-together" class="section level3 hasAnchor" number="9.6.2">
<h3><span class="header-section-number">9.6.2</span> What words co-occur together<a href="knowledge-through-verse-network.html#what-words-co-occur-together" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we work with the “inwardly” network. We know from verse 87:13, the words “dying” and “living” are the keywords. Let us study the messages through word co-occurrences using the GloVe model as tabulated below:<a href="#fn126" class="footnote-ref" id="fnref126"><sup>126</sup></a></p>
<p><strong>Inward network Surah Al-A’laa topical word co-occurrences</strong></p>
<table>
<colgroup>
<col width="25%" />
<col width="74%" />
</colgroup>
<thead>
<tr class="header">
<th>Topics</th>
<th>word cooccurrences</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“allah”</td>
<td>allah, bring, knowing, messenger, forget, people, subjugator</td>
</tr>
<tr class="even">
<td>“lord”</td>
<td>lord, desire, believed, truth, nearer, break, sky</td>
</tr>
<tr class="odd">
<td>“living”</td>
<td>living, mention, revealed, eliminates, fine, unquestionably, bedouins</td>
</tr>
<tr class="even">
<td>“dying”</td>
<td>dying, preceded, affairs, alteration, accepting, sharp, sheep</td>
</tr>
<tr class="odd">
<td>“purify”</td>
<td>purify, dwellings, warners, intercession, orphans, resurrection, moderate</td>
</tr>
<tr class="even">
<td>“hell”</td>
<td>hell, revelation, ruin, unquestionably, hoof, invented, needy</td>
</tr>
<tr class="odd">
<td>combined</td>
<td>allah, lord, revealed, subjugator, believed, purify, dying</td>
</tr>
</tbody>
</table>
<p>The results in the table above, say that for the words in the inward text networks, for example, <em>“allah, bring, knowing, messenger, forget, people, subjugator”</em> which co-occurs with the word “allah”, are the “inward” messages coming into Surah Al-A’laa. It is about <em>“bring” and “allah”</em>. This is one way to look at it. Readers can see for themselves for the rest of the topics.</p>
<p><strong>Outward network Surah Al-A’laa topical word co-occurrences</strong></p>
<table>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th>Topics</th>
<th>word cooccurrences</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“allah”</td>
<td>allah, reached, messenger, remember, soul, truth, forgiving</td>
</tr>
<tr class="even">
<td>“lord”</td>
<td>lord, worlds, submissive, worship, exalted, gathering, kinds</td>
</tr>
<tr class="odd">
<td>“living”</td>
<td>living, traveling, afford, dying, close, afternoon, creation</td>
</tr>
<tr class="even">
<td>“dying”</td>
<td>dying, ra, heads, subside, month, increase, living</td>
</tr>
<tr class="odd">
<td>“purify”</td>
<td>purify, stranded, desire, brought, heels, blame, revealed</td>
</tr>
<tr class="even">
<td>“hell”</td>
<td>hell, load, fire, painful, patient, compulsion, beasts</td>
</tr>
<tr class="odd">
<td>combined</td>
<td>allah, living, dying, fear, lord, purify, truth</td>
</tr>
</tbody>
</table>
<p>The results in the table above, say that for the words in the outward text networks, for example, <em>“dying, ra, heads, subside, month, increase, living”</em> which co-occurs with the word “dying”, are the “outward” messages coming from Surah Al-A’laa. It is about <em>“dying, ra, heads, subside”</em>. This is one way to look at it. Readers can see for themselves the remaining topics.</p>
<p><strong>Combined network Surah Al-A’laa topical word co-occurrences</strong></p>
<table>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th>Topics</th>
<th>word cooccurrences</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>“allah”</td>
<td>allah, people, knowing, enemy, change, messenger, bring</td>
</tr>
<tr class="even">
<td>“lord”</td>
<td>lord, truth, inclining, return, fear, worlds, believed</td>
</tr>
<tr class="odd">
<td>“living”</td>
<td>living, shaving, pardoned, submits, delusion, shout, extends</td>
</tr>
<tr class="even">
<td>“dying”</td>
<td>dying, makkah, wandering, painful, lied, stories, exemplary</td>
</tr>
<tr class="odd">
<td>“purify”</td>
<td>purify, told, mouths, seeking, dwellings, messenger, house</td>
</tr>
<tr class="even">
<td>“hell”</td>
<td>hell, fire, relative, concluded, needy, designated, blessings</td>
</tr>
<tr class="odd">
<td>combined</td>
<td>allah, lord, fear, inclining, truth, provision, intend</td>
</tr>
</tbody>
</table>
<p>The results in the table above say that for the words in the combined inward and outward text networks, for example, <em>“hell, fire, relative, concluded, needy, designated, blessings”</em> which co-occurs with the word “hell”, are the full traversed messages for Surah Al-A’laa. It is about <em>“hell, fire, relative, concluded”</em>. This is one way to look at it. The readers should be able to figure out themselves for the rest of the topics.</p>
<p>It is not our intention to use all of these exercises to <strong>interpret</strong> Surah Al-A’laa. What we show is just a methodology to extract information based on a defined objective. The objective is set based on the assumptions that words in a language tend to occur together, and jointly they provide semantical and ontological meaning to the subject of the texts.</p>
</div>
</div>
<div id="summary-chapter-9" class="section level2 hasAnchor" number="9.7">
<h2><span class="header-section-number">9.7</span> Summary<a href="knowledge-through-verse-network.html#summary-chapter-9" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter glues together many concepts, ideas, and methods of NLP tasks, that we have introduced in the earlier chapters based on <strong>R</strong> and the selected packages.</p>
<p>Programming in <strong>R</strong> is not too hard, and the credit mainly goes to the many developers of packages related to NLP. The <em>igraph</em>, <em>ggraph</em>, and the plotting functions of <em>ggplot2</em> are of extreme benefit when we deal with graph objects and their statistical calculations, as well as graph algorithms. For someone with moderate programming experience, a few months of training will get him to a sufficient level to run all the codes we have used here. Someone proficient in any programming language should take less than a month.</p>
<p>Knowledge graphs as representations of a network of information such as the Ibnu Katheer exegesis show both the brilliance and knowledge of Imam Ibnu Katheer and the easiness for us to understand his brilliance and knowledge.</p>
<p>The work we have shown here for Imam Ibnu Katheer Graph for “Tafseer Al-Quran bi Al-Quran” barely scratches the surface. Our intention is to demonstrate the knowledge graph for Quran Analytics and use Tafseer Ibnu Katheer as a sample. It is our view that the many possible further avenues of research are way beyond what we have worked out. Albeit, our purpose was to introduce, rather than to conclude.</p>
<p>For our benefit and the readers, we list what we think are the areas of further research based on some of the results of this chapter:</p>
<ol style="list-style-type: decimal">
<li><p>The full work of Katheer Graph needs to be analyzed using the Arabic language as its source of text. Note that in the work of this chapter, we use the English translations only when we want to provide some textual results based on the verses groupings. The main results, which are “numbers and pointers” do not assume any language. It is just data as is. Everything that we have done, can be performed in Arabic without any problem. Even the GloVe model is language independent. This is what we meant by non-parametric models of NLP where the dependency on any pre-built model is avoided.</p></li>
<li><p>There are more methods of discovery for the Katheer Graph which we have not tried. Exploring these methods certainly involves advanced research that is suitable for Ph.D. thesis and research papers. The brilliance and knowledge of Imam Ibnu Katheer of Al-Quran and his methodologies are hidden gems. The fastest method to do this is to apply knowledge graphs on a larger scale; that is to convert and annotate at the “words” level, on top, and above the verse level. This can be combined with his annotations of Al-Hadith, and his commentaries. Only then, we will have a full appreciation of the exegesis work by Imam Ibnu Katheer.</p></li>
<li><p>Utilization of unsupervised learning models for NLP tasks, like GloVe algorithms, deep learning, and Graph NLP, is still among the fresh fields of knowledge and discovery. Applications to Quran Analytics using these new tools are scarce. We envisage that combining Knowledge Graph, Graph Theory, Systems Theory, Unsupervised Learning NLP modeling, combined with Artificial Intelligence and Machine Learning computing algorithms will be among the potent and powerful tools for studies of Al-Quran and Islamic knowledge and sciences.</p></li>
</ol>
<p>Quran Analytics will be the starting point for us to develop and implement full-scale knowledge extraction systems from classical sources and writings on Al-Quran. We feel that the day for realizing this is coming very soon.</p>
</div>
<div id="further-readings-8" class="section level2 hasAnchor" number="9.8">
<h2><span class="header-section-number">9.8</span> Further readings<a href="knowledge-through-verse-network.html#further-readings-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Barabasi, A.-L. (2016). <em>Network Science</em>. Cambridge University Press, Cambridge, Massachussetts</p>
<p>Blumauer, A. (2016). <em>From taxonomies over ontologies to knowledge graphs.</em> Available at <a href="https://semantic-web.com/2014/07/15/from-taxonomies-overontologies-to-knowledge-graphs/" class="uri">https://semantic-web.com/2014/07/15/from-taxonomies-overontologies-to-knowledge-graphs/</a> (2021/02/16).
Paulheim, H. (2016). <em>Knowledge graph refinement: A survey of approaches and evaluation methods.</em> Semantic Web Journal, Preprint:1–20.</p>
<p>Reinanda, R.,Meij,E., and de Rijke, M.(2020). <em>Knowledge graphs: An information retrieval perspective.</em> Foundations and Trends in Information Retrieval, 14(4):289–444.</p>
<p>Singhal, A. (2012). <em>Introducing the knowledge graph: things, not strings.</em> Available at <a href="https://blog.google/products/search/introducing-knowledge-graphthings-not/" class="uri">https://blog.google/products/search/introducing-knowledge-graphthings-not/</a> (2021/02/16).</p>
<div style="page-break-after: always;"></div>
</div>
<div id="appendix-1" class="section level2 unnumbered hasAnchor">
<h2>Appendix<a href="knowledge-through-verse-network.html#appendix-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Codes for Chapter 9</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="knowledge-through-verse-network.html#cb229-1" tabindex="-1"></a><span class="do">### Source for Chapter 9 codes</span></span>
<span id="cb229-2"><a href="knowledge-through-verse-network.html#cb229-2" tabindex="-1"></a><span class="do">## Wan M Hasni and Azman Hussin</span></span>
<span id="cb229-3"><a href="knowledge-through-verse-network.html#cb229-3" tabindex="-1"></a><span class="do">## This codes will be run prior to running the Rmd files for Chapter 9</span></span>
<span id="cb229-4"><a href="knowledge-through-verse-network.html#cb229-4" tabindex="-1"></a></span>
<span id="cb229-5"><a href="knowledge-through-verse-network.html#cb229-5" tabindex="-1"></a><span class="do">## load quran sahih </span></span>
<span id="cb229-6"><a href="knowledge-through-verse-network.html#cb229-6" tabindex="-1"></a>kvertices <span class="ot">&lt;-</span> quran_en_sahih <span class="sc">%&gt;%</span> </span>
<span id="cb229-7"><a href="knowledge-through-verse-network.html#cb229-7" tabindex="-1"></a>  <span class="fu">select</span>(ayah_title, surah_id, ayah, ayah_id,</span>
<span id="cb229-8"><a href="knowledge-through-verse-network.html#cb229-8" tabindex="-1"></a>         surah_title_en, revelation_type, text)</span>
<span id="cb229-9"><a href="knowledge-through-verse-network.html#cb229-9" tabindex="-1"></a></span>
<span id="cb229-10"><a href="knowledge-through-verse-network.html#cb229-10" tabindex="-1"></a><span class="do">## load ibnu_kathir and process</span></span>
<span id="cb229-11"><a href="knowledge-through-verse-network.html#cb229-11" tabindex="-1"></a>kathir <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/ibn_kathir_similarity.csv&quot;</span>, </span>
<span id="cb229-12"><a href="knowledge-through-verse-network.html#cb229-12" tabindex="-1"></a>                   <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">ID =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-13"><a href="knowledge-through-verse-network.html#cb229-13" tabindex="-1"></a>                                    <span class="at">Source_Sura =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-14"><a href="knowledge-through-verse-network.html#cb229-14" tabindex="-1"></a>                                    <span class="at">Source_Verse =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-15"><a href="knowledge-through-verse-network.html#cb229-15" tabindex="-1"></a>                                    <span class="at">Target_verse =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-16"><a href="knowledge-through-verse-network.html#cb229-16" tabindex="-1"></a>                                    <span class="at">common_roots =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-17"><a href="knowledge-through-verse-network.html#cb229-17" tabindex="-1"></a>                                    <span class="at">relevance_degree =</span> <span class="fu">col_integer</span>(), </span>
<span id="cb229-18"><a href="knowledge-through-verse-network.html#cb229-18" tabindex="-1"></a>                                    <span class="at">target_sura =</span> <span class="fu">col_integer</span>()))</span>
<span id="cb229-19"><a href="knowledge-through-verse-network.html#cb229-19" tabindex="-1"></a>kathir <span class="ot">&lt;-</span> kathir <span class="sc">%&gt;%</span> </span>
<span id="cb229-20"><a href="knowledge-through-verse-network.html#cb229-20" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">SourceSura =</span> Source_Sura, <span class="at">SourceAyah =</span> Source_Verse,</span>
<span id="cb229-21"><a href="knowledge-through-verse-network.html#cb229-21" tabindex="-1"></a>         <span class="at">TargetSura =</span> target_sura, <span class="at">TargetAyah =</span> Target_verse)</span>
<span id="cb229-22"><a href="knowledge-through-verse-network.html#cb229-22" tabindex="-1"></a></span>
<span id="cb229-23"><a href="knowledge-through-verse-network.html#cb229-23" tabindex="-1"></a>kathir <span class="ot">&lt;-</span> kathir <span class="sc">%&gt;%</span> </span>
<span id="cb229-24"><a href="knowledge-through-verse-network.html#cb229-24" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span>  </span>
<span id="cb229-25"><a href="knowledge-through-verse-network.html#cb229-25" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">str_c</span>(<span class="fu">as.character</span>(SourceSura),</span>
<span id="cb229-26"><a href="knowledge-through-verse-network.html#cb229-26" tabindex="-1"></a>                      <span class="fu">as.character</span>(SourceAyah),<span class="at">sep =</span> <span class="st">&quot;:&quot;</span>),</span>
<span id="cb229-27"><a href="knowledge-through-verse-network.html#cb229-27" tabindex="-1"></a>         <span class="at">to =</span> <span class="fu">str_c</span>(<span class="fu">as.character</span>(TargetSura),</span>
<span id="cb229-28"><a href="knowledge-through-verse-network.html#cb229-28" tabindex="-1"></a>                    <span class="fu">as.character</span>(TargetAyah),<span class="at">sep =</span> <span class="st">&quot;:&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb229-29"><a href="knowledge-through-verse-network.html#cb229-29" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">weight =</span> relevance_degree)</span>
<span id="cb229-30"><a href="knowledge-through-verse-network.html#cb229-30" tabindex="-1"></a></span>
<span id="cb229-31"><a href="knowledge-through-verse-network.html#cb229-31" tabindex="-1"></a><span class="do">## create edge-list</span></span>
<span id="cb229-32"><a href="knowledge-through-verse-network.html#cb229-32" tabindex="-1"></a>kedges <span class="ot">&lt;-</span> kathir <span class="sc">%&gt;%</span> </span>
<span id="cb229-33"><a href="knowledge-through-verse-network.html#cb229-33" tabindex="-1"></a>                <span class="fu">select</span>(from, to, SourceSura, SourceAyah, TargetSura, </span>
<span id="cb229-34"><a href="knowledge-through-verse-network.html#cb229-34" tabindex="-1"></a>                       TargetAyah, common_roots, weight)</span>
<span id="cb229-35"><a href="knowledge-through-verse-network.html#cb229-35" tabindex="-1"></a></span>
<span id="cb229-36"><a href="knowledge-through-verse-network.html#cb229-36" tabindex="-1"></a>kg <span class="ot">=</span> <span class="fu">graph_from_data_frame</span>(kedges, <span class="at">directed =</span> <span class="cn">TRUE</span>, <span class="at">vertices =</span> kvertices)</span>
<span id="cb229-37"><a href="knowledge-through-verse-network.html#cb229-37" tabindex="-1"></a></span>
<span id="cb229-38"><a href="knowledge-through-verse-network.html#cb229-38" tabindex="-1"></a><span class="do">## read files for nodes and attributes from gephi output</span></span>
<span id="cb229-39"><a href="knowledge-through-verse-network.html#cb229-39" tabindex="-1"></a>ik_gephi <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/ik1_nodes.csv&quot;</span>)</span>
<span id="cb229-40"><a href="knowledge-through-verse-network.html#cb229-40" tabindex="-1"></a></span>
<span id="cb229-41"><a href="knowledge-through-verse-network.html#cb229-41" tabindex="-1"></a><span class="do">## Katheer Graph Network stats</span></span>
<span id="cb229-42"><a href="knowledge-through-verse-network.html#cb229-42" tabindex="-1"></a>kg_degree <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&quot;verse&quot;</span><span class="ot">=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6236</span>, <span class="st">&quot;degree&quot;</span><span class="ot">=</span> <span class="fu">degree</span>(kg))</span>
<span id="cb229-43"><a href="knowledge-through-verse-network.html#cb229-43" tabindex="-1"></a>fig901a <span class="ot">=</span> kg_degree <span class="sc">%&gt;%</span>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb229-44"><a href="knowledge-through-verse-network.html#cb229-44" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>verse,<span class="at">y=</span>degree), <span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb229-45"><a href="knowledge-through-verse-network.html#cb229-45" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;A: Degree of verses&quot;</span>,<span class="at">x =</span> <span class="st">&quot;Verse&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Degree&quot;</span>)</span>
<span id="cb229-46"><a href="knowledge-through-verse-network.html#cb229-46" tabindex="-1"></a></span>
<span id="cb229-47"><a href="knowledge-through-verse-network.html#cb229-47" tabindex="-1"></a>kg_degree_ranked <span class="ot">=</span> kg_degree[<span class="fu">rev</span>(<span class="fu">order</span>(kg_degree<span class="sc">$</span>degree)),]</span>
<span id="cb229-48"><a href="knowledge-through-verse-network.html#cb229-48" tabindex="-1"></a></span>
<span id="cb229-49"><a href="knowledge-through-verse-network.html#cb229-49" tabindex="-1"></a>fig901b <span class="ot">=</span> kg_degree_ranked <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(degree) <span class="sc">%&gt;%</span> <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb229-50"><a href="knowledge-through-verse-network.html#cb229-50" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">log</span>(degree), <span class="at">y=</span><span class="fu">log</span>(n))) <span class="sc">+</span> </span>
<span id="cb229-51"><a href="knowledge-through-verse-network.html#cb229-51" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">&quot;steelblue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb229-52"><a href="knowledge-through-verse-network.html#cb229-52" tabindex="-1"></a>  <span class="fu">geom_path</span>() <span class="sc">+</span></span>
<span id="cb229-53"><a href="knowledge-through-verse-network.html#cb229-53" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;B: Rank frequency distributions&quot;</span>, </span>
<span id="cb229-54"><a href="knowledge-through-verse-network.html#cb229-54" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Log of Degree&quot;</span>, </span>
<span id="cb229-55"><a href="knowledge-through-verse-network.html#cb229-55" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Log of Rank Frequency&quot;</span>)</span>
<span id="cb229-56"><a href="knowledge-through-verse-network.html#cb229-56" tabindex="-1"></a></span>
<span id="cb229-57"><a href="knowledge-through-verse-network.html#cb229-57" tabindex="-1"></a>kg_dist_table <span class="ot">=</span> <span class="fu">distance_table</span>(kg)</span>
<span id="cb229-58"><a href="knowledge-through-verse-network.html#cb229-58" tabindex="-1"></a></span>
<span id="cb229-59"><a href="knowledge-through-verse-network.html#cb229-59" tabindex="-1"></a>fig902 <span class="ot">=</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">35</span>,<span class="at">y=</span>kg_dist_table<span class="sc">$</span>res), <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>,<span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb229-60"><a href="knowledge-through-verse-network.html#cb229-60" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Distance&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Frequency&quot;</span>)<span class="sc">+</span></span>
<span id="cb229-61"><a href="knowledge-through-verse-network.html#cb229-61" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma)<span class="sc">+</span></span>
<span id="cb229-62"><a href="knowledge-through-verse-network.html#cb229-62" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Katheer Graph Path Lengths Distributions&quot;</span>)<span class="sc">+</span></span>
<span id="cb229-63"><a href="knowledge-through-verse-network.html#cb229-63" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb229-64"><a href="knowledge-through-verse-network.html#cb229-64" tabindex="-1"></a></span>
<span id="cb229-65"><a href="knowledge-through-verse-network.html#cb229-65" tabindex="-1"></a>kgd <span class="ot">=</span> <span class="fu">distances</span>(kg, <span class="at">v =</span> <span class="fu">V</span>(kg), <span class="at">to =</span> <span class="fu">V</span>(kg), <span class="at">mode =</span> <span class="st">&quot;in&quot;</span>)</span>
<span id="cb229-66"><a href="knowledge-through-verse-network.html#cb229-66" tabindex="-1"></a><span class="co"># kgsp = shortest_paths(kg,from = &quot;6:25&quot;, to = V(kg), mode = &quot;in&quot;)</span></span>
<span id="cb229-67"><a href="knowledge-through-verse-network.html#cb229-67" tabindex="-1"></a>fig903a <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&quot;x&quot;</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6236</span>, <span class="st">&quot;y&quot;</span> <span class="ot">=</span> kgd[,<span class="st">&quot;6:25&quot;</span>]) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(x,y), <span class="at">color=</span><span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-68"><a href="knowledge-through-verse-network.html#cb229-68" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Verses&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Distance&quot;</span>)</span>
<span id="cb229-69"><a href="knowledge-through-verse-network.html#cb229-69" tabindex="-1"></a></span>
<span id="cb229-70"><a href="knowledge-through-verse-network.html#cb229-70" tabindex="-1"></a>fig903b <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="st">&quot;x&quot;</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6236</span>, <span class="st">&quot;y&quot;</span> <span class="ot">=</span> kgd[,<span class="st">&quot;6:25&quot;</span>]) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(y), <span class="at">color=</span><span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-71"><a href="knowledge-through-verse-network.html#cb229-71" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Verses&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Distance&quot;</span>)  </span>
<span id="cb229-72"><a href="knowledge-through-verse-network.html#cb229-72" tabindex="-1"></a></span>
<span id="cb229-73"><a href="knowledge-through-verse-network.html#cb229-73" tabindex="-1"></a><span class="do">## fig903: Centrality measures of verses in Ibnu Katheer: Prestige vs Betweeness</span></span>
<span id="cb229-74"><a href="knowledge-through-verse-network.html#cb229-74" tabindex="-1"></a>fig903c <span class="ot">=</span> ik_gephi <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> eigencentrality, <span class="at">y =</span> betweenesscentrality)) <span class="sc">+</span> </span>
<span id="cb229-75"><a href="knowledge-through-verse-network.html#cb229-75" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-76"><a href="knowledge-through-verse-network.html#cb229-76" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">label=</span>ik_gephi<span class="sc">$</span>Id, <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb229-77"><a href="knowledge-through-verse-network.html#cb229-77" tabindex="-1"></a>            <span class="at">nudge_x =</span> <span class="fl">0.05</span>, <span class="at">nudge_y =</span> <span class="fl">0.05</span>, </span>
<span id="cb229-78"><a href="knowledge-through-verse-network.html#cb229-78" tabindex="-1"></a>            <span class="at">check_overlap =</span> T) <span class="sc">+</span></span>
<span id="cb229-79"><a href="knowledge-through-verse-network.html#cb229-79" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Prestige Centrality&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Betweenness Centrality&quot;</span>,</span>
<span id="cb229-80"><a href="knowledge-through-verse-network.html#cb229-80" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Centrality Measures of verses in Ibnu Katheer&quot;</span>,</span>
<span id="cb229-81"><a href="knowledge-through-verse-network.html#cb229-81" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Prestige vs Betweeness&quot;</span>)<span class="sc">+</span></span>
<span id="cb229-82"><a href="knowledge-through-verse-network.html#cb229-82" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb229-83"><a href="knowledge-through-verse-network.html#cb229-83" tabindex="-1"></a><span class="do">## fig904: Centrality measures of verses in Ibnu Katheer: Pageranks vs Authority</span></span>
<span id="cb229-84"><a href="knowledge-through-verse-network.html#cb229-84" tabindex="-1"></a>fig904 <span class="ot">=</span> ik_gephi <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>pageranks, <span class="at">y=</span>Authority)) <span class="sc">+</span></span>
<span id="cb229-85"><a href="knowledge-through-verse-network.html#cb229-85" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb229-86"><a href="knowledge-through-verse-network.html#cb229-86" tabindex="-1"></a>  <span class="fu">geom_text</span>( <span class="fu">aes</span>(<span class="at">label=</span>ik_gephi<span class="sc">$</span>Id), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">check_overlap =</span> T) <span class="sc">+</span></span>
<span id="cb229-87"><a href="knowledge-through-verse-network.html#cb229-87" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Pageranks&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Authority&quot;</span>,</span>
<span id="cb229-88"><a href="knowledge-through-verse-network.html#cb229-88" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Centrality Measures of verses in Ibnu Katheer&quot;</span>,</span>
<span id="cb229-89"><a href="knowledge-through-verse-network.html#cb229-89" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Pageranks vs Authority&quot;</span>)<span class="sc">+</span></span>
<span id="cb229-90"><a href="knowledge-through-verse-network.html#cb229-90" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb229-91"><a href="knowledge-through-verse-network.html#cb229-91" tabindex="-1"></a></span>
<span id="cb229-92"><a href="knowledge-through-verse-network.html#cb229-92" tabindex="-1"></a><span class="do">## TRAVERSALS IN SURAH AL-A&#39;ALAA</span></span>
<span id="cb229-93"><a href="knowledge-through-verse-network.html#cb229-93" tabindex="-1"></a></span>
<span id="cb229-94"><a href="knowledge-through-verse-network.html#cb229-94" tabindex="-1"></a><span class="do">## create the df for edges</span></span>
<span id="cb229-95"><a href="knowledge-through-verse-network.html#cb229-95" tabindex="-1"></a>surah87_l1 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(to,<span class="st">&quot;87:&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-96"><a href="knowledge-through-verse-network.html#cb229-96" tabindex="-1"></a>surah87_l2 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> surah87_l1<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-97"><a href="knowledge-through-verse-network.html#cb229-97" tabindex="-1"></a>surah87_l3 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> surah87_l2<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-98"><a href="knowledge-through-verse-network.html#cb229-98" tabindex="-1"></a>surah87_l4 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> surah87_l3<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-99"><a href="knowledge-through-verse-network.html#cb229-99" tabindex="-1"></a>surah87_l5 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> surah87_l4<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-100"><a href="knowledge-through-verse-network.html#cb229-100" tabindex="-1"></a></span>
<span id="cb229-101"><a href="knowledge-through-verse-network.html#cb229-101" tabindex="-1"></a><span class="do">## Topic modeling within the verses</span></span>
<span id="cb229-102"><a href="knowledge-through-verse-network.html#cb229-102" tabindex="-1"></a></span>
<span id="cb229-103"><a href="knowledge-through-verse-network.html#cb229-103" tabindex="-1"></a><span class="co"># 1. create a function to be used</span></span>
<span id="cb229-104"><a href="knowledge-through-verse-network.html#cb229-104" tabindex="-1"></a><span class="do">## Use STM model for topics, get Topics as output</span></span>
<span id="cb229-105"><a href="knowledge-through-verse-network.html#cb229-105" tabindex="-1"></a>surah87_topics <span class="ot">=</span> <span class="cf">function</span>(txt87){</span>
<span id="cb229-106"><a href="knowledge-through-verse-network.html#cb229-106" tabindex="-1"></a>                    dfm_txt87 <span class="ot">=</span> quanteda<span class="sc">::</span><span class="fu">tokens</span>(txt87,<span class="st">&quot;word&quot;</span>,<span class="at">remove_punct =</span> T,</span>
<span id="cb229-107"><a href="knowledge-through-verse-network.html#cb229-107" tabindex="-1"></a>                               <span class="at">remove_symbols=</span>T,</span>
<span id="cb229-108"><a href="knowledge-through-verse-network.html#cb229-108" tabindex="-1"></a>                               <span class="at">remove_numbers=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb229-109"><a href="knowledge-through-verse-network.html#cb229-109" tabindex="-1"></a>                    quanteda<span class="sc">::</span><span class="fu">tokens_tolower</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb229-110"><a href="knowledge-through-verse-network.html#cb229-110" tabindex="-1"></a>                    quanteda<span class="sc">::</span><span class="fu">tokens_remove</span>(quanteda<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>)) <span class="sc">%&gt;%</span>  </span>
<span id="cb229-111"><a href="knowledge-through-verse-network.html#cb229-111" tabindex="-1"></a>                    quanteda<span class="sc">::</span><span class="fu">dfm</span>()</span>
<span id="cb229-112"><a href="knowledge-through-verse-network.html#cb229-112" tabindex="-1"></a>                    stmdfm_txt87 <span class="ot">=</span> quanteda<span class="sc">::</span><span class="fu">convert</span>(dfm_txt87, <span class="at">to =</span> <span class="st">&quot;stm&quot;</span>) </span>
<span id="cb229-113"><a href="knowledge-through-verse-network.html#cb229-113" tabindex="-1"></a>                    stm_txt87 <span class="ot">=</span> stm<span class="sc">::</span><span class="fu">stm</span>(stmdfm_txt87<span class="sc">$</span>documents, </span>
<span id="cb229-114"><a href="knowledge-through-verse-network.html#cb229-114" tabindex="-1"></a>                                         stmdfm_txt87<span class="sc">$</span>vocab, <span class="at">K =</span> <span class="dv">3</span>, <span class="at">verbose =</span> F,</span>
<span id="cb229-115"><a href="knowledge-through-verse-network.html#cb229-115" tabindex="-1"></a>                                         <span class="at">data =</span> stmdfm_txt87<span class="sc">$</span>meta, </span>
<span id="cb229-116"><a href="knowledge-through-verse-network.html#cb229-116" tabindex="-1"></a>                                         <span class="at">init.type =</span> <span class="st">&quot;Spectral&quot;</span>)</span>
<span id="cb229-117"><a href="knowledge-through-verse-network.html#cb229-117" tabindex="-1"></a>                    stm<span class="sc">::</span><span class="fu">labelTopics</span>(stm_txt87, <span class="fu">c</span>(<span class="dv">1</span>), <span class="at">n =</span> <span class="dv">10</span>)}</span>
<span id="cb229-118"><a href="knowledge-through-verse-network.html#cb229-118" tabindex="-1"></a></span>
<span id="cb229-119"><a href="knowledge-through-verse-network.html#cb229-119" tabindex="-1"></a><span class="do">## 2. Run using the function</span></span>
<span id="cb229-120"><a href="knowledge-through-verse-network.html#cb229-120" tabindex="-1"></a></span>
<span id="cb229-121"><a href="knowledge-through-verse-network.html#cb229-121" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> surah87_l1<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-122"><a href="knowledge-through-verse-network.html#cb229-122" tabindex="-1"></a>topics_l0 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-123"><a href="knowledge-through-verse-network.html#cb229-123" tabindex="-1"></a></span>
<span id="cb229-124"><a href="knowledge-through-verse-network.html#cb229-124" tabindex="-1"></a>surah87n_l1 <span class="ot">=</span> surah87_l1</span>
<span id="cb229-125"><a href="knowledge-through-verse-network.html#cb229-125" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-126"><a href="knowledge-through-verse-network.html#cb229-126" tabindex="-1"></a>                                    <span class="fu">c</span>(surah87n_l1<span class="sc">$</span>from,surah87n_l1<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-127"><a href="knowledge-through-verse-network.html#cb229-127" tabindex="-1"></a>topics_l1 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-128"><a href="knowledge-through-verse-network.html#cb229-128" tabindex="-1"></a></span>
<span id="cb229-129"><a href="knowledge-through-verse-network.html#cb229-129" tabindex="-1"></a>surah87n_l2 <span class="ot">=</span> <span class="fu">bind_rows</span>(surah87_l1,surah87_l2)</span>
<span id="cb229-130"><a href="knowledge-through-verse-network.html#cb229-130" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-131"><a href="knowledge-through-verse-network.html#cb229-131" tabindex="-1"></a>                                    <span class="fu">c</span>(surah87n_l2<span class="sc">$</span>from,surah87n_l2<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-132"><a href="knowledge-through-verse-network.html#cb229-132" tabindex="-1"></a>topics_l2 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-133"><a href="knowledge-through-verse-network.html#cb229-133" tabindex="-1"></a></span>
<span id="cb229-134"><a href="knowledge-through-verse-network.html#cb229-134" tabindex="-1"></a>surah87n_l3 <span class="ot">=</span> <span class="fu">bind_rows</span>(surah87_l1,surah87_l2,surah87_l3)</span>
<span id="cb229-135"><a href="knowledge-through-verse-network.html#cb229-135" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-136"><a href="knowledge-through-verse-network.html#cb229-136" tabindex="-1"></a>                                    <span class="fu">c</span>(surah87n_l3<span class="sc">$</span>from,surah87n_l3<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-137"><a href="knowledge-through-verse-network.html#cb229-137" tabindex="-1"></a>topics_l3 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-138"><a href="knowledge-through-verse-network.html#cb229-138" tabindex="-1"></a></span>
<span id="cb229-139"><a href="knowledge-through-verse-network.html#cb229-139" tabindex="-1"></a>surah87n_l4 <span class="ot">=</span> <span class="fu">bind_rows</span>(surah87_l1,surah87_l2,surah87_l3,surah87_l4)</span>
<span id="cb229-140"><a href="knowledge-through-verse-network.html#cb229-140" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-141"><a href="knowledge-through-verse-network.html#cb229-141" tabindex="-1"></a>                                    <span class="fu">c</span>(surah87n_l4<span class="sc">$</span>from,surah87n_l4<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-142"><a href="knowledge-through-verse-network.html#cb229-142" tabindex="-1"></a>topics_l4 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-143"><a href="knowledge-through-verse-network.html#cb229-143" tabindex="-1"></a></span>
<span id="cb229-144"><a href="knowledge-through-verse-network.html#cb229-144" tabindex="-1"></a>surah87n_l5 <span class="ot">=</span> <span class="fu">bind_rows</span>(surah87_l1,surah87_l2,surah87_l3,surah87_l4,surah87_l5)</span>
<span id="cb229-145"><a href="knowledge-through-verse-network.html#cb229-145" tabindex="-1"></a>txt87 <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-146"><a href="knowledge-through-verse-network.html#cb229-146" tabindex="-1"></a>                                    <span class="fu">c</span>(surah87n_l5<span class="sc">$</span>from,surah87n_l5<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-147"><a href="knowledge-through-verse-network.html#cb229-147" tabindex="-1"></a>topics_l5 <span class="ot">=</span> <span class="fu">paste</span>(<span class="fu">surah87_topics</span>(txt87)[[<span class="st">&quot;prob&quot;</span>]][<span class="dv">1</span>,], <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb229-148"><a href="knowledge-through-verse-network.html#cb229-148" tabindex="-1"></a></span>
<span id="cb229-149"><a href="knowledge-through-verse-network.html#cb229-149" tabindex="-1"></a><span class="do">## outputs are: topics_l1,..,l5</span></span>
<span id="cb229-150"><a href="knowledge-through-verse-network.html#cb229-150" tabindex="-1"></a></span>
<span id="cb229-151"><a href="knowledge-through-verse-network.html#cb229-151" tabindex="-1"></a><span class="do">## 3. create igraph from edge list created above</span></span>
<span id="cb229-152"><a href="knowledge-through-verse-network.html#cb229-152" tabindex="-1"></a></span>
<span id="cb229-153"><a href="knowledge-through-verse-network.html#cb229-153" tabindex="-1"></a>surah87_net <span class="ot">=</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(surah87n_l5), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb229-154"><a href="knowledge-through-verse-network.html#cb229-154" tabindex="-1"></a></span>
<span id="cb229-155"><a href="knowledge-through-verse-network.html#cb229-155" tabindex="-1"></a><span class="do">## then create measures to be quoted inside Rmd texts</span></span>
<span id="cb229-156"><a href="knowledge-through-verse-network.html#cb229-156" tabindex="-1"></a>ayat_topdegree <span class="ot">=</span> <span class="fu">degree</span>(surah87_net)</span>
<span id="cb229-157"><a href="knowledge-through-verse-network.html#cb229-157" tabindex="-1"></a>ayat_topdegree <span class="ot">=</span> ayat_topdegree[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_topdegree))]</span>
<span id="cb229-158"><a href="knowledge-through-verse-network.html#cb229-158" tabindex="-1"></a>ayat_topdegree <span class="ot">=</span> <span class="fu">names</span>(ayat_topdegree[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb229-159"><a href="knowledge-through-verse-network.html#cb229-159" tabindex="-1"></a></span>
<span id="cb229-160"><a href="knowledge-through-verse-network.html#cb229-160" tabindex="-1"></a>ayat_topbtwn <span class="ot">=</span> <span class="fu">betweenness</span>(surah87_net)</span>
<span id="cb229-161"><a href="knowledge-through-verse-network.html#cb229-161" tabindex="-1"></a>ayat_topbtwn <span class="ot">=</span> ayat_topbtwn[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_topbtwn))]</span>
<span id="cb229-162"><a href="knowledge-through-verse-network.html#cb229-162" tabindex="-1"></a>ayat_topbtwn <span class="ot">=</span> <span class="fu">names</span>(ayat_topbtwn[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb229-163"><a href="knowledge-through-verse-network.html#cb229-163" tabindex="-1"></a></span>
<span id="cb229-164"><a href="knowledge-through-verse-network.html#cb229-164" tabindex="-1"></a>ayat_topevcent <span class="ot">=</span> <span class="fu">eigen_centrality</span>(surah87_net)<span class="sc">$</span>vector</span>
<span id="cb229-165"><a href="knowledge-through-verse-network.html#cb229-165" tabindex="-1"></a>ayat_topevcent <span class="ot">=</span> ayat_topevcent[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_topevcent))]</span>
<span id="cb229-166"><a href="knowledge-through-verse-network.html#cb229-166" tabindex="-1"></a>ayat_topevcent <span class="ot">=</span> <span class="fu">names</span>(ayat_topevcent[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb229-167"><a href="knowledge-through-verse-network.html#cb229-167" tabindex="-1"></a></span>
<span id="cb229-168"><a href="knowledge-through-verse-network.html#cb229-168" tabindex="-1"></a></span>
<span id="cb229-169"><a href="knowledge-through-verse-network.html#cb229-169" tabindex="-1"></a><span class="do">## make some changes to the data, replace _ with :</span></span>
<span id="cb229-170"><a href="knowledge-through-verse-network.html#cb229-170" tabindex="-1"></a>ik_gephi<span class="sc">$</span>idnew <span class="ot">=</span><span class="fu">str_replace</span>(ik_gephi<span class="sc">$</span>Id, <span class="st">&quot;_&quot;</span>,<span class="st">&quot;:&quot;</span>) <span class="co"># change the separator</span></span>
<span id="cb229-171"><a href="knowledge-through-verse-network.html#cb229-171" tabindex="-1"></a></span>
<span id="cb229-172"><a href="knowledge-through-verse-network.html#cb229-172" tabindex="-1"></a><span class="do">## create more variables to use for the tables in Rmd document</span></span>
<span id="cb229-173"><a href="knowledge-through-verse-network.html#cb229-173" tabindex="-1"></a>ayat_ovtdg <span class="ot">=</span> ik_gephi <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idnew <span class="sc">%in%</span> <span class="fu">c</span>(surah87n_l5<span class="sc">$</span>from,surah87n_l5<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> </span>
<span id="cb229-174"><a href="knowledge-through-verse-network.html#cb229-174" tabindex="-1"></a>                              <span class="fu">select</span>(idnew, Degree,eigencentrality,betweenesscentrality) </span>
<span id="cb229-175"><a href="knowledge-through-verse-network.html#cb229-175" tabindex="-1"></a>ayatdg <span class="ot">=</span> ayat_ovtdg[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_ovtdg<span class="sc">$</span>Degree)),]</span>
<span id="cb229-176"><a href="knowledge-through-verse-network.html#cb229-176" tabindex="-1"></a>ayatbw <span class="ot">=</span> ayat_ovtdg[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_ovtdg<span class="sc">$</span>betweenesscentrality)),]</span>
<span id="cb229-177"><a href="knowledge-through-verse-network.html#cb229-177" tabindex="-1"></a>ayatev <span class="ot">=</span> ayat_ovtdg[<span class="fu">rev</span>(<span class="fu">order</span>(ayat_ovtdg<span class="sc">$</span>eigencentrality)),]</span>
<span id="cb229-178"><a href="knowledge-through-verse-network.html#cb229-178" tabindex="-1"></a></span>
<span id="cb229-179"><a href="knowledge-through-verse-network.html#cb229-179" tabindex="-1"></a><span class="do">## topics for top 10 grouped by Surah 87 net measures</span></span>
<span id="cb229-180"><a href="knowledge-through-verse-network.html#cb229-180" tabindex="-1"></a></span>
<span id="cb229-181"><a href="knowledge-through-verse-network.html#cb229-181" tabindex="-1"></a>topd10txt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> ayat_topdegree) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-182"><a href="knowledge-through-verse-network.html#cb229-182" tabindex="-1"></a>td10 <span class="ot">=</span> <span class="fu">surah87_topics</span>(topd10txt)</span>
<span id="cb229-183"><a href="knowledge-through-verse-network.html#cb229-183" tabindex="-1"></a>topb10txt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> ayat_topbtwn) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-184"><a href="knowledge-through-verse-network.html#cb229-184" tabindex="-1"></a>tb10 <span class="ot">=</span> <span class="fu">surah87_topics</span>(topb10txt)</span>
<span id="cb229-185"><a href="knowledge-through-verse-network.html#cb229-185" tabindex="-1"></a></span>
<span id="cb229-186"><a href="knowledge-through-verse-network.html#cb229-186" tabindex="-1"></a>ayatd10txt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> ayatdg<span class="sc">$</span>idnew[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-187"><a href="knowledge-through-verse-network.html#cb229-187" tabindex="-1"></a>ad10 <span class="ot">=</span> <span class="fu">surah87_topics</span>(ayatd10txt)</span>
<span id="cb229-188"><a href="knowledge-through-verse-network.html#cb229-188" tabindex="-1"></a>ayatb10txt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> ayatbw<span class="sc">$</span>idnew[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-189"><a href="knowledge-through-verse-network.html#cb229-189" tabindex="-1"></a>ab10 <span class="ot">=</span> <span class="fu">surah87_topics</span>(ayatb10txt)</span>
<span id="cb229-190"><a href="knowledge-through-verse-network.html#cb229-190" tabindex="-1"></a><span class="do">## outputs used inside the Rmd text</span></span>
<span id="cb229-191"><a href="knowledge-through-verse-network.html#cb229-191" tabindex="-1"></a></span>
<span id="cb229-192"><a href="knowledge-through-verse-network.html#cb229-192" tabindex="-1"></a><span class="do">#######################</span></span>
<span id="cb229-193"><a href="knowledge-through-verse-network.html#cb229-193" tabindex="-1"></a><span class="do">## Traversing verse 13 Surah Al-A&#39;laa </span></span>
<span id="cb229-194"><a href="knowledge-through-verse-network.html#cb229-194" tabindex="-1"></a></span>
<span id="cb229-195"><a href="knowledge-through-verse-network.html#cb229-195" tabindex="-1"></a><span class="do">## capture the edges for Surah Al-A&#39;laa</span></span>
<span id="cb229-196"><a href="knowledge-through-verse-network.html#cb229-196" tabindex="-1"></a>vs8713 <span class="ot">=</span> kvertices <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title<span class="sc">==</span><span class="st">&quot;87:13&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-197"><a href="knowledge-through-verse-network.html#cb229-197" tabindex="-1"></a>vs3536 <span class="ot">=</span> kvertices <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title<span class="sc">==</span><span class="st">&quot;35:36&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-198"><a href="knowledge-through-verse-network.html#cb229-198" tabindex="-1"></a>vs4377 <span class="ot">=</span> kvertices <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title<span class="sc">==</span><span class="st">&quot;43:77&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-199"><a href="knowledge-through-verse-network.html#cb229-199" tabindex="-1"></a>vs2074 <span class="ot">=</span> kvertices <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title<span class="sc">==</span><span class="st">&quot;20:74&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-200"><a href="knowledge-through-verse-network.html#cb229-200" tabindex="-1"></a>vs1715 <span class="ot">=</span> kvertices <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title<span class="sc">==</span><span class="st">&quot;17:15&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-201"><a href="knowledge-through-verse-network.html#cb229-201" tabindex="-1"></a></span>
<span id="cb229-202"><a href="knowledge-through-verse-network.html#cb229-202" tabindex="-1"></a><span class="co"># Making and plotting ego graphs</span></span>
<span id="cb229-203"><a href="knowledge-through-verse-network.html#cb229-203" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(surah87_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;87:13&quot;</span>)</span>
<span id="cb229-204"><a href="knowledge-through-verse-network.html#cb229-204" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(surah87_net)<span class="sc">$</span>name</span>
<span id="cb229-205"><a href="knowledge-through-verse-network.html#cb229-205" tabindex="-1"></a>fig_egos87 <span class="ot">=</span> <span class="fu">ggraph</span>(surah87_net, <span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-206"><a href="knowledge-through-verse-network.html#cb229-206" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb229-207"><a href="knowledge-through-verse-network.html#cb229-207" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> <span class="dv">1</span>),<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-208"><a href="knowledge-through-verse-network.html#cb229-208" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb229-209"><a href="knowledge-through-verse-network.html#cb229-209" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">size =</span> <span class="dv">3</span>,<span class="at">label =</span> v_name,</span>
<span id="cb229-210"><a href="knowledge-through-verse-network.html#cb229-210" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-211"><a href="knowledge-through-verse-network.html#cb229-211" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-212"><a href="knowledge-through-verse-network.html#cb229-212" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb229-213"><a href="knowledge-through-verse-network.html#cb229-213" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb229-214"><a href="knowledge-through-verse-network.html#cb229-214" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb229-215"><a href="knowledge-through-verse-network.html#cb229-215" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-216"><a href="knowledge-through-verse-network.html#cb229-216" tabindex="-1"></a></span>
<span id="cb229-217"><a href="knowledge-through-verse-network.html#cb229-217" tabindex="-1"></a><span class="do">## Clustering measures</span></span>
<span id="cb229-218"><a href="knowledge-through-verse-network.html#cb229-218" tabindex="-1"></a>cld <span class="ot">&lt;-</span> <span class="fu">cluster_edge_betweenness</span>(surah87_net, <span class="at">weights =</span> <span class="cn">NULL</span>)</span>
<span id="cb229-219"><a href="knowledge-through-verse-network.html#cb229-219" tabindex="-1"></a>mem <span class="ot">&lt;-</span> <span class="fu">membership</span>(cld)</span>
<span id="cb229-220"><a href="knowledge-through-verse-network.html#cb229-220" tabindex="-1"></a>com <span class="ot">&lt;-</span> <span class="fu">communities</span>(cld)</span>
<span id="cb229-221"><a href="knowledge-through-verse-network.html#cb229-221" tabindex="-1"></a></span>
<span id="cb229-222"><a href="knowledge-through-verse-network.html#cb229-222" tabindex="-1"></a><span class="co"># Verse 87:13 ego network directed with clusters</span></span>
<span id="cb229-223"><a href="knowledge-through-verse-network.html#cb229-223" tabindex="-1"></a></span>
<span id="cb229-224"><a href="knowledge-through-verse-network.html#cb229-224" tabindex="-1"></a><span class="do">## Figure 9.7 &quot;map based brtweeness centrality</span></span>
<span id="cb229-225"><a href="knowledge-through-verse-network.html#cb229-225" tabindex="-1"></a>my_palette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;gold&quot;</span>, <span class="st">&quot;cyan4&quot;</span>, <span class="st">&quot;deeppink&quot;</span>, <span class="st">&quot;tomato&quot;</span>, <span class="st">&quot;yellow&quot;</span>)</span>
<span id="cb229-226"><a href="knowledge-through-verse-network.html#cb229-226" tabindex="-1"></a>cld <span class="ot">&lt;-</span> <span class="fu">clusters</span>(surah87_net)</span>
<span id="cb229-227"><a href="knowledge-through-verse-network.html#cb229-227" tabindex="-1"></a><span class="fu">V</span>(surah87_net)<span class="sc">$</span>clu <span class="ot">&lt;-</span> <span class="fu">as.character</span>(cld<span class="sc">$</span>membership)</span>
<span id="cb229-228"><a href="knowledge-through-verse-network.html#cb229-228" tabindex="-1"></a><span class="fu">V</span>(surah87_net)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">graph.strength</span>(surah87_net)</span>
<span id="cb229-229"><a href="knowledge-through-verse-network.html#cb229-229" tabindex="-1"></a></span>
<span id="cb229-230"><a href="knowledge-through-verse-network.html#cb229-230" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(surah87_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;87:13&quot;</span>)</span>
<span id="cb229-231"><a href="knowledge-through-verse-network.html#cb229-231" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(surah87_net)<span class="sc">$</span>name</span>
<span id="cb229-232"><a href="knowledge-through-verse-network.html#cb229-232" tabindex="-1"></a>fig907x <span class="ot">=</span> <span class="fu">ggraph</span>(surah87_net,<span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-233"><a href="knowledge-through-verse-network.html#cb229-233" tabindex="-1"></a>    <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb229-234"><a href="knowledge-through-verse-network.html#cb229-234" tabindex="-1"></a>    <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width=</span><span class="dv">1</span>), <span class="at">edge_color=</span><span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-235"><a href="knowledge-through-verse-network.html#cb229-235" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span>size), <span class="at">shape=</span><span class="dv">21</span>, <span class="at">col=</span><span class="st">&quot;grey25&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-236"><a href="knowledge-through-verse-network.html#cb229-236" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="fl">2.5</span>, <span class="at">label=</span>v_name), <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-237"><a href="knowledge-through-verse-network.html#cb229-237" tabindex="-1"></a>    <span class="fu">scale_edge_width_continuous</span>(<span class="at">range=</span><span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-238"><a href="knowledge-through-verse-network.html#cb229-238" tabindex="-1"></a>    <span class="fu">scale_size_continuous</span>(<span class="at">range=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb229-239"><a href="knowledge-through-verse-network.html#cb229-239" tabindex="-1"></a>    <span class="co"># scale_fill_manual(values=my_palette) +</span></span>
<span id="cb229-240"><a href="knowledge-through-verse-network.html#cb229-240" tabindex="-1"></a>    <span class="fu">theme_graph</span>(<span class="at">title_size =</span> <span class="dv">16</span>, <span class="at">subtitle_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb229-241"><a href="knowledge-through-verse-network.html#cb229-241" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb229-242"><a href="knowledge-through-verse-network.html#cb229-242" tabindex="-1"></a></span>
<span id="cb229-243"><a href="knowledge-through-verse-network.html#cb229-243" tabindex="-1"></a><span class="do">## Verse 87:13 undirected ego network with centrality layout, clusters strength&quot;}</span></span>
<span id="cb229-244"><a href="knowledge-through-verse-network.html#cb229-244" tabindex="-1"></a>kgu <span class="ot">&lt;-</span> <span class="fu">simplify</span>(<span class="fu">as.undirected</span>(surah87_net))</span>
<span id="cb229-245"><a href="knowledge-through-verse-network.html#cb229-245" tabindex="-1"></a>clu <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(kgu)</span>
<span id="cb229-246"><a href="knowledge-through-verse-network.html#cb229-246" tabindex="-1"></a><span class="fu">V</span>(kgu)<span class="sc">$</span>clu <span class="ot">&lt;-</span> <span class="fu">as.character</span>(clu<span class="sc">$</span>membership)</span>
<span id="cb229-247"><a href="knowledge-through-verse-network.html#cb229-247" tabindex="-1"></a><span class="fu">V</span>(kgu)<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">graph.strength</span>(kgu)</span>
<span id="cb229-248"><a href="knowledge-through-verse-network.html#cb229-248" tabindex="-1"></a></span>
<span id="cb229-249"><a href="knowledge-through-verse-network.html#cb229-249" tabindex="-1"></a>fig909 <span class="ot">=</span> <span class="fu">ggraph</span>(kgu, <span class="st">&quot;centrality&quot;</span>, <span class="at">cent=</span><span class="fu">graph.strength</span>(kgu)) <span class="sc">+</span></span>
<span id="cb229-250"><a href="knowledge-through-verse-network.html#cb229-250" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">max.circle =</span> <span class="dv">10</span>) <span class="sc">+</span></span>
<span id="cb229-251"><a href="knowledge-through-verse-network.html#cb229-251" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="at">edge_color=</span><span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-252"><a href="knowledge-through-verse-network.html#cb229-252" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span>clu, <span class="at">size=</span>size), <span class="at">shape=</span><span class="dv">21</span>, <span class="at">col=</span><span class="st">&quot;grey25&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-253"><a href="knowledge-through-verse-network.html#cb229-253" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">size=</span><span class="fl">2.5</span>,<span class="at">label=</span>name), <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-254"><a href="knowledge-through-verse-network.html#cb229-254" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range=</span><span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-255"><a href="knowledge-through-verse-network.html#cb229-255" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb229-256"><a href="knowledge-through-verse-network.html#cb229-256" tabindex="-1"></a>  <span class="fu">theme_graph</span>(<span class="at">title_size =</span> <span class="dv">16</span>, <span class="at">subtitle_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb229-257"><a href="knowledge-through-verse-network.html#cb229-257" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb229-258"><a href="knowledge-through-verse-network.html#cb229-258" tabindex="-1"></a></span>
<span id="cb229-259"><a href="knowledge-through-verse-network.html#cb229-259" tabindex="-1"></a><span class="do">## Combining verses up to 4 layers outwards</span></span>
<span id="cb229-260"><a href="knowledge-through-verse-network.html#cb229-260" tabindex="-1"></a></span>
<span id="cb229-261"><a href="knowledge-through-verse-network.html#cb229-261" tabindex="-1"></a>v2255_l1 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(from,<span class="st">&quot;2:255&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-262"><a href="knowledge-through-verse-network.html#cb229-262" tabindex="-1"></a>v2255_l2 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> v2255_l1<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-263"><a href="knowledge-through-verse-network.html#cb229-263" tabindex="-1"></a>v2255_l3 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> v2255_l2<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-264"><a href="knowledge-through-verse-network.html#cb229-264" tabindex="-1"></a>v2255_l4 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> v2255_l3<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-265"><a href="knowledge-through-verse-network.html#cb229-265" tabindex="-1"></a><span class="co">#v2255_l5 = kedges %&gt;% filter(to %in% v2255_l4$from) %&gt;% select(from,to)</span></span>
<span id="cb229-266"><a href="knowledge-through-verse-network.html#cb229-266" tabindex="-1"></a></span>
<span id="cb229-267"><a href="knowledge-through-verse-network.html#cb229-267" tabindex="-1"></a>v2255 <span class="ot">=</span> <span class="fu">bind_rows</span>(v2255_l1,v2255_l2,v2255_l3,v2255_l4)</span>
<span id="cb229-268"><a href="knowledge-through-verse-network.html#cb229-268" tabindex="-1"></a>v2255_net <span class="ot">=</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(v2255), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb229-269"><a href="knowledge-through-verse-network.html#cb229-269" tabindex="-1"></a></span>
<span id="cb229-270"><a href="knowledge-through-verse-network.html#cb229-270" tabindex="-1"></a>v1690_l1 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(from,<span class="st">&quot;16:90&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-271"><a href="knowledge-through-verse-network.html#cb229-271" tabindex="-1"></a>v1690_l2 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> v1690_l1<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-272"><a href="knowledge-through-verse-network.html#cb229-272" tabindex="-1"></a>v1690_l3 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> v1690_l2<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-273"><a href="knowledge-through-verse-network.html#cb229-273" tabindex="-1"></a>v1690_l4 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(to <span class="sc">%in%</span> v1690_l3<span class="sc">$</span>from) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-274"><a href="knowledge-through-verse-network.html#cb229-274" tabindex="-1"></a>v1690_l5 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> v1690_l4<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-275"><a href="knowledge-through-verse-network.html#cb229-275" tabindex="-1"></a></span>
<span id="cb229-276"><a href="knowledge-through-verse-network.html#cb229-276" tabindex="-1"></a>v1690 <span class="ot">=</span> <span class="fu">bind_rows</span>(v1690_l1,v1690_l2,v1690_l3,v1690_l4,v1690_l5)</span>
<span id="cb229-277"><a href="knowledge-through-verse-network.html#cb229-277" tabindex="-1"></a>v1690_net <span class="ot">=</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(v1690), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb229-278"><a href="knowledge-through-verse-network.html#cb229-278" tabindex="-1"></a></span>
<span id="cb229-279"><a href="knowledge-through-verse-network.html#cb229-279" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(v2255_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;2:255&quot;</span>)</span>
<span id="cb229-280"><a href="knowledge-through-verse-network.html#cb229-280" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(v2255_net)<span class="sc">$</span>name</span>
<span id="cb229-281"><a href="knowledge-through-verse-network.html#cb229-281" tabindex="-1"></a>fig910 <span class="ot">=</span> <span class="fu">ggraph</span>(v2255_net, <span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-282"><a href="knowledge-through-verse-network.html#cb229-282" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb229-283"><a href="knowledge-through-verse-network.html#cb229-283" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> <span class="dv">1</span>),<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-284"><a href="knowledge-through-verse-network.html#cb229-284" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb229-285"><a href="knowledge-through-verse-network.html#cb229-285" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">size =</span> <span class="dv">3</span>,<span class="at">label =</span> v_name,</span>
<span id="cb229-286"><a href="knowledge-through-verse-network.html#cb229-286" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-287"><a href="knowledge-through-verse-network.html#cb229-287" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-288"><a href="knowledge-through-verse-network.html#cb229-288" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb229-289"><a href="knowledge-through-verse-network.html#cb229-289" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb229-290"><a href="knowledge-through-verse-network.html#cb229-290" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb229-291"><a href="knowledge-through-verse-network.html#cb229-291" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-292"><a href="knowledge-through-verse-network.html#cb229-292" tabindex="-1"></a></span>
<span id="cb229-293"><a href="knowledge-through-verse-network.html#cb229-293" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(v1690_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;16:90&quot;</span>)</span>
<span id="cb229-294"><a href="knowledge-through-verse-network.html#cb229-294" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(v1690_net)<span class="sc">$</span>name</span>
<span id="cb229-295"><a href="knowledge-through-verse-network.html#cb229-295" tabindex="-1"></a>fig911 <span class="ot">=</span> <span class="fu">ggraph</span>(v1690_net, <span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-296"><a href="knowledge-through-verse-network.html#cb229-296" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb229-297"><a href="knowledge-through-verse-network.html#cb229-297" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> <span class="dv">1</span>),<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-298"><a href="knowledge-through-verse-network.html#cb229-298" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb229-299"><a href="knowledge-through-verse-network.html#cb229-299" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">size =</span> <span class="dv">3</span>,<span class="at">label =</span> v_name,</span>
<span id="cb229-300"><a href="knowledge-through-verse-network.html#cb229-300" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-301"><a href="knowledge-through-verse-network.html#cb229-301" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-302"><a href="knowledge-through-verse-network.html#cb229-302" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb229-303"><a href="knowledge-through-verse-network.html#cb229-303" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb229-304"><a href="knowledge-through-verse-network.html#cb229-304" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb229-305"><a href="knowledge-through-verse-network.html#cb229-305" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-306"><a href="knowledge-through-verse-network.html#cb229-306" tabindex="-1"></a></span>
<span id="cb229-307"><a href="knowledge-through-verse-network.html#cb229-307" tabindex="-1"></a>v_combined <span class="ot">=</span> <span class="fu">bind_rows</span>(v2255,v1690)</span>
<span id="cb229-308"><a href="knowledge-through-verse-network.html#cb229-308" tabindex="-1"></a>vcomb_net <span class="ot">=</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(v_combined), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb229-309"><a href="knowledge-through-verse-network.html#cb229-309" tabindex="-1"></a></span>
<span id="cb229-310"><a href="knowledge-through-verse-network.html#cb229-310" tabindex="-1"></a>vcomb_net <span class="ot">=</span> <span class="fu">graph.union</span>(v2255_net,v1690_net)</span>
<span id="cb229-311"><a href="knowledge-through-verse-network.html#cb229-311" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(vcomb_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;2:255&quot;</span>)</span>
<span id="cb229-312"><a href="knowledge-through-verse-network.html#cb229-312" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(vcomb_net)<span class="sc">$</span>name</span>
<span id="cb229-313"><a href="knowledge-through-verse-network.html#cb229-313" tabindex="-1"></a>fig912 <span class="ot">=</span> <span class="fu">ggraph</span>(vcomb_net, <span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-314"><a href="knowledge-through-verse-network.html#cb229-314" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb229-315"><a href="knowledge-through-verse-network.html#cb229-315" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> <span class="dv">1</span>),<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-316"><a href="knowledge-through-verse-network.html#cb229-316" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb229-317"><a href="knowledge-through-verse-network.html#cb229-317" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">size =</span> <span class="dv">3</span>,<span class="at">label =</span> v_name,</span>
<span id="cb229-318"><a href="knowledge-through-verse-network.html#cb229-318" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-319"><a href="knowledge-through-verse-network.html#cb229-319" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-320"><a href="knowledge-through-verse-network.html#cb229-320" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb229-321"><a href="knowledge-through-verse-network.html#cb229-321" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb229-322"><a href="knowledge-through-verse-network.html#cb229-322" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb229-323"><a href="knowledge-through-verse-network.html#cb229-323" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-324"><a href="knowledge-through-verse-network.html#cb229-324" tabindex="-1"></a></span>
<span id="cb229-325"><a href="knowledge-through-verse-network.html#cb229-325" tabindex="-1"></a>verse <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(vcomb_net)<span class="sc">$</span>name<span class="sc">==</span><span class="st">&quot;16:90&quot;</span>)</span>
<span id="cb229-326"><a href="knowledge-through-verse-network.html#cb229-326" tabindex="-1"></a>v_name <span class="ot">=</span> <span class="fu">V</span>(vcomb_net)<span class="sc">$</span>name</span>
<span id="cb229-327"><a href="knowledge-through-verse-network.html#cb229-327" tabindex="-1"></a>fig913 <span class="ot">=</span> <span class="fu">ggraph</span>(vcomb_net, <span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> verse) <span class="sc">+</span></span>
<span id="cb229-328"><a href="knowledge-through-verse-network.html#cb229-328" tabindex="-1"></a>  <span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>,<span class="at">max.circle =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb229-329"><a href="knowledge-through-verse-network.html#cb229-329" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> <span class="dv">1</span>),<span class="at">edge_colour =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-330"><a href="knowledge-through-verse-network.html#cb229-330" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>), <span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span></span>
<span id="cb229-331"><a href="knowledge-through-verse-network.html#cb229-331" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="at">size =</span> <span class="dv">3</span>,<span class="at">label =</span> v_name,</span>
<span id="cb229-332"><a href="knowledge-through-verse-network.html#cb229-332" tabindex="-1"></a>                 <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>, <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb229-333"><a href="knowledge-through-verse-network.html#cb229-333" tabindex="-1"></a>  <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb229-334"><a href="knowledge-through-verse-network.html#cb229-334" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb229-335"><a href="knowledge-through-verse-network.html#cb229-335" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb229-336"><a href="knowledge-through-verse-network.html#cb229-336" tabindex="-1"></a>  <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb229-337"><a href="knowledge-through-verse-network.html#cb229-337" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-338"><a href="knowledge-through-verse-network.html#cb229-338" tabindex="-1"></a></span>
<span id="cb229-339"><a href="knowledge-through-verse-network.html#cb229-339" tabindex="-1"></a><span class="do">#### Word co-occurrence KG</span></span>
<span id="cb229-340"><a href="knowledge-through-verse-network.html#cb229-340" tabindex="-1"></a><span class="fu">library</span>(text2vec)</span>
<span id="cb229-341"><a href="knowledge-through-verse-network.html#cb229-341" tabindex="-1"></a></span>
<span id="cb229-342"><a href="knowledge-through-verse-network.html#cb229-342" tabindex="-1"></a><span class="do">## get the texts</span></span>
<span id="cb229-343"><a href="knowledge-through-verse-network.html#cb229-343" tabindex="-1"></a></span>
<span id="cb229-344"><a href="knowledge-through-verse-network.html#cb229-344" tabindex="-1"></a>surah87_o1 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(from,<span class="st">&quot;87:&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-345"><a href="knowledge-through-verse-network.html#cb229-345" tabindex="-1"></a>surah87_o2 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> surah87_o1<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-346"><a href="knowledge-through-verse-network.html#cb229-346" tabindex="-1"></a>surah87_o3 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> surah87_o2<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-347"><a href="knowledge-through-verse-network.html#cb229-347" tabindex="-1"></a>surah87_o4 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> surah87_o3<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-348"><a href="knowledge-through-verse-network.html#cb229-348" tabindex="-1"></a>surah87_o5 <span class="ot">=</span> kedges <span class="sc">%&gt;%</span> <span class="fu">filter</span>(from <span class="sc">%in%</span> surah87_o4<span class="sc">$</span>to) <span class="sc">%&gt;%</span> <span class="fu">select</span>(from,to)</span>
<span id="cb229-349"><a href="knowledge-through-verse-network.html#cb229-349" tabindex="-1"></a>surah87_out <span class="ot">=</span> <span class="fu">bind_rows</span>(surah87_o1,surah87_o2,surah87_o3,surah87_o4,surah87_o5)</span>
<span id="cb229-350"><a href="knowledge-through-verse-network.html#cb229-350" tabindex="-1"></a></span>
<span id="cb229-351"><a href="knowledge-through-verse-network.html#cb229-351" tabindex="-1"></a>ala_intxt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-352"><a href="knowledge-through-verse-network.html#cb229-352" tabindex="-1"></a>                            <span class="fu">c</span>(surah87n_l5<span class="sc">$</span>from,surah87n_l5<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-353"><a href="knowledge-through-verse-network.html#cb229-353" tabindex="-1"></a>ala_outxt <span class="ot">=</span> quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ayah_title <span class="sc">%in%</span> </span>
<span id="cb229-354"><a href="knowledge-through-verse-network.html#cb229-354" tabindex="-1"></a>                                        <span class="fu">c</span>(surah87_out<span class="sc">$</span>from,surah87_out<span class="sc">$</span>to)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(text)</span>
<span id="cb229-355"><a href="knowledge-through-verse-network.html#cb229-355" tabindex="-1"></a><span class="do">## clean the texts</span></span>
<span id="cb229-356"><a href="knowledge-through-verse-network.html#cb229-356" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">tolower</span>(ala_intxt)</span>
<span id="cb229-357"><a href="knowledge-through-verse-network.html#cb229-357" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;[^[:alnum:]</span><span class="sc">\\</span><span class="st">-</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">s]&quot;</span>, <span class="st">&quot; &quot;</span>, alain)</span>
<span id="cb229-358"><a href="knowledge-through-verse-network.html#cb229-358" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;&quot;</span>, alain)</span>
<span id="cb229-359"><a href="knowledge-through-verse-network.html#cb229-359" tabindex="-1"></a>alain<span class="ot">=</span> <span class="fu">trimws</span>(alain)</span>
<span id="cb229-360"><a href="knowledge-through-verse-network.html#cb229-360" tabindex="-1"></a><span class="do">## 1. tokenize</span></span>
<span id="cb229-361"><a href="knowledge-through-verse-network.html#cb229-361" tabindex="-1"></a>alain_ktoks <span class="ot">=</span> <span class="fu">space_tokenizer</span>(alain)</span>
<span id="cb229-362"><a href="knowledge-through-verse-network.html#cb229-362" tabindex="-1"></a>alain_itktoks <span class="ot">=</span> <span class="fu">itoken</span>(alain_ktoks, <span class="at">n_chunks =</span> 10L)</span>
<span id="cb229-363"><a href="knowledge-through-verse-network.html#cb229-363" tabindex="-1"></a>stopw <span class="ot">=</span> stop_words<span class="sc">$</span>word</span>
<span id="cb229-364"><a href="knowledge-through-verse-network.html#cb229-364" tabindex="-1"></a><span class="do">## 2. create vocabulary</span></span>
<span id="cb229-365"><a href="knowledge-through-verse-network.html#cb229-365" tabindex="-1"></a>alain_kvocab <span class="ot">=</span> <span class="fu">create_vocabulary</span>(alain_itktoks, <span class="at">stopwords =</span> stopw)</span>
<span id="cb229-366"><a href="knowledge-through-verse-network.html#cb229-366" tabindex="-1"></a><span class="do">## 3. vectorize the vocabulary</span></span>
<span id="cb229-367"><a href="knowledge-through-verse-network.html#cb229-367" tabindex="-1"></a>alain_k2vec <span class="ot">=</span> <span class="fu">vocab_vectorizer</span>(alain_kvocab)</span>
<span id="cb229-368"><a href="knowledge-through-verse-network.html#cb229-368" tabindex="-1"></a><span class="do">## 4. create the tcm</span></span>
<span id="cb229-369"><a href="knowledge-through-verse-network.html#cb229-369" tabindex="-1"></a>alain_ktcm <span class="ot">=</span> <span class="fu">create_tcm</span>(alain_itktoks, alain_k2vec, <span class="at">skip_grams_window =</span> 5L)</span>
<span id="cb229-370"><a href="knowledge-through-verse-network.html#cb229-370" tabindex="-1"></a><span class="do">## 5. generate the Global Vector with rank = 50L</span></span>
<span id="cb229-371"><a href="knowledge-through-verse-network.html#cb229-371" tabindex="-1"></a>alain_kglove <span class="ot">=</span> GlobalVectors<span class="sc">$</span><span class="fu">new</span>(<span class="at">rank =</span> <span class="dv">50</span>, <span class="at">x_max =</span> <span class="dv">6</span>)</span>
<span id="cb229-372"><a href="knowledge-through-verse-network.html#cb229-372" tabindex="-1"></a><span class="do">## 6. Fit the GloVE model</span></span>
<span id="cb229-373"><a href="knowledge-through-verse-network.html#cb229-373" tabindex="-1"></a>alain_wv_main <span class="ot">=</span> alain_kglove<span class="sc">$</span><span class="fu">fit_transform</span>(alain_ktcm, <span class="at">n_iter =</span> <span class="dv">20</span>)</span>
<span id="cb229-374"><a href="knowledge-through-verse-network.html#cb229-374" tabindex="-1"></a><span class="do">## Use the model for prediction</span></span>
<span id="cb229-375"><a href="knowledge-through-verse-network.html#cb229-375" tabindex="-1"></a>alain_wv_context <span class="ot">=</span> alain_kglove<span class="sc">$</span>components</span>
<span id="cb229-376"><a href="knowledge-through-verse-network.html#cb229-376" tabindex="-1"></a><span class="do">## This is in data.table format</span></span>
<span id="cb229-377"><a href="knowledge-through-verse-network.html#cb229-377" tabindex="-1"></a>alain_word_vec <span class="ot">=</span> alain_wv_main <span class="sc">+</span> <span class="fu">t</span>(alain_wv_context)</span>
<span id="cb229-378"><a href="knowledge-through-verse-network.html#cb229-378" tabindex="-1"></a></span>
<span id="cb229-379"><a href="knowledge-through-verse-network.html#cb229-379" tabindex="-1"></a>topic0 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-380"><a href="knowledge-through-verse-network.html#cb229-380" tabindex="-1"></a>topic00 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-381"><a href="knowledge-through-verse-network.html#cb229-381" tabindex="-1"></a>topic1 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-382"><a href="knowledge-through-verse-network.html#cb229-382" tabindex="-1"></a>topic2 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-383"><a href="knowledge-through-verse-network.html#cb229-383" tabindex="-1"></a>topic3 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-384"><a href="knowledge-through-verse-network.html#cb229-384" tabindex="-1"></a>topic4 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-385"><a href="knowledge-through-verse-network.html#cb229-385" tabindex="-1"></a></span>
<span id="cb229-386"><a href="knowledge-through-verse-network.html#cb229-386" tabindex="-1"></a>topic5 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-387"><a href="knowledge-through-verse-network.html#cb229-387" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-388"><a href="knowledge-through-verse-network.html#cb229-388" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-389"><a href="knowledge-through-verse-network.html#cb229-389" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-390"><a href="knowledge-through-verse-network.html#cb229-390" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-391"><a href="knowledge-through-verse-network.html#cb229-391" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-392"><a href="knowledge-through-verse-network.html#cb229-392" tabindex="-1"></a></span>
<span id="cb229-393"><a href="knowledge-through-verse-network.html#cb229-393" tabindex="-1"></a>t0_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic0, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-394"><a href="knowledge-through-verse-network.html#cb229-394" tabindex="-1"></a>htin0 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t0_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-395"><a href="knowledge-through-verse-network.html#cb229-395" tabindex="-1"></a>t00_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic00, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-396"><a href="knowledge-through-verse-network.html#cb229-396" tabindex="-1"></a>htin00 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t00_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-397"><a href="knowledge-through-verse-network.html#cb229-397" tabindex="-1"></a>t1_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic1, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-398"><a href="knowledge-through-verse-network.html#cb229-398" tabindex="-1"></a>htin1 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t1_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-399"><a href="knowledge-through-verse-network.html#cb229-399" tabindex="-1"></a>t2_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic2, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-400"><a href="knowledge-through-verse-network.html#cb229-400" tabindex="-1"></a>htin2 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t2_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-401"><a href="knowledge-through-verse-network.html#cb229-401" tabindex="-1"></a>t3_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic3, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-402"><a href="knowledge-through-verse-network.html#cb229-402" tabindex="-1"></a>htin3 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t3_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-403"><a href="knowledge-through-verse-network.html#cb229-403" tabindex="-1"></a>t4_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic4, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-404"><a href="knowledge-through-verse-network.html#cb229-404" tabindex="-1"></a>htin4 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t4_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-405"><a href="knowledge-through-verse-network.html#cb229-405" tabindex="-1"></a>t5_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic5, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-406"><a href="knowledge-through-verse-network.html#cb229-406" tabindex="-1"></a>htin5 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t5_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-407"><a href="knowledge-through-verse-network.html#cb229-407" tabindex="-1"></a></span>
<span id="cb229-408"><a href="knowledge-through-verse-network.html#cb229-408" tabindex="-1"></a><span class="do">## clean the texts</span></span>
<span id="cb229-409"><a href="knowledge-through-verse-network.html#cb229-409" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">tolower</span>(ala_outxt)</span>
<span id="cb229-410"><a href="knowledge-through-verse-network.html#cb229-410" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;[^[:alnum:]</span><span class="sc">\\</span><span class="st">-</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">s]&quot;</span>, <span class="st">&quot; &quot;</span>, alain)</span>
<span id="cb229-411"><a href="knowledge-through-verse-network.html#cb229-411" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;&quot;</span>, alain)</span>
<span id="cb229-412"><a href="knowledge-through-verse-network.html#cb229-412" tabindex="-1"></a>alain<span class="ot">=</span> <span class="fu">trimws</span>(alain)</span>
<span id="cb229-413"><a href="knowledge-through-verse-network.html#cb229-413" tabindex="-1"></a><span class="do">## 1. tokenize</span></span>
<span id="cb229-414"><a href="knowledge-through-verse-network.html#cb229-414" tabindex="-1"></a>alain_ktoks <span class="ot">=</span> <span class="fu">space_tokenizer</span>(alain)</span>
<span id="cb229-415"><a href="knowledge-through-verse-network.html#cb229-415" tabindex="-1"></a>alain_itktoks <span class="ot">=</span> <span class="fu">itoken</span>(alain_ktoks, <span class="at">n_chunks =</span> 10L)</span>
<span id="cb229-416"><a href="knowledge-through-verse-network.html#cb229-416" tabindex="-1"></a>stopw <span class="ot">=</span> stop_words<span class="sc">$</span>word</span>
<span id="cb229-417"><a href="knowledge-through-verse-network.html#cb229-417" tabindex="-1"></a><span class="do">## 2. create vocabulary</span></span>
<span id="cb229-418"><a href="knowledge-through-verse-network.html#cb229-418" tabindex="-1"></a>alain_kvocab <span class="ot">=</span> <span class="fu">create_vocabulary</span>(alain_itktoks, <span class="at">stopwords =</span> stopw)</span>
<span id="cb229-419"><a href="knowledge-through-verse-network.html#cb229-419" tabindex="-1"></a><span class="do">## 3. vectorize the vocabulary</span></span>
<span id="cb229-420"><a href="knowledge-through-verse-network.html#cb229-420" tabindex="-1"></a>alain_k2vec <span class="ot">=</span> <span class="fu">vocab_vectorizer</span>(alain_kvocab)</span>
<span id="cb229-421"><a href="knowledge-through-verse-network.html#cb229-421" tabindex="-1"></a><span class="do">## 4. create the tcm</span></span>
<span id="cb229-422"><a href="knowledge-through-verse-network.html#cb229-422" tabindex="-1"></a>alain_ktcm <span class="ot">=</span> <span class="fu">create_tcm</span>(alain_itktoks, alain_k2vec, <span class="at">skip_grams_window =</span> 5L)</span>
<span id="cb229-423"><a href="knowledge-through-verse-network.html#cb229-423" tabindex="-1"></a><span class="do">## 5. generate the Global Vector with rank = 50L</span></span>
<span id="cb229-424"><a href="knowledge-through-verse-network.html#cb229-424" tabindex="-1"></a>alain_kglove <span class="ot">=</span> GlobalVectors<span class="sc">$</span><span class="fu">new</span>(<span class="at">rank =</span> <span class="dv">50</span>, <span class="at">x_max =</span> <span class="dv">6</span>)</span>
<span id="cb229-425"><a href="knowledge-through-verse-network.html#cb229-425" tabindex="-1"></a><span class="do">## 6. Fit the GloVE model</span></span>
<span id="cb229-426"><a href="knowledge-through-verse-network.html#cb229-426" tabindex="-1"></a>alain_wv_main <span class="ot">=</span> alain_kglove<span class="sc">$</span><span class="fu">fit_transform</span>(alain_ktcm, <span class="at">n_iter =</span> <span class="dv">20</span>)</span>
<span id="cb229-427"><a href="knowledge-through-verse-network.html#cb229-427" tabindex="-1"></a><span class="do">## Use the model for prediction</span></span>
<span id="cb229-428"><a href="knowledge-through-verse-network.html#cb229-428" tabindex="-1"></a>alain_wv_context <span class="ot">=</span> alain_kglove<span class="sc">$</span>components</span>
<span id="cb229-429"><a href="knowledge-through-verse-network.html#cb229-429" tabindex="-1"></a><span class="do">## This is in data.table format</span></span>
<span id="cb229-430"><a href="knowledge-through-verse-network.html#cb229-430" tabindex="-1"></a>alain_word_vec <span class="ot">=</span> alain_wv_main <span class="sc">+</span> <span class="fu">t</span>(alain_wv_context)</span>
<span id="cb229-431"><a href="knowledge-through-verse-network.html#cb229-431" tabindex="-1"></a></span>
<span id="cb229-432"><a href="knowledge-through-verse-network.html#cb229-432" tabindex="-1"></a>topic0 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-433"><a href="knowledge-through-verse-network.html#cb229-433" tabindex="-1"></a>topic00 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-434"><a href="knowledge-through-verse-network.html#cb229-434" tabindex="-1"></a>topic1 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-435"><a href="knowledge-through-verse-network.html#cb229-435" tabindex="-1"></a>topic2 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-436"><a href="knowledge-through-verse-network.html#cb229-436" tabindex="-1"></a>topic3 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-437"><a href="knowledge-through-verse-network.html#cb229-437" tabindex="-1"></a>topic4 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-438"><a href="knowledge-through-verse-network.html#cb229-438" tabindex="-1"></a></span>
<span id="cb229-439"><a href="knowledge-through-verse-network.html#cb229-439" tabindex="-1"></a>topic5 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-440"><a href="knowledge-through-verse-network.html#cb229-440" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-441"><a href="knowledge-through-verse-network.html#cb229-441" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-442"><a href="knowledge-through-verse-network.html#cb229-442" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-443"><a href="knowledge-through-verse-network.html#cb229-443" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-444"><a href="knowledge-through-verse-network.html#cb229-444" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-445"><a href="knowledge-through-verse-network.html#cb229-445" tabindex="-1"></a></span>
<span id="cb229-446"><a href="knowledge-through-verse-network.html#cb229-446" tabindex="-1"></a>t0_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic0, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-447"><a href="knowledge-through-verse-network.html#cb229-447" tabindex="-1"></a>htout0 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t0_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-448"><a href="knowledge-through-verse-network.html#cb229-448" tabindex="-1"></a>t00_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic00, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-449"><a href="knowledge-through-verse-network.html#cb229-449" tabindex="-1"></a>htout00 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t00_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-450"><a href="knowledge-through-verse-network.html#cb229-450" tabindex="-1"></a>t1_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic1, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-451"><a href="knowledge-through-verse-network.html#cb229-451" tabindex="-1"></a>htout1 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t1_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-452"><a href="knowledge-through-verse-network.html#cb229-452" tabindex="-1"></a>t2_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic2, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-453"><a href="knowledge-through-verse-network.html#cb229-453" tabindex="-1"></a>htout2 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t2_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-454"><a href="knowledge-through-verse-network.html#cb229-454" tabindex="-1"></a>t3_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic3, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-455"><a href="knowledge-through-verse-network.html#cb229-455" tabindex="-1"></a>htout3 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t3_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-456"><a href="knowledge-through-verse-network.html#cb229-456" tabindex="-1"></a>t4_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic4, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-457"><a href="knowledge-through-verse-network.html#cb229-457" tabindex="-1"></a>htout4 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t4_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-458"><a href="knowledge-through-verse-network.html#cb229-458" tabindex="-1"></a>t5_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic5, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-459"><a href="knowledge-through-verse-network.html#cb229-459" tabindex="-1"></a>htout5 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t5_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-460"><a href="knowledge-through-verse-network.html#cb229-460" tabindex="-1"></a></span>
<span id="cb229-461"><a href="knowledge-through-verse-network.html#cb229-461" tabindex="-1"></a><span class="do">## clean the texts</span></span>
<span id="cb229-462"><a href="knowledge-through-verse-network.html#cb229-462" tabindex="-1"></a>ala_ctext <span class="ot">=</span> <span class="fu">c</span>(ala_intxt,ala_outxt)</span>
<span id="cb229-463"><a href="knowledge-through-verse-network.html#cb229-463" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">tolower</span>(ala_ctext)</span>
<span id="cb229-464"><a href="knowledge-through-verse-network.html#cb229-464" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;[^[:alnum:]</span><span class="sc">\\</span><span class="st">-</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">s]&quot;</span>, <span class="st">&quot; &quot;</span>, alain)</span>
<span id="cb229-465"><a href="knowledge-through-verse-network.html#cb229-465" tabindex="-1"></a>alain <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;&quot;</span>, alain)</span>
<span id="cb229-466"><a href="knowledge-through-verse-network.html#cb229-466" tabindex="-1"></a>alain<span class="ot">=</span> <span class="fu">trimws</span>(alain)</span>
<span id="cb229-467"><a href="knowledge-through-verse-network.html#cb229-467" tabindex="-1"></a><span class="do">## 1. tokenize</span></span>
<span id="cb229-468"><a href="knowledge-through-verse-network.html#cb229-468" tabindex="-1"></a>alain_ktoks <span class="ot">=</span> <span class="fu">space_tokenizer</span>(alain)</span>
<span id="cb229-469"><a href="knowledge-through-verse-network.html#cb229-469" tabindex="-1"></a>alain_itktoks <span class="ot">=</span> <span class="fu">itoken</span>(alain_ktoks, <span class="at">n_chunks =</span> 10L)</span>
<span id="cb229-470"><a href="knowledge-through-verse-network.html#cb229-470" tabindex="-1"></a>stopw <span class="ot">=</span> stop_words<span class="sc">$</span>word</span>
<span id="cb229-471"><a href="knowledge-through-verse-network.html#cb229-471" tabindex="-1"></a><span class="do">## 2. create vocabulary</span></span>
<span id="cb229-472"><a href="knowledge-through-verse-network.html#cb229-472" tabindex="-1"></a>alain_kvocab <span class="ot">=</span> <span class="fu">create_vocabulary</span>(alain_itktoks, <span class="at">stopwords =</span> stopw)</span>
<span id="cb229-473"><a href="knowledge-through-verse-network.html#cb229-473" tabindex="-1"></a><span class="do">## 3. vectorize the vocabulary</span></span>
<span id="cb229-474"><a href="knowledge-through-verse-network.html#cb229-474" tabindex="-1"></a>alain_k2vec <span class="ot">=</span> <span class="fu">vocab_vectorizer</span>(alain_kvocab)</span>
<span id="cb229-475"><a href="knowledge-through-verse-network.html#cb229-475" tabindex="-1"></a><span class="do">## 4. create the tcm</span></span>
<span id="cb229-476"><a href="knowledge-through-verse-network.html#cb229-476" tabindex="-1"></a>alain_ktcm <span class="ot">=</span> <span class="fu">create_tcm</span>(alain_itktoks, alain_k2vec, <span class="at">skip_grams_window =</span> 5L)</span>
<span id="cb229-477"><a href="knowledge-through-verse-network.html#cb229-477" tabindex="-1"></a><span class="do">## 5. generate the Global Vector with rank = 50L</span></span>
<span id="cb229-478"><a href="knowledge-through-verse-network.html#cb229-478" tabindex="-1"></a>alain_kglove <span class="ot">=</span> GlobalVectors<span class="sc">$</span><span class="fu">new</span>(<span class="at">rank =</span> <span class="dv">50</span>, <span class="at">x_max =</span> <span class="dv">6</span>)</span>
<span id="cb229-479"><a href="knowledge-through-verse-network.html#cb229-479" tabindex="-1"></a><span class="do">## 6. Fit the GloVE model</span></span>
<span id="cb229-480"><a href="knowledge-through-verse-network.html#cb229-480" tabindex="-1"></a>alain_wv_main <span class="ot">=</span> alain_kglove<span class="sc">$</span><span class="fu">fit_transform</span>(alain_ktcm, <span class="at">n_iter =</span> <span class="dv">20</span>)</span>
<span id="cb229-481"><a href="knowledge-through-verse-network.html#cb229-481" tabindex="-1"></a><span class="do">## Use the model for prediction</span></span>
<span id="cb229-482"><a href="knowledge-through-verse-network.html#cb229-482" tabindex="-1"></a>alain_wv_context <span class="ot">=</span> alain_kglove<span class="sc">$</span>components</span>
<span id="cb229-483"><a href="knowledge-through-verse-network.html#cb229-483" tabindex="-1"></a><span class="do">## This is in data.table format</span></span>
<span id="cb229-484"><a href="knowledge-through-verse-network.html#cb229-484" tabindex="-1"></a>alain_word_vec <span class="ot">=</span> alain_wv_main <span class="sc">+</span> <span class="fu">t</span>(alain_wv_context)</span>
<span id="cb229-485"><a href="knowledge-through-verse-network.html#cb229-485" tabindex="-1"></a></span>
<span id="cb229-486"><a href="knowledge-through-verse-network.html#cb229-486" tabindex="-1"></a>topic0 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-487"><a href="knowledge-through-verse-network.html#cb229-487" tabindex="-1"></a>topic00 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-488"><a href="knowledge-through-verse-network.html#cb229-488" tabindex="-1"></a>topic1 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-489"><a href="knowledge-through-verse-network.html#cb229-489" tabindex="-1"></a>topic2 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-490"><a href="knowledge-through-verse-network.html#cb229-490" tabindex="-1"></a>topic3 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-491"><a href="knowledge-through-verse-network.html#cb229-491" tabindex="-1"></a>topic4 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-492"><a href="knowledge-through-verse-network.html#cb229-492" tabindex="-1"></a></span>
<span id="cb229-493"><a href="knowledge-through-verse-network.html#cb229-493" tabindex="-1"></a>topic5 <span class="ot">=</span> alain_word_vec[<span class="st">&quot;allah&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-494"><a href="knowledge-through-verse-network.html#cb229-494" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;lord&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-495"><a href="knowledge-through-verse-network.html#cb229-495" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;living&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-496"><a href="knowledge-through-verse-network.html#cb229-496" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;dying&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span> </span>
<span id="cb229-497"><a href="knowledge-through-verse-network.html#cb229-497" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;purify&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] <span class="sc">+</span></span>
<span id="cb229-498"><a href="knowledge-through-verse-network.html#cb229-498" tabindex="-1"></a>  alain_word_vec[<span class="st">&quot;hell&quot;</span>,,drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span>
<span id="cb229-499"><a href="knowledge-through-verse-network.html#cb229-499" tabindex="-1"></a></span>
<span id="cb229-500"><a href="knowledge-through-verse-network.html#cb229-500" tabindex="-1"></a>t0_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic0, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-501"><a href="knowledge-through-verse-network.html#cb229-501" tabindex="-1"></a>htino0 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t0_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-502"><a href="knowledge-through-verse-network.html#cb229-502" tabindex="-1"></a>t00_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic00, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-503"><a href="knowledge-through-verse-network.html#cb229-503" tabindex="-1"></a>htino00 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t00_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-504"><a href="knowledge-through-verse-network.html#cb229-504" tabindex="-1"></a>t1_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic1, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-505"><a href="knowledge-through-verse-network.html#cb229-505" tabindex="-1"></a>htino1 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t1_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-506"><a href="knowledge-through-verse-network.html#cb229-506" tabindex="-1"></a>t2_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic2, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-507"><a href="knowledge-through-verse-network.html#cb229-507" tabindex="-1"></a>htino2 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t2_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-508"><a href="knowledge-through-verse-network.html#cb229-508" tabindex="-1"></a>t3_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic3, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-509"><a href="knowledge-through-verse-network.html#cb229-509" tabindex="-1"></a>htino3 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t3_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-510"><a href="knowledge-through-verse-network.html#cb229-510" tabindex="-1"></a>t4_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic4, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-511"><a href="knowledge-through-verse-network.html#cb229-511" tabindex="-1"></a>htino4 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t4_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span>
<span id="cb229-512"><a href="knowledge-through-verse-network.html#cb229-512" tabindex="-1"></a>t5_sim <span class="ot">=</span> <span class="fu">sim2</span>(<span class="at">x =</span> alain_word_vec, <span class="at">y =</span> topic5, <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span>
<span id="cb229-513"><a href="knowledge-through-verse-network.html#cb229-513" tabindex="-1"></a>htino5 <span class="ot">=</span> <span class="fu">names</span>(<span class="fu">head</span>(<span class="fu">sort</span>(t5_sim[,<span class="dv">1</span>], <span class="at">decreasing =</span> T),<span class="dv">7</span>))</span></code></pre></div>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-barabasi2016" class="csl-entry">
Barabasi, Albert-Laszlo. 2016. <em>Network Science</em>. Cambridge, Massachussets: Cambridge University Press.
</div>
<div id="ref-blumauer2016" class="csl-entry">
Blumauer, Andreas. 2016. <span>“From Taxonomies over Ontologies to Knowledge Graphs.”</span> Available at <a href="https://semantic-web.com/2014/07/15/from-taxonomies-over-ontologies-to-knowledge-graphs/" class="uri">https://semantic-web.com/2014/07/15/from-taxonomies-over-ontologies-to-knowledge-graphs/</a> (2021/02/16).
</div>
<div id="ref-paulheim2016" class="csl-entry">
Paulheim, Heiko. 2016. <span>“Knowledge Graph Refinement: A Survey of Approaches and Evaluation Methods.”</span> <em>Semantic Web Journal</em> Preprint: 1–20.
</div>
<div id="ref-reinada2020" class="csl-entry">
Reinanda, Ridho, Edgar Meij, and Maarten de Rijke. 2020. <span>“Knowledge Graphs: An Information Retrieval Perspective.”</span> <em>Foundations and Trends in Information Retrieval</em> 14 (4): 289–444. <a href="https://doi.org/10.1561/1500000063">https://doi.org/10.1561/1500000063</a>.
</div>
<div id="ref-googlekg2012" class="csl-entry">
Singhal, Amit. 2012. <span>“Introducing the Knowledge Graph: Things, Not Strings.”</span> Available at <a href="https://blog.google/products/search/introducing-knowledge-graph-things-not/" class="uri">https://blog.google/products/search/introducing-knowledge-graph-things-not/</a> (2021/02/16).
</div>
</div>
<div class="footnotes">
<hr />
<ol start="108">
<li id="fn108"><p>Inverting a graph is not a simple and direct mathematical process.<a href="knowledge-through-verse-network.html#fnref108" class="footnote-back">↩︎</a></p></li>
<li id="fn109"><p>Our views as to why the need applies to MSA is due to the fallacious assumptions that Arabic speaking people knows the Quranic language. The subject is controversial as far as we know since it is a subject imbued within the domain of linguistic and Islamic knowledge.<a href="knowledge-through-verse-network.html#fnref109" class="footnote-back">↩︎</a></p></li>
<li id="fn110"><p>The authors’ personal views.<a href="knowledge-through-verse-network.html#fnref110" class="footnote-back">↩︎</a></p></li>
<li id="fn111"><p>Tafseer Ibn Katheer, <a href="https://en.wikipedia.org/wiki/Ibn_Kathir" class="uri">https://en.wikipedia.org/wiki/Ibn_Kathir</a><a href="knowledge-through-verse-network.html#fnref111" class="footnote-back">↩︎</a></p></li>
<li id="fn112"><p><a href="https://gephi.org" class="uri">https://gephi.org</a><a href="knowledge-through-verse-network.html#fnref112" class="footnote-back">↩︎</a></p></li>
<li id="fn113"><p><a href="https://cytoscape.org" class="uri">https://cytoscape.org</a><a href="knowledge-through-verse-network.html#fnref113" class="footnote-back">↩︎</a></p></li>
<li id="fn114"><p><a href="http://mrvar.fdv.uni-lj.si/pajek/" class="uri">http://mrvar.fdv.uni-lj.si/pajek/</a><a href="knowledge-through-verse-network.html#fnref114" class="footnote-back">↩︎</a></p></li>
<li id="fn115"><p>Note that we have not verified the accuracy of the dataset, and we will use it as is where is basis.<a href="knowledge-through-verse-network.html#fnref115" class="footnote-back">↩︎</a></p></li>
<li id="fn116"><p>This is a formal definition of a graph in Graph Theory<a href="knowledge-through-verse-network.html#fnref116" class="footnote-back">↩︎</a></p></li>
<li id="fn117"><p>References for a mathematical and clear understanding of network structure and its properties is available in <span class="citation">Barabasi (<a href="#ref-barabasi2016">2016</a>)</span>.<a href="knowledge-through-verse-network.html#fnref117" class="footnote-back">↩︎</a></p></li>
<li id="fn118"><p>In database search terms, we call this sequential search process. Sequentially, this process will take <span class="math inline">\(O^Z\)</span> times, where both <span class="math inline">\(O\)</span> and <span class="math inline">\(Z\)</span> are large numbers. Which means that a person may take even his lifetime to complete the search of Ibnu Katheer, sequentially.<a href="knowledge-through-verse-network.html#fnref118" class="footnote-back">↩︎</a></p></li>
<li id="fn119"><p>A bibliographical reference is an example of citation networks. The Web of Science by Clarivent is a well-known example of citation networks. <a href="https://clarivate.com/webofsciencegroup/solutions/web-of-science/" class="uri">https://clarivate.com/webofsciencegroup/solutions/web-of-science/</a><a href="knowledge-through-verse-network.html#fnref119" class="footnote-back">↩︎</a></p></li>
<li id="fn120"><p>This is the same phenomenon in the Internet routers network; redundancies, alternate routings, etc., ensure that the network cannot fail. You can be connected to one of the routers and be accessible to the network, and yet if your router is broken (taken out), still the rest of the network operates smoothly.<a href="knowledge-through-verse-network.html#fnref120" class="footnote-back">↩︎</a></p></li>
<li id="fn121"><p>An important point to make is that it is a rare case when we see a well-behaved probability distribution for the paths of any network since most follow the Power Law structure.<a href="knowledge-through-verse-network.html#fnref121" class="footnote-back">↩︎</a></p></li>
<li id="fn122"><p>Note that distance is the measure of a verse from any other verse; whereas the small word property measure is “how far away” each verse truly is.<a href="knowledge-through-verse-network.html#fnref122" class="footnote-back">↩︎</a></p></li>
<li id="fn123"><p><a href="http://www.recitequran.com/tafsir/en.ibn-kathir/87:14" class="uri">http://www.recitequran.com/tafsir/en.ibn-kathir/87:14</a><a href="knowledge-through-verse-network.html#fnref123" class="footnote-back">↩︎</a></p></li>
<li id="fn124"><p><a href="http://www.recitequran.com/tafsir/en.ibn-kathir/2:255" class="uri">http://www.recitequran.com/tafsir/en.ibn-kathir/2:255</a><a href="knowledge-through-verse-network.html#fnref124" class="footnote-back">↩︎</a></p></li>
<li id="fn125"><p><a href="http://www.recitequran.com/tafsir/en.ibn-kathir/16:90" class="uri">http://www.recitequran.com/tafsir/en.ibn-kathir/16:90</a><a href="knowledge-through-verse-network.html#fnref125" class="footnote-back">↩︎</a></p></li>
<li id="fn126"><p>The codes are in the Appendix.<a href="knowledge-through-verse-network.html#fnref126" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="text-classification-models.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="way-forward.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QuranAnalytics.pdf", "QuranAnalytics.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
