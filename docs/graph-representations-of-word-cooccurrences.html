<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Graph Representations of Word Cooccurences | Quran Analytics with R</title>
  <meta name="description" content="5 Graph Representations of Word Cooccurences | Quran Analytics with R" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Graph Representations of Word Cooccurences | Quran Analytics with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Graph Representations of Word Cooccurences | Quran Analytics with R" />
  
  
  

<meta name="author" content="Wan M Hasni and Azman Hussin" />


<meta name="date" content="2024-04-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="word-collocations.html"/>
<link rel="next" href="word-coccurrences-of-Surah-Taa-Haa.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quran Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-first-author.html"><a href="preface-from-the-first-author.html"><i class="fa fa-check"></i>Preface From the First Author</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-second-author.html"><a href="preface-from-the-second-author.html"><i class="fa fa-check"></i>Preface From the Second Author</a></li>
<li class="chapter" data-level="" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i>Preamble</a></li>
<li class="chapter" data-level="1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html"><i class="fa fa-check"></i><b>1</b> Introducing Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quran-analytics"><i class="fa fa-check"></i><b>1.1</b> Quran Analytics</a></li>
<li class="chapter" data-level="1.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-studies"><i class="fa fa-check"></i><b>1.2</b> Quranic Studies</a></li>
<li class="chapter" data-level="1.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-language-and-studies"><i class="fa fa-check"></i><b>1.3</b> Quranic language and linguistic studies</a></li>
<li class="chapter" data-level="1.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#computational-linguistics"><i class="fa fa-check"></i><b>1.4</b> Computational Linguistics</a></li>
<li class="chapter" data-level="1.5" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#natural-language-processing"><i class="fa fa-check"></i><b>1.5</b> Natural Language Processing (NLP)</a></li>
<li class="chapter" data-level="1.6" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#programming-language-in-NLP"><i class="fa fa-check"></i><b>1.6</b> Programming language in NLP</a></li>
<li class="chapter" data-level="1.7" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#advancements-in-NLP-and-quran-analytics"><i class="fa fa-check"></i><b>1.7</b> Advancements in NLP and Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#common-NLP-tasks"><i class="fa fa-check"></i><b>1.7.1</b> Common NLP tasks</a></li>
<li class="chapter" data-level="1.7.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#available-resources-for-digital-quranic-studies"><i class="fa fa-check"></i><b>1.7.2</b> Available resources for digital Quranic studies</a></li>
<li class="chapter" data-level="1.7.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#nlp-works-on-english-translations-of-al-quran"><i class="fa fa-check"></i><b>1.7.3</b> NLP works on English translations of Al-Quran</a></li>
<li class="chapter" data-level="1.7.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#complex-nlp-tasks-for-quran-analytics"><i class="fa fa-check"></i><b>1.7.4</b> Complex NLP tasks for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#why-use-R"><i class="fa fa-check"></i><b>1.8</b> Why use R?</a></li>
<li class="chapter" data-level="1.9" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#focus-of-this-book"><i class="fa fa-check"></i><b>1.9</b> Focus of this book</a></li>
<li class="chapter" data-level="1.10" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#further-readings"><i class="fa fa-check"></i><b>1.10</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-frequencies.html"><a href="analysis-of-words-by-its-frequencies.html"><i class="fa fa-check"></i>Analysis of Words by its Frequencies</a></li>
<li class="chapter" data-level="2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html"><i class="fa fa-check"></i><b>2</b> Word Frequency Analysis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#R-packages-and-data-used"><i class="fa fa-check"></i><b>2.1</b> R packages and data used</a></li>
<li class="chapter" data-level="2.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#wordcloud-analysis"><i class="fa fa-check"></i><b>2.2</b> Wordclouds analysis</a></li>
<li class="chapter" data-level="2.3" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#analyzing-word-and-document-frequency"><i class="fa fa-check"></i><b>2.3</b> Analyzing word and document frequency</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#term-frequency-in-english-quran"><i class="fa fa-check"></i><b>2.3.1</b> Term frequency in English Quran</a></li>
<li class="chapter" data-level="2.3.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#the-bind_tf_idf-function"><i class="fa fa-check"></i><b>2.3.2</b> The <em>bind_tf_idf</em> function</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#zipfs-law"><i class="fa fa-check"></i><b>2.4</b> Zipf’s law</a></li>
<li class="chapter" data-level="2.5" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-high-occurrence-and-stopwords"><i class="fa fa-check"></i><b>2.5</b> Words of high occurrence and stopwords</a></li>
<li class="chapter" data-level="2.6" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-rare-occurrence"><i class="fa fa-check"></i><b>2.6</b> Words of rare occurrence</a></li>
<li class="chapter" data-level="2.7" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-with-medium-occurrence"><i class="fa fa-check"></i><b>2.7</b> Words with medium occurrence</a></li>
<li class="chapter" data-level="2.8" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#chapter-2-summary"><i class="fa fa-check"></i><b>2.8</b> Summary</a></li>
<li class="chapter" data-level="2.9" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#further-readings-1"><i class="fa fa-check"></i><b>2.9</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html"><i class="fa fa-check"></i><b>3</b> Word Scoring Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#preprocessing-the-data"><i class="fa fa-check"></i><b>3.1</b> Preprocessing the data</a></li>
<li class="chapter" data-level="3.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-with-tidy-data"><i class="fa fa-check"></i><b>3.2</b> Sentiment analysis with tidy data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-models"><i class="fa fa-check"></i><b>3.2.1</b> Sentiment scoring models</a></li>
<li class="chapter" data-level="3.2.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#bing-scoring-model"><i class="fa fa-check"></i><b>3.2.2</b> <em>bing</em> scoring model</a></li>
<li class="chapter" data-level="3.2.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#afinn-scoring-model"><i class="fa fa-check"></i><b>3.2.3</b> <em>AFINN</em> scoring model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-within-the-surahs"><i class="fa fa-check"></i><b>3.3</b> Sentiment analysis within the Surahs</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#wordcloud-analysis-1"><i class="fa fa-check"></i><b>3.3.1</b> Wordcloud analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#statistics-of-sentiment-score"><i class="fa fa-check"></i><b>3.4</b> Statistics of sentiment score</a></li>
<li class="chapter" data-level="3.5" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-frequencies"><i class="fa fa-check"></i><b>3.5</b> Sentiment scoring frequencies</a></li>
<li class="chapter" data-level="3.6" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#building-dedicated-sentiment-scoring-model"><i class="fa fa-check"></i><b>3.6</b> Building dedicated sentiment scoring model</a></li>
<li class="chapter" data-level="3.7" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#summary-chapter-3"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#further-readings-2"><i class="fa fa-check"></i><b>3.8</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-cooccurences.html"><a href="analysis-of-words-by-its-cooccurences.html"><i class="fa fa-check"></i>Analysis of Words by its Cooccurences</a></li>
<li class="chapter" data-level="4" data-path="word-collocations.html"><a href="word-collocations.html"><i class="fa fa-check"></i><b>4</b> Word Collocations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-word-collocations"><i class="fa fa-check"></i><b>4.1</b> Analyzing word collocations</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-bi-grams"><i class="fa fa-check"></i><b>4.1.1</b> Analyzing bi-grams</a></li>
<li class="chapter" data-level="4.1.2" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-a-network-of-bigrams-with-ggraph"><i class="fa fa-check"></i><b>4.1.2</b> Visualizing a network of bigrams with <em>ggraph</em></a></li>
<li class="chapter" data-level="4.1.3" data-path="word-collocations.html"><a href="word-collocations.html#tri-grams"><i class="fa fa-check"></i><b>4.1.3</b> Tri-grams</a></li>
<li class="chapter" data-level="4.1.4" data-path="word-collocations.html"><a href="word-collocations.html#bigrams-co-ocurrences-and-correlations"><i class="fa fa-check"></i><b>4.1.4</b> Bigrams co-ocurrences and correlations</a></li>
<li class="chapter" data-level="4.1.5" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-correlations-of-bigrams-of-keywords"><i class="fa fa-check"></i><b>4.1.5</b> Visualizing correlations of bigrams of keywords</a></li>
<li class="chapter" data-level="4.1.6" data-path="word-collocations.html"><a href="word-collocations.html#summarizing-ngrams"><i class="fa fa-check"></i><b>4.1.6</b> Summarizing ngrams</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="word-collocations.html"><a href="word-collocations.html#lexical-analysis"><i class="fa fa-check"></i><b>4.2</b> Lexical analysis</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="word-collocations.html"><a href="word-collocations.html#basic-frequency-statistics"><i class="fa fa-check"></i><b>4.2.1</b> Basic frequency statistics</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="word-collocations.html"><a href="word-collocations.html#word-cooccurrences-using-POS"><i class="fa fa-check"></i><b>4.3</b> Word cooccurrences using POS</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="word-collocations.html"><a href="word-collocations.html#nouns-adjectives-and-verbs-used-in-same-sentence"><i class="fa fa-check"></i><b>4.3.1</b> Nouns, adjectives, and verbs used in same sentence</a></li>
<li class="chapter" data-level="4.3.2" data-path="word-collocations.html"><a href="word-collocations.html#words-that-follow-one-another-using-pos"><i class="fa fa-check"></i><b>4.3.2</b> Words that follow one another using POS</a></li>
<li class="chapter" data-level="4.3.3" data-path="word-collocations.html"><a href="word-collocations.html#word-correlations-using-pos"><i class="fa fa-check"></i><b>4.3.3</b> Word correlations using POS</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="word-collocations.html"><a href="word-collocations.html#finding-keyword-combinations-using-POS"><i class="fa fa-check"></i><b>4.4</b> Finding keyword combinations using POS</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="word-collocations.html"><a href="word-collocations.html#using-rake"><i class="fa fa-check"></i><b>4.4.1</b> Using RAKE</a></li>
<li class="chapter" data-level="4.4.2" data-path="word-collocations.html"><a href="word-collocations.html#using-pointwise-mutual-information-collocations"><i class="fa fa-check"></i><b>4.4.2</b> Using Pointwise Mutual Information Collocations</a></li>
<li class="chapter" data-level="4.4.3" data-path="word-collocations.html"><a href="word-collocations.html#using-a-sequence-of-pos-tags-noun-phrases"><i class="fa fa-check"></i><b>4.4.3</b> Using a sequence of POS tags (noun phrases)</a></li>
<li class="chapter" data-level="4.4.4" data-path="word-collocations.html"><a href="word-collocations.html#textrank"><i class="fa fa-check"></i><b>4.4.4</b> Textrank</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="word-collocations.html"><a href="word-collocations.html#dependency-parsing"><i class="fa fa-check"></i><b>4.5</b> Dependency parsing</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="word-collocations.html"><a href="word-collocations.html#collocations-and-co-occurences"><i class="fa fa-check"></i><b>4.5.1</b> Collocations and co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="word-collocations.html"><a href="word-collocations.html#chapter-4-summary"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
<li class="chapter" data-level="4.7" data-path="word-collocations.html"><a href="word-collocations.html#further-readings-3"><i class="fa fa-check"></i><b>4.7</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="word-collocations.html"><a href="word-collocations.html#appendix"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html"><i class="fa fa-check"></i><b>5</b> Graph Representations of Word Cooccurences</a>
<ul>
<li class="chapter" data-level="5.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#statistical-analysis-of-word-positions"><i class="fa fa-check"></i><b>5.1</b> Statistical analysis of word positions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-between-saheeh-and-yusuf-ali"><i class="fa fa-check"></i><b>5.1.1</b> Comparison between Saheeh and Yusuf Ali</a></li>
<li class="chapter" data-level="5.1.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-against-the-arabic-text"><i class="fa fa-check"></i><b>5.1.2</b> Comparison against the Arabic text</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#focus-on-surah-Yusuf"><i class="fa fa-check"></i><b>5.2</b> Focus on Surah Yusuf</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#arc-method-of-visualization"><i class="fa fa-check"></i><b>5.2.1</b> Arc method of visualization</a></li>
<li class="chapter" data-level="5.2.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#circular-method-of-visualization"><i class="fa fa-check"></i><b>5.2.2</b> Circular method of visualization</a></li>
<li class="chapter" data-level="5.2.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#grouping-of-co-occurences"><i class="fa fa-check"></i><b>5.2.3</b> Grouping of co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#a-short-tutorial-on-graphs-in-R"><i class="fa fa-check"></i><b>5.3</b> A short tutorial on graphs in <strong>R</strong></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-creation"><i class="fa fa-check"></i><b>5.3.1</b> Graph creation</a></li>
<li class="chapter" data-level="5.3.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-plots"><i class="fa fa-check"></i><b>5.3.2</b> Graph plots</a></li>
<li class="chapter" data-level="5.3.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-layouts"><i class="fa fa-check"></i><b>5.3.3</b> Graph layouts</a></li>
<li class="chapter" data-level="5.3.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-algorithms"><i class="fa fa-check"></i><b>5.3.4</b> Graph algorithms</a></li>
<li class="chapter" data-level="5.3.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-analysis"><i class="fa fa-check"></i><b>5.3.5</b> Graph analysis</a></li>
<li class="chapter" data-level="5.3.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#using-ggraph"><i class="fa fa-check"></i><b>5.3.6</b> Using ggraph</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#fun-with-network-graphs"><i class="fa fa-check"></i><b>5.4</b> Fun with network graphs</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#working-with-a-bigger-graph"><i class="fa fa-check"></i><b>5.4.1</b> Working with a bigger graph</a></li>
<li class="chapter" data-level="5.4.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#taking-the-largest-component"><i class="fa fa-check"></i><b>5.4.2</b> Taking the largest component</a></li>
<li class="chapter" data-level="5.4.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#community-structure-detection"><i class="fa fa-check"></i><b>5.4.3</b> Community structure detection</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#chapter-5-summary"><i class="fa fa-check"></i><b>5.5</b> Summary</a></li>
<li class="chapter" data-level="5.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#further-readings-4"><i class="fa fa-check"></i><b>5.6</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html"><i class="fa fa-check"></i><b>6</b> Word Cooccurences of Surah Taa Haa</a>
<ul>
<li class="chapter" data-level="6.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#data-preprocessing"><i class="fa fa-check"></i><b>6.1</b> Data preprocessing</a></li>
<li class="chapter" data-level="6.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-analysis-and-characteristics"><i class="fa fa-check"></i><b>6.2</b> Network analysis and characteristics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-characteristics"><i class="fa fa-check"></i><b>6.2.1</b> Network characteristics</a></li>
<li class="chapter" data-level="6.2.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#centrality-measures-node-level-measures"><i class="fa fa-check"></i><b>6.2.2</b> Centrality measures (node-level measures)</a></li>
<li class="chapter" data-level="6.2.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-strength"><i class="fa fa-check"></i><b>6.2.3</b> Degree and strength</a></li>
<li class="chapter" data-level="6.2.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Degree distribution</a></li>
<li class="chapter" data-level="6.2.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-degree-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.2.5</b> Degree and degree distribution for directed graph</a></li>
<li class="chapter" data-level="6.2.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-degree"><i class="fa fa-check"></i><b>6.2.6</b> Why do we care about degree?</a></li>
<li class="chapter" data-level="6.2.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#betweenness"><i class="fa fa-check"></i><b>6.2.7</b> Betweenness</a></li>
<li class="chapter" data-level="6.2.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.8</b> Degree centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#outdegree-centrality-and-indegree-prestige"><i class="fa fa-check"></i><b>6.2.9</b> Outdegree centrality and indegree prestige</a></li>
<li class="chapter" data-level="6.2.10" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#closeness-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.10</b> Closeness centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.11" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#correlation-analysis-among-centrality-measures-for-the-gu-network"><i class="fa fa-check"></i><b>6.2.11</b> Correlation analysis among centrality measures for the <em>gu</em> network</a></li>
<li class="chapter" data-level="6.2.12" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assembling-a-dataset-of-node-level-measures-for-gd-network"><i class="fa fa-check"></i><b>6.2.12</b> Assembling a dataset of node-level measures for gd network</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-level-measures"><i class="fa fa-check"></i><b>6.3</b> Network-level measures</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#size-and-density"><i class="fa fa-check"></i><b>6.3.1</b> Size and density</a></li>
<li class="chapter" data-level="6.3.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#components"><i class="fa fa-check"></i><b>6.3.2</b> Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distributions"><i class="fa fa-check"></i><b>6.3.3</b> Degree distributions</a></li>
<li class="chapter" data-level="6.3.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#average-path-length-and-diameter"><i class="fa fa-check"></i><b>6.3.4</b> Average path length and diameter</a></li>
<li class="chapter" data-level="6.3.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution"><i class="fa fa-check"></i><b>6.3.5</b> Path distance distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.3.6</b> Path distance distribution for directed graph</a></li>
<li class="chapter" data-level="6.3.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-path"><i class="fa fa-check"></i><b>6.3.7</b> Why do we care about path?</a></li>
<li class="chapter" data-level="6.3.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#clustering-coefficient-transitivity-distribution"><i class="fa fa-check"></i><b>6.3.8</b> Clustering coefficient (Transitivity) distribution</a></li>
<li class="chapter" data-level="6.3.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-clustering-coefficient"><i class="fa fa-check"></i><b>6.3.9</b> Why do we care about clustering coefficient?</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#community-structure-and-assortment"><i class="fa fa-check"></i><b>6.4</b> Community structure and assortment</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection"><i class="fa fa-check"></i><b>6.4.1</b> Modularity and community detection</a></li>
<li class="chapter" data-level="6.4.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection-a-simple-example"><i class="fa fa-check"></i><b>6.4.2</b> Modularity and community detection: a simple example</a></li>
<li class="chapter" data-level="6.4.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#another-example-of-clustering"><i class="fa fa-check"></i><b>6.4.3</b> Another example of clustering</a></li>
<li class="chapter" data-level="6.4.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assortment-homophily"><i class="fa fa-check"></i><b>6.4.4</b> Assortment (homophily)</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#analyzing-using-tidygraph"><i class="fa fa-check"></i><b>6.5</b> Analyzing using <em>tidygraph</em></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#direct-ggraph-integration"><i class="fa fa-check"></i><b>6.5.1</b> Direct ggraph integration</a></li>
<li class="chapter" data-level="6.5.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#use-selected-measures-from-tidygraph-and-plot"><i class="fa fa-check"></i><b>6.5.2</b> Use selected measures from <em>tidygraph</em> and plot</a></li>
<li class="chapter" data-level="6.5.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#example-combining-selected-node-and-edge-measures-from-tidygraph"><i class="fa fa-check"></i><b>6.5.3</b> Example combining selected node and edge measures from <em>tidygraph</em></a></li>
<li class="chapter" data-level="6.5.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#who-is-the-most-important-influencer"><i class="fa fa-check"></i><b>6.5.4</b> Who is the most important influencer?</a></li>
<li class="chapter" data-level="6.5.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#build-communities-and-calculate-measures"><i class="fa fa-check"></i><b>6.5.5</b> Build communities and calculate measures</a></li>
<li class="chapter" data-level="6.5.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#visualize-the-network"><i class="fa fa-check"></i><b>6.5.6</b> Visualize the network</a></li>
<li class="chapter" data-level="6.5.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#concentric-layouts"><i class="fa fa-check"></i><b>6.5.7</b> Concentric layouts</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#chapter-6-summary"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
<li class="chapter" data-level="6.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#further-readings-5"><i class="fa fa-check"></i><b>6.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="text-and-knowledge-modeling.html"><a href="text-and-knowledge-modeling.html"><i class="fa fa-check"></i>Text and Knowledge Modeling</a></li>
<li class="chapter" data-level="7" data-path="text-network-analysis.html"><a href="text-network-analysis.html"><i class="fa fa-check"></i><b>7</b> Texts Network Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#a-brief-tutorial-on-quanteda"><i class="fa fa-check"></i><b>7.1</b> A brief on <em>quanteda</em></a></li>
<li class="chapter" data-level="7.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#analyzing-word-cooccurrences-as-a-network"><i class="fa fa-check"></i><b>7.2</b> Analyzing word cooccurrence as a network</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#network-dynamics-growth-of-word-co-occurrence-network"><i class="fa fa-check"></i><b>7.2.1</b> Network dynamics: growth of word co-occurrence network</a></li>
<li class="chapter" data-level="7.2.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-co-occurrence-network-statistics"><i class="fa fa-check"></i><b>7.2.2</b> Word co-occurrence network statistics</a></li>
<li class="chapter" data-level="7.2.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#diameter-and-average-distance"><i class="fa fa-check"></i><b>7.2.3</b> Diameter and average distance</a></li>
<li class="chapter" data-level="7.2.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#connectedness"><i class="fa fa-check"></i><b>7.2.4</b> Connectedness</a></li>
<li class="chapter" data-level="7.2.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#degree-distributions-1"><i class="fa fa-check"></i><b>7.2.5</b> Degree distributions</a></li>
<li class="chapter" data-level="7.2.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#clustering-coefficients"><i class="fa fa-check"></i><b>7.2.6</b> Clustering coefficients</a></li>
<li class="chapter" data-level="7.2.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#modularity"><i class="fa fa-check"></i><b>7.2.7</b> Modularity</a></li>
<li class="chapter" data-level="7.2.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#betweenness-1"><i class="fa fa-check"></i><b>7.2.8</b> Betweenness</a></li>
<li class="chapter" data-level="7.2.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#prestige-centrality"><i class="fa fa-check"></i><b>7.2.9</b> Prestige centrality</a></li>
<li class="chapter" data-level="7.2.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary"><i class="fa fa-check"></i><b>7.2.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#dive-into-selected-surahs"><i class="fa fa-check"></i><b>7.3</b> Dive into selected Surahs</a></li>
<li class="chapter" data-level="7.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-collocations-statistical-method"><i class="fa fa-check"></i><b>7.4</b> Word collocations statistical method</a></li>
<li class="chapter" data-level="7.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-keyness-comparisons"><i class="fa fa-check"></i><b>7.5</b> Word keyness comparisons</a></li>
<li class="chapter" data-level="7.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#lexical-diversity-and-dispersion"><i class="fa fa-check"></i><b>7.6</b> Lexical diversity and dispersion</a></li>
<li class="chapter" data-level="7.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#viewing-the-network-as-dendrogram"><i class="fa fa-check"></i><b>7.7</b> Viewing the network as dendrogram</a></li>
<li class="chapter" data-level="7.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-similarity-in-verses"><i class="fa fa-check"></i><b>7.8</b> Words similarity in verses</a></li>
<li class="chapter" data-level="7.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-dissimilarity-in-verses"><i class="fa fa-check"></i><b>7.9</b> Words dissimilarity in verses</a></li>
<li class="chapter" data-level="7.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary-chapter-7"><i class="fa fa-check"></i><b>7.10</b> Summary</a></li>
<li class="chapter" data-level="7.11" data-path="text-network-analysis.html"><a href="text-network-analysis.html#further-readings-6"><i class="fa fa-check"></i><b>7.11</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="text-classification-models.html"><a href="text-classification-models.html"><i class="fa fa-check"></i><b>8</b> Text Classification Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="text-classification-models.html"><a href="text-classification-models.html#brief-outline-of-text-modeling"><i class="fa fa-check"></i><b>8.1</b> Brief outline of text modeling</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="text-classification-models.html"><a href="text-classification-models.html#general-setting"><i class="fa fa-check"></i><b>8.1.1</b> General setting</a></li>
<li class="chapter" data-level="8.1.2" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-and-unsupervised-learning-methods"><i class="fa fa-check"></i><b>8.1.2</b> Supervised and unsupervised learning methods</a></li>
<li class="chapter" data-level="8.1.3" data-path="text-classification-models.html"><a href="text-classification-models.html#topic-modeling-for-quran-analytics"><i class="fa fa-check"></i><b>8.1.3</b> Topic modeling for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="text-classification-models.html"><a href="text-classification-models.html#unsupervised-learning-models"><i class="fa fa-check"></i><b>8.2</b> Unsupervised learning models</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda-model"><i class="fa fa-check"></i><b>8.2.1</b> Latent Dirichlet Allocation (LDA) model</a></li>
<li class="chapter" data-level="8.2.2" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm"><i class="fa fa-check"></i><b>8.2.2</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.3" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-model"><i class="fa fa-check"></i><b>8.2.3</b> Latent Semantic Analysis model</a></li>
<li class="chapter" data-level="8.2.4" data-path="text-classification-models.html"><a href="text-classification-models.html#labeling-the-data"><i class="fa fa-check"></i><b>8.2.4</b> Labeling the data</a></li>
<li class="chapter" data-level="8.2.5" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda"><i class="fa fa-check"></i><b>8.2.5</b> Latent Dirichlet Allocation (LDA)</a></li>
<li class="chapter" data-level="8.2.6" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm-1"><i class="fa fa-check"></i><b>8.2.6</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.7" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-lsa"><i class="fa fa-check"></i><b>8.2.7</b> Latent Semantic Analysis (LSA)</a></li>
<li class="chapter" data-level="8.2.8" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-unsupervised-learning-model"><i class="fa fa-check"></i><b>8.2.8</b> Summarizing unsupervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-learning-models"><i class="fa fa-check"></i><b>8.3</b> Supervised learning models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="text-classification-models.html"><a href="text-classification-models.html#naive-bayes-nb"><i class="fa fa-check"></i><b>8.3.1</b> Naive Bayes (NB)</a></li>
<li class="chapter" data-level="8.3.2" data-path="text-classification-models.html"><a href="text-classification-models.html#support-vector-machines-svm"><i class="fa fa-check"></i><b>8.3.2</b> Support Vector Machines (SVM)</a></li>
<li class="chapter" data-level="8.3.3" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-supervised-learning-model"><i class="fa fa-check"></i><b>8.3.3</b> Summarizing supervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="text-classification-models.html"><a href="text-classification-models.html#ideological-difference-models"><i class="fa fa-check"></i><b>8.4</b> Ideological difference models</a></li>
<li class="chapter" data-level="8.5" data-path="text-classification-models.html"><a href="text-classification-models.html#word-embedding-models"><i class="fa fa-check"></i><b>8.5</b> Word embeddings models</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-word-embedding-model-methods"><i class="fa fa-check"></i><b>8.5.1</b> Summarizing word embedding model methods</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="text-classification-models.html"><a href="text-classification-models.html#summary-chapter-8"><i class="fa fa-check"></i><b>8.6</b> Summary</a></li>
<li class="chapter" data-level="8.7" data-path="text-classification-models.html"><a href="text-classification-models.html#further-readings-7"><i class="fa fa-check"></i><b>8.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html"><i class="fa fa-check"></i><b>9</b> Knowledge Through Verse Network</a>
<ul>
<li class="chapter" data-level="9.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#tafseer-Ibnu-Katheer-as-knowledge-graphs"><i class="fa fa-check"></i><b>9.1</b> Tafseer Ibnu Katheer as Knowledge Graphs</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#preparing-the-data-and-settings"><i class="fa fa-check"></i><b>9.1.1</b> Preparing the data and settings</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#Katheer-graph-network"><i class="fa fa-check"></i><b>9.2</b> Katheer Graph network</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-visualizations"><i class="fa fa-check"></i><b>9.2.1</b> Katheer Graph visualizations</a></li>
<li class="chapter" data-level="9.2.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-statistics"><i class="fa fa-check"></i><b>9.2.2</b> Katheer Graph network statistics</a></li>
<li class="chapter" data-level="9.2.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-degree"><i class="fa fa-check"></i><b>9.2.3</b> Katheer Graph network degree</a></li>
<li class="chapter" data-level="9.2.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-paths-and-traversals"><i class="fa fa-check"></i><b>9.2.4</b> Katheer Graph network paths and traversals</a></li>
<li class="chapter" data-level="9.2.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#network-traversals-using-statistical-properties"><i class="fa fa-check"></i><b>9.2.5</b> Network traversals using statistical properties</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-surah-al-alaa-traversals-in-surah-al-alaa"><i class="fa fa-check"></i><b>9.3</b> Traversals in Surah Al-A’laa {#traversals-in-Surah-Al-A’laa}</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#themes-of-surah-al-alaa"><i class="fa fa-check"></i><b>9.3.1</b> Themes of Surah Al-A’laa</a></li>
<li class="chapter" data-level="9.3.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#surah-al-alaa-network"><i class="fa fa-check"></i><b>9.3.2</b> Surah Al-A’laa network</a></li>
<li class="chapter" data-level="9.3.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#view-from-the-perspectives-of-the-entire-ibnu-katheer-network"><i class="fa fa-check"></i><b>9.3.3</b> View from the perspectives of the entire Ibnu Katheer network</a></li>
<li class="chapter" data-level="9.3.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-1"><i class="fa fa-check"></i><b>9.3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversing-verse-13-surah-al-alaa-traversing-verse-13-surah-al-alaa"><i class="fa fa-check"></i><b>9.4</b> Traversing verse 13 Surah Al-A’laa {#traversing-verse-13-Surah-Al-A’laa}</a></li>
<li class="chapter" data-level="9.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-verses-2:255-and-16:90"><i class="fa fa-check"></i><b>9.5</b> Traversals in verses 2:255 and 16:90</a></li>
<li class="chapter" data-level="9.6" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#word-cooccurrences-from-Katheer-graph"><i class="fa fa-check"></i><b>9.6</b> Word cooccurrences from Katheer Graph</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#setting-the-text-data"><i class="fa fa-check"></i><b>9.6.1</b> Setting the text data</a></li>
<li class="chapter" data-level="9.6.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#what-words-co-occur-together"><i class="fa fa-check"></i><b>9.6.2</b> What words co-occur together</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-chapter-9"><i class="fa fa-check"></i><b>9.7</b> Summary</a></li>
<li class="chapter" data-level="9.8" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#further-readings-8"><i class="fa fa-check"></i><b>9.8</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#appendix-1"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="way-forward.html"><a href="way-forward.html"><i class="fa fa-check"></i><b>10</b> Way Forward</a>
<ul>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#new-tools-for-studying-al-quran"><i class="fa fa-check"></i>New tools for studying Al-Quran</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#limitations"><i class="fa fa-check"></i>Limitations</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#direction-of-future-works"><i class="fa fa-check"></i>Direction of future works</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quran Analytics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graph-representations-of-word-cooccurrences" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Graph Representations of Word Cooccurences<a href="graph-representations-of-word-cooccurrences.html#graph-representations-of-word-cooccurrences" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Word collocations and co-occurrences as explained in Chapter 4 reveal certain dimensions of relations between words. The process allows us to capture and analyze the appearances of words together. This allows linguists to understand what the meanings of the existence of these words are together, from a general linguistic point of view as well as from grammatical perspectives. This is the simplest and most basic method of analyzing word relations (i.e., through collocations and co-occurrences).</p>
<p>Stylistically expressive elements in a text can be identified at the word-level (lexical), in the way sentences are structured (syntactic), and by analyzing the attributes of the core meaning that is conveyed (semantic) <span class="citation">(<a href="#ref-dimarco1988">DiMarco and Hirst 1988</a>)</span>. An example of lexical elements is the choice of words between synonyms, e.g. “residence” versus “home”. An example of syntactic elements is sentence compounding, e.g. “We have never been to Asia, nor have we visited Africa”, where a coordinating conjunction is required for two independent clauses to relate. An example of semantic elements in style and expression, is “John attended Oxford, which is the best university in the UK” versus “Oxford, the best university in the UK attended by John”. In the first sentence, the emphasis is on John, while the second emphasizes Oxford.</p>
<p>At the fundamental level, all three elements involve the “positioning” of words in a sentence and how they fit into the style and purpose of the texts in question. Comprehensive linguistic studies require a deep look into the three elements within the texts of the whole corpus to determine differences in styles, methods, and expositions of the authors.</p>
<p>In the case of Al-Quran, we have the original Arabic text, which is fixed and unchangeable. We have various translations of the Quran into other languages, of which the sample English translations of Saheeh and Yusuf Ali are of particular interest in this book. Since a comprehensive analysis requires knowledge and expertise of linguistics, of which neither of us is an expert, our focus is on exhibiting and highlighting the possible issues in general without adhering to any linguistic or language rules. This is what we term as a “non-parametric” approach that we alluded to in the introduction of the book.</p>
<p>This chapter is divided into three main parts. In the first part, we deal with statistical properties of the word positions and perform comparisons between the Arabic text (Quran Arabic) and the English translations (Saheeh and Yusuf Ali). This is the straightforward way of dealing with the statistical properties of word relations. In the second part, we will take a different approach in dealing with the same issue, by converting the data into a network graph structure, using Surah Yusuf as our sample. Finally, in the third part, we will provide a short tutorial on <em>igraph</em> and <em>ggraph</em> packages in <strong>R</strong> and use Surah Yusuf as a working example for various network analyses which are useful for the coming chapters of the book.</p>
<div id="statistical-analysis-of-word-positions" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Statistical analysis of word positions<a href="graph-representations-of-word-cooccurrences.html#statistical-analysis-of-word-positions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Grammatical and syntactical positions or POS tags within a corpus show the usage of grammar styles in the writing of the author. Since the original source of the text is Al-Quran Arabic, upon which all translations are based, one way to observe the differences in the styles is by comparing the statistical properties of these POS tags between the corpora. The properties of these tags may reveal differences in style and approach of the texts, as explained earlier.</p>
<p>We will do the analysis based on Saheeh, Yusuf Ali and we will use the Quran Arabic as benchmark comparisons whenever required.<a href="#fn61" class="footnote-ref" id="fnref61"><sup>61</sup></a> First, we create a <em>data.frame</em> for the entire Saheeh corpus <em>udpipe</em> annotation for the English language model (named <em>QSI_udp</em> for Saheeh and <em>QYA_udp</em> for Yusuf Ali). Then we also create <em>udpipe</em> annotation for the Arabic language model (named <em>QAR_udp</em> for Quran Arabic text without diacritics (from <em>quran_ar_min</em> of <em>quRan</em> package))<a href="#fn62" class="footnote-ref" id="fnref62"><sup>62</sup></a>.</p>
<div id="comparison-between-saheeh-and-yusuf-ali" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Comparison between Saheeh and Yusuf Ali<a href="graph-representations-of-word-cooccurrences.html#comparison-between-saheeh-and-yusuf-ali" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One simple and basic analysis is to observe the percentages of UPOS across segments of texts, such as chapters, and in our case Surahs, within a corpus (Saheeh or Yusuf Ali) and compare with another corpus (Saheeh vs Yusuf Ali).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="graph-representations-of-word-cooccurrences.html#cb57-1" tabindex="-1"></a>early_surah_no <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;2&quot;</span>,<span class="st">&quot;3&quot;</span>,<span class="st">&quot;4&quot;</span>,<span class="st">&quot;5&quot;</span>,<span class="st">&quot;6&quot;</span>)</span>
<span id="cb57-2"><a href="graph-representations-of-word-cooccurrences.html#cb57-2" tabindex="-1"></a>mid_surah_no <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;56&quot;</span>,<span class="st">&quot;57&quot;</span>,<span class="st">&quot;58&quot;</span>,<span class="st">&quot;59&quot;</span>,<span class="st">&quot;60&quot;</span>)</span>
<span id="cb57-3"><a href="graph-representations-of-word-cooccurrences.html#cb57-3" tabindex="-1"></a>last_surah_no <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;107&quot;</span>,<span class="st">&quot;108&quot;</span>,<span class="st">&quot;109&quot;</span>,<span class="st">&quot;110&quot;</span>,<span class="st">&quot;111&quot;</span>,<span class="st">&quot;112&quot;</span>,<span class="st">&quot;113&quot;</span>,<span class="st">&quot;114&quot;</span>)</span>
<span id="cb57-4"><a href="graph-representations-of-word-cooccurrences.html#cb57-4" tabindex="-1"></a>pos_plotter <span class="ot">=</span> <span class="cf">function</span>(df_udp, surah_no_input,title_label){</span>
<span id="cb57-5"><a href="graph-representations-of-word-cooccurrences.html#cb57-5" tabindex="-1"></a>  df_udp <span class="sc">%&gt;%</span> <span class="fu">filter</span>(surah_no <span class="sc">%in%</span> surah_no_input) <span class="sc">%&gt;%</span> </span>
<span id="cb57-6"><a href="graph-representations-of-word-cooccurrences.html#cb57-6" tabindex="-1"></a>                <span class="fu">group_by</span>(surah_no) <span class="sc">%&gt;%</span> <span class="fu">count</span>(upos) <span class="sc">%&gt;%</span> </span>
<span id="cb57-7"><a href="graph-representations-of-word-cooccurrences.html#cb57-7" tabindex="-1"></a>                <span class="fu">mutate</span>(<span class="at">prop=</span>n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb57-8"><a href="graph-representations-of-word-cooccurrences.html#cb57-8" tabindex="-1"></a>                <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(upos), <span class="at">y=</span>prop, <span class="at">color =</span> surah_no)) <span class="sc">+</span></span>
<span id="cb57-9"><a href="graph-representations-of-word-cooccurrences.html#cb57-9" tabindex="-1"></a>                  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>) <span class="sc">+</span></span>
<span id="cb57-10"><a href="graph-representations-of-word-cooccurrences.html#cb57-10" tabindex="-1"></a>                  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>), </span>
<span id="cb57-11"><a href="graph-representations-of-word-cooccurrences.html#cb57-11" tabindex="-1"></a>                        <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>) <span class="sc">+</span></span>
<span id="cb57-12"><a href="graph-representations-of-word-cooccurrences.html#cb57-12" tabindex="-1"></a>                  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="fl">0.35</span>) <span class="sc">+</span></span>
<span id="cb57-13"><a href="graph-representations-of-word-cooccurrences.html#cb57-13" tabindex="-1"></a>                  <span class="fu">labs</span>(<span class="at">title =</span> title_label,</span>
<span id="cb57-14"><a href="graph-representations-of-word-cooccurrences.html#cb57-14" tabindex="-1"></a>                     <span class="at">x =</span> <span class="st">&quot;UPOS&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Percentage&quot;</span>)<span class="sc">+</span></span>
<span id="cb57-15"><a href="graph-representations-of-word-cooccurrences.html#cb57-15" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>))<span class="sc">+</span></span>
<span id="cb57-16"><a href="graph-representations-of-word-cooccurrences.html#cb57-16" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span>
<span id="cb57-17"><a href="graph-representations-of-word-cooccurrences.html#cb57-17" tabindex="-1"></a>    </span>
<span id="cb57-18"><a href="graph-representations-of-word-cooccurrences.html#cb57-18" tabindex="-1"></a>}</span></code></pre></div>
<p>First, let us plot the POS percentages for the entire text.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig501"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig501-1.png" alt="Percentage of POS categories in Saheeh and Yusuf Ali for the entire text" width="768" />
<p class="caption">
Figure 5.1: Percentage of POS categories in Saheeh and Yusuf Ali for the entire text
</p>
</div>
<p>From Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig501">5.1</a>, we can see that both Saheeh and Yusuf Ali prominently use nouns, pronouns, verbs, and adpositions almost similarly (based on the observation for the texts, the full sample size). However, in the case of punctuation, Yusuf Ali tends to be higher than Saheeh. As indicated by linguists, usage of more punctuation indicates the possible difference between the literary English of Yusuf Ali compared to Saheeh (possibly due to the American English of Saheeh).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig502"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig502-1.png" alt="Percentage of POS categories in Saheeh and Yusuf Ali for early Surahs" width="768" />
<p class="caption">
Figure 5.2: Percentage of POS categories in Saheeh and Yusuf Ali for early Surahs
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig503"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig503-1.png" alt="Percentage of POS categories in Saheeh and Yusuf Ali for middle Surahs" width="768" />
<p class="caption">
Figure 5.3: Percentage of POS categories in Saheeh and Yusuf Ali for middle Surahs
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig504"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig504-1.png" alt="Percentage of POS in Saheeh and Yusuf Ali for last Surahs" width="768" />
<p class="caption">
Figure 5.4: Percentage of POS in Saheeh and Yusuf Ali for last Surahs
</p>
</div>
<p>The plots resulting from the codes are in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig502">5.2</a>, Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig503">5.3</a>, and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig504">5.4</a>. They refer to the long Surahs, medium Surahs, and short Surahs (the last few). We will make some observations based on just visualizing the plots.</p>
<p>In general, we can conclude that, based on the statistics of POS tags, Saheeh and Yusuf Ali differ to some degree from a lexical perspective. A clear trend emerges where, as the Surahs become shorter, the compositions of <em>upos</em> tags vary with higher variability. This re-confirms our earlier observations from Figure <a href="word-frequency-analysis.html#fig:ch2fig213">2.13</a> in Chapter 2, which shows that the lexical variety increases as the Surah becomes shorter.</p>
<p>Furthermore, the lexical differences between the translations may extend into the semantics as well the pragmatics, which indicate differences in meaning or interpretation. Again, this is a non-trivial issue, since over the years many attempts to produce reliable interpretations of Al-Quran have been attempted by many scholars. They need to be re-looked upon since it may seriously affect the teaching of Al-Quran using interpretations based upon non-Quranic native languages.</p>
</div>
<div id="comparison-against-the-arabic-text" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Comparison against the Arabic text<a href="graph-representations-of-word-cooccurrences.html#comparison-against-the-arabic-text" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will compare the POS taggings with the Arabic text, for the purpose of benchmarking. It is not our intention to do a comprehensive analysis of the texts, as it is beyond the scope of the current book. We have planned it for our future research. However, we believe that if we want to compare the works of translations, a benchmark is required, and there is no better choice than the original Arabic text itself.</p>
<p>First,we need to load the Arabic POS tagging data<a href="#fn63" class="footnote-ref" id="fnref63"><sup>63</sup></a> into the environment and then we can make the comparisons.</p>
<p>We first tabulate the data in numbers for a quick overview.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Arabic</th>
<th>Saheeh</th>
<th>Yusuf Ali</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PUNCTUATION</td>
<td>18,157</td>
<td>33,960</td>
<td>39,315</td>
</tr>
<tr class="even">
<td>NOUN</td>
<td>40,093</td>
<td>21,754</td>
<td>26,251</td>
</tr>
<tr class="odd">
<td>PRONOUN</td>
<td>29,940</td>
<td>29,986</td>
<td>29,612</td>
</tr>
<tr class="even">
<td>VERB</td>
<td>31,337</td>
<td>20,723</td>
<td>21,305</td>
</tr>
<tr class="odd">
<td>X</td>
<td>34,701</td>
<td>55</td>
<td>66</td>
</tr>
<tr class="even">
<td>ADPOSITION</td>
<td>30,721</td>
<td>18,614</td>
<td>21,722</td>
</tr>
<tr class="odd">
<td>—————–</td>
<td>———</td>
<td>———</td>
<td>————</td>
</tr>
<tr class="even">
<td>Total tokens</td>
<td>67,161</td>
<td>113,370</td>
<td>117,415</td>
</tr>
<tr class="odd">
<td>Unique tokens</td>
<td>16,208</td>
<td>5,739</td>
<td>7,484</td>
</tr>
</tbody>
</table>
<p>Yusuf Ali is consistently higher than Saheeh in most categories: punctuation, nouns, pronouns, verbs, and adpositions. If we benchmark the English translations against the Arabic, we can see that both use fewer nouns and pronouns combined. Even the verbs are greater in Arabic compared to the English translations.</p>
<p>Clearly, the English translation (represented by Saheeh and Yusuf Ali) is starkly different compared to the Arabic when it comes to the lexical composition (which is probably obvious, due to the difference between English and Arabic). However, is the difference due to the efforts of translating compact Arabic texts to English, or is it due to the compactness of meaning? The first difference is purely a question of lexical styles, whilst the second one is a question of semantics and pragmatics of the language and texts. The answer to this question is non-trivial and requires deeper research.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig505"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig505-1.png" alt="Percentage of POS categories in Saheeh and Arabic for the entire text" width="768" />
<p class="caption">
Figure 5.5: Percentage of POS categories in Saheeh and Arabic for the entire text
</p>
</div>
<p>Based on the analysis here, we can provide some suggestions, which are evident (visually) through the plots of the statistics of the POS tags as presented in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig505">5.5</a>. For this purpose, we made some comparisons between Saheeh and Arabic (we left out Yusuf Ali for brevity) and included comparisons for the various Surahs’ groupings in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig506">5.6</a>, Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig507">5.7</a>, and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig508">5.8</a> for the readers to make some sense out of it.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig506"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig506-1.png" alt="Percentage of POS categories in Saheeh and Arabic for the early Surahs" width="768" />
<p class="caption">
Figure 5.6: Percentage of POS categories in Saheeh and Arabic for the early Surahs
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig507"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig507-1.png" alt="Percentage of POS categories in Saheeh and Arabic for the middle Surahs" width="768" />
<p class="caption">
Figure 5.7: Percentage of POS categories in Saheeh and Arabic for the middle Surahs
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig508"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig508-1.png" alt="Percentage of POS categories in Saheeh and Arabic for the last Surahs" width="768" />
<p class="caption">
Figure 5.8: Percentage of POS categories in Saheeh and Arabic for the last Surahs
</p>
</div>
<p>Finally, we leave with the following question: what do all these meant when translating the Quranic Arabic to the English language (and other languages for that matter)? At least we may say so from the semantic styles point of view, as indicated by many Islamic scholars that Al-Quran has a special language <span class="citation">(<a href="#ref-saeh2015">Saeh 2015</a>)</span>. But is it also true for lexical and syntactic styles? Furthermore, does the semantic richness of the Arabic used in Al-Quran, together with the lexical and syntactic richness combined, result in texts which produce higher-level meanings, implying that to learn Al-Quran, one must rely only on the original Arabic text?</p>
<p>General comparisons as provided in this section open more questions than answers. This is exactly the purpose of our book, to ask questions from the exploratory findings, from which we suggest other research topics.</p>
</div>
</div>
<div id="focus-on-surah-Yusuf" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Focus on Surah Yusuf<a href="graph-representations-of-word-cooccurrences.html#focus-on-surah-Yusuf" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we will explore in more detail the observations made in the previous section, applied to a specific Surah, Surah Yusuf. The choice of Surah Yusuf is made consciously with the knowledge that the Surah contains one major story, namely that of Prophet Yusuf (Joseph).</p>
<p>We will start by plotting the POS tags statistics for the Surah Yusuf from Saheeh and Yusuf Ali.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig509"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig509-1.png" alt="Percentage of POS categories in Surah Yusuf" width="576" />
<p class="caption">
Figure 5.9: Percentage of POS categories in Surah Yusuf
</p>
</div>
<p>As evident from Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig509">5.9</a>, the differences in lexical styles between Saheeh and Yusuf Ali are not that obvious, except for the fact that Yusuf Ali used more punctuations, which is the same observation made for the entire Quran (as in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig501">5.1</a>).</p>
<p>Now we will start to compute the co-occurrences in Surah Yusuf for the Saheeh and Yusuf Ali.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="graph-representations-of-word-cooccurrences.html#cb58-1" tabindex="-1"></a>sy_si <span class="ot">=</span> QSI_udp <span class="sc">%&gt;%</span> <span class="fu">filter</span>(surah_no <span class="sc">%in%</span> <span class="st">&quot;12&quot;</span>)</span>
<span id="cb58-2"><a href="graph-representations-of-word-cooccurrences.html#cb58-2" tabindex="-1"></a>sy_ya <span class="ot">=</span> QYA_udp <span class="sc">%&gt;%</span> <span class="fu">filter</span>(surah_no <span class="sc">%in%</span> <span class="st">&quot;12&quot;</span>)</span>
<span id="cb58-3"><a href="graph-representations-of-word-cooccurrences.html#cb58-3" tabindex="-1"></a>QSI_cooc <span class="ot">&lt;-</span> <span class="fu">cooccurrence</span>(<span class="at">x =</span> <span class="fu">subset</span>(sy_si, upos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;NOUN&quot;</span>, <span class="st">&quot;PROPN&quot;</span>, <span class="st">&quot;VERB&quot;</span>)), </span>
<span id="cb58-4"><a href="graph-representations-of-word-cooccurrences.html#cb58-4" tabindex="-1"></a>                     <span class="at">term =</span> <span class="st">&quot;lemma&quot;</span>, </span>
<span id="cb58-5"><a href="graph-representations-of-word-cooccurrences.html#cb58-5" tabindex="-1"></a>                     <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;ayah_no&quot;</span>, <span class="st">&quot;paragraph_id&quot;</span>, <span class="st">&quot;sentence_id&quot;</span>))</span>
<span id="cb58-6"><a href="graph-representations-of-word-cooccurrences.html#cb58-6" tabindex="-1"></a>QYA_cooc <span class="ot">&lt;-</span> <span class="fu">cooccurrence</span>(<span class="at">x =</span> <span class="fu">subset</span>(sy_ya, upos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;NOUN&quot;</span>, <span class="st">&quot;PROPN&quot;</span>, <span class="st">&quot;VERB&quot;</span>)), </span>
<span id="cb58-7"><a href="graph-representations-of-word-cooccurrences.html#cb58-7" tabindex="-1"></a>                     <span class="at">term =</span> <span class="st">&quot;lemma&quot;</span>, </span>
<span id="cb58-8"><a href="graph-representations-of-word-cooccurrences.html#cb58-8" tabindex="-1"></a>                     <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;ayah_no&quot;</span>, <span class="st">&quot;paragraph_id&quot;</span>, <span class="st">&quot;sentence_id&quot;</span>))</span></code></pre></div>
<p>We then create a graph from the <em>data.frame</em> as an <em>igraph</em> graph object, which we can visualize as a graph object using <em>ggraph</em>.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="graph-representations-of-word-cooccurrences.html#cb59-1" tabindex="-1"></a>QSI_cooc_g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="fu">head</span>(QSI_cooc,<span class="dv">100</span>))</span>
<span id="cb59-2"><a href="graph-representations-of-word-cooccurrences.html#cb59-2" tabindex="-1"></a>QYA_cooc_g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="fu">head</span>(QYA_cooc,<span class="dv">100</span>))</span>
<span id="cb59-3"><a href="graph-representations-of-word-cooccurrences.html#cb59-3" tabindex="-1"></a>gg_plotter1 <span class="ot">=</span> <span class="cf">function</span>(grf_plot){</span>
<span id="cb59-4"><a href="graph-representations-of-word-cooccurrences.html#cb59-4" tabindex="-1"></a>  <span class="fu">ggraph</span>(grf_plot, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-5"><a href="graph-representations-of-word-cooccurrences.html#cb59-5" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), </span>
<span id="cb59-6"><a href="graph-representations-of-word-cooccurrences.html#cb59-6" tabindex="-1"></a>                 <span class="at">edge_colour =</span> <span class="st">&quot;deeppink&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-7"><a href="graph-representations-of-word-cooccurrences.html#cb59-7" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(grf_plot)), <span class="at">shape =</span> <span class="dv">1</span>, </span>
<span id="cb59-8"><a href="graph-representations-of-word-cooccurrences.html#cb59-8" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-9"><a href="graph-representations-of-word-cooccurrences.html#cb59-9" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) </span>
<span id="cb59-10"><a href="graph-representations-of-word-cooccurrences.html#cb59-10" tabindex="-1"></a>}</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig510"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig510-1.png" alt="Co-occurrence network for top relations in Surah Yusuf for Saheeh" width="576" />
<p class="caption">
Figure 5.10: Co-occurrence network for top relations in Surah Yusuf for Saheeh
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig511"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig511-1.png" alt="Co-occurrence network for top relations in Surah Yusuf for Yusuf Ali" width="576" />
<p class="caption">
Figure 5.11: Co-occurrence network for top relations in Surah Yusuf for Yusuf Ali
</p>
</div>
<p>The plots in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig510">5.10</a> and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig511">5.11</a> are networks of words that co-occur frequently within Surah Yusuf. The nodes (the words), which are sized to their frequency of appearances, are linked by the edges, which are sized to the number of times the co-occurrence occurs. Clearly in the Saheeh and Yusuf Ali version, “say”, “Allah” and “Joseph” are higher by both counts. This is similar to the bigrams we did earlier with one major difference: we tag the words in accordance to its dependency parser and no stopwords are removed from the texts.<a href="#fn64" class="footnote-ref" id="fnref64"><sup>64</sup></a></p>
<div id="arc-method-of-visualization" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Arc method of visualization<a href="graph-representations-of-word-cooccurrences.html#arc-method-of-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Graphs, in the sense of graph theory, represent a powerful mathematical concept as well as a beautiful way of visualizing data. Here we present a few different ways of presenting the same data but using different layouts.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="graph-representations-of-word-cooccurrences.html#cb60-1" tabindex="-1"></a><span class="fu">ggraph</span>(QSI_cooc_g, <span class="at">layout =</span> <span class="st">&#39;linear&#39;</span>) <span class="sc">+</span> </span>
<span id="cb60-2"><a href="graph-representations-of-word-cooccurrences.html#cb60-2" tabindex="-1"></a>    <span class="fu">geom_edge_arc</span>(<span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>, <span class="at">width=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb60-3"><a href="graph-representations-of-word-cooccurrences.html#cb60-3" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb60-4"><a href="graph-representations-of-word-cooccurrences.html#cb60-4" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel=</span><span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb60-5"><a href="graph-representations-of-word-cooccurrences.html#cb60-5" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig512"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig512-1.png" alt="Arc view of co-occurrence network for top relations in Surah Yusuf for Saheeh" width="384" />
<p class="caption">
Figure 5.12: Arc view of co-occurrence network for top relations in Surah Yusuf for Saheeh
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig513"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig513-1.png" alt="Arc view of co-occurrence network for top relations in Surah Yusuf for Yusuf Ali" width="384" />
<p class="caption">
Figure 5.13: Arc view of co-occurrence network for top relations in Surah Yusuf for Yusuf Ali
</p>
</div>
<p>Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig512">5.12</a> and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig513">5.13</a>, are “arc” layouts, which organize the links in a “conversational” manner. We can observe that Saheeh’s groupings of relations differ from Yusuf Ali’s (from the organization of the arcs). The question is which one is nearer to the original texts (as shown in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig514">5.14</a>). We let the readers make their own judgment!</p>
<p>What we want to show is there are many tools besides pure statistical analysis to see the lexical styles of texts, and possibly the semantic styles, by just observations through visualizations.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig514"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig514-1.png" alt="Arc view of co-occurrence network for top relations in Surah Yusuf for Arabic" width="384" />
<p class="caption">
Figure 5.14: Arc view of co-occurrence network for top relations in Surah Yusuf for Arabic
</p>
</div>
</div>
<div id="circular-method-of-visualization" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Circular method of visualization<a href="graph-representations-of-word-cooccurrences.html#circular-method-of-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="graph-representations-of-word-cooccurrences.html#cb61-1" tabindex="-1"></a><span class="fu">ggraph</span>(QSI_cooc_g, <span class="at">layout =</span> <span class="st">&#39;linear&#39;</span>, <span class="at">circular =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb61-2"><a href="graph-representations-of-word-cooccurrences.html#cb61-2" tabindex="-1"></a>     <span class="fu">geom_edge_arc</span>(<span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>, <span class="at">width=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb61-3"><a href="graph-representations-of-word-cooccurrences.html#cb61-3" tabindex="-1"></a>     <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(QSI_cooc_g)), </span>
<span id="cb61-4"><a href="graph-representations-of-word-cooccurrences.html#cb61-4" tabindex="-1"></a>                     <span class="at">alpha =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(QSI_cooc_g), </span>
<span id="cb61-5"><a href="graph-representations-of-word-cooccurrences.html#cb61-5" tabindex="-1"></a>                     <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>) <span class="sc">+</span></span>
<span id="cb61-6"><a href="graph-representations-of-word-cooccurrences.html#cb61-6" tabindex="-1"></a>     <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb61-7"><a href="graph-representations-of-word-cooccurrences.html#cb61-7" tabindex="-1"></a>     <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig515"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig515-1.png" alt="Circular view of co-occurrence network for top relations in Surah Yusuf for Saheeh" width="576" />
<p class="caption">
Figure 5.15: Circular view of co-occurrence network for top relations in Surah Yusuf for Saheeh
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig516"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig516-1.png" alt="Circular view of co-occurrence network for top relations in Surah Yusuf for Yusuf Ali" width="576" />
<p class="caption">
Figure 5.16: Circular view of co-occurrence network for top relations in Surah Yusuf for Yusuf Ali
</p>
</div>
<p>Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig515">5.15</a> and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig516">5.16</a>, are circular layouts that provide another perspective of viewing, like a round-table discussion. Do the two “round tables” (Saheeh versus Yusuf Ali) look the same? We can say that they are close, but not the same. This is an example of the subtle differences in the “semantic meaning” (and may also be pragmatic meaning) of the texts.</p>
<p>For benchmarking, let us just compare both to the Arabic version in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig517">5.17</a> and we let the readers make their own judgment.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig517"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig517-1.png" alt="Circular view of co-occurrence network for top relations in Surah Yusuf for Arabic texts" width="576" />
<p class="caption">
Figure 5.17: Circular view of co-occurrence network for top relations in Surah Yusuf for Arabic texts
</p>
</div>
</div>
<div id="grouping-of-co-occurences" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Grouping of co-occurences<a href="graph-representations-of-word-cooccurrences.html#grouping-of-co-occurences" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we can ask, do these words which co-occur highly have their groupings? We know offhand that there are few nodes (words) that will have links to many other words, but we want to see whether all these “smaller” nodes (words of lesser prominence) are grouped in a certain manner.</p>
<p>This is easily visualized through graph clustering algorithms. We will show two different methods of “graph clustering”, one is based on the <em>fastgreedy</em> algorithm.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="graph-representations-of-word-cooccurrences.html#cb62-1" tabindex="-1"></a>fc1 <span class="ot">&lt;-</span> <span class="fu">fastgreedy.community</span>(<span class="fu">simplify</span>(<span class="fu">as.undirected</span>(QSI_cooc_g)))</span>
<span id="cb62-2"><a href="graph-representations-of-word-cooccurrences.html#cb62-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb62-3"><a href="graph-representations-of-word-cooccurrences.html#cb62-3" tabindex="-1"></a><span class="fu">plot</span>(QSI_cooc_g, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(QSI_cooc_g)<span class="sc">$</span>cor,</span>
<span id="cb62-4"><a href="graph-representations-of-word-cooccurrences.html#cb62-4" tabindex="-1"></a>      <span class="at">vertex.size =</span> <span class="fu">degree</span>(QSI_cooc_g),</span>
<span id="cb62-5"><a href="graph-representations-of-word-cooccurrences.html#cb62-5" tabindex="-1"></a>      <span class="at">vertex.label=</span><span class="cn">NA</span>,</span>
<span id="cb62-6"><a href="graph-representations-of-word-cooccurrences.html#cb62-6" tabindex="-1"></a>      <span class="at">edge.width =</span> <span class="cn">NA</span>, </span>
<span id="cb62-7"><a href="graph-representations-of-word-cooccurrences.html#cb62-7" tabindex="-1"></a>      <span class="at">edge.color =</span> <span class="cn">NA</span>,</span>
<span id="cb62-8"><a href="graph-representations-of-word-cooccurrences.html#cb62-8" tabindex="-1"></a>      <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb62-9"><a href="graph-representations-of-word-cooccurrences.html#cb62-9" tabindex="-1"></a>      <span class="at">mark.groups =</span> fc1, </span>
<span id="cb62-10"><a href="graph-representations-of-word-cooccurrences.html#cb62-10" tabindex="-1"></a>      <span class="at">mark.border=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig518"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig518-1.png" alt="Groupings by fastgreedy in Surah Yusuf for Saheeh" width="576" />
<p class="caption">
Figure 5.18: Groupings by fastgreedy in Surah Yusuf for Saheeh
</p>
</div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="graph-representations-of-word-cooccurrences.html#cb63-1" tabindex="-1"></a>fc2 <span class="ot">&lt;-</span> <span class="fu">fastgreedy.community</span>(<span class="fu">simplify</span>(<span class="fu">as.undirected</span>(QYA_cooc_g)))</span>
<span id="cb63-2"><a href="graph-representations-of-word-cooccurrences.html#cb63-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2345</span>)</span>
<span id="cb63-3"><a href="graph-representations-of-word-cooccurrences.html#cb63-3" tabindex="-1"></a><span class="fu">plot</span>(QYA_cooc_g, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(QYA_cooc_g)<span class="sc">$</span>cor,</span>
<span id="cb63-4"><a href="graph-representations-of-word-cooccurrences.html#cb63-4" tabindex="-1"></a>      <span class="at">vertex.size =</span> <span class="fu">degree</span>(QYA_cooc_g),</span>
<span id="cb63-5"><a href="graph-representations-of-word-cooccurrences.html#cb63-5" tabindex="-1"></a>      <span class="at">vertex.label=</span><span class="cn">NA</span>,</span>
<span id="cb63-6"><a href="graph-representations-of-word-cooccurrences.html#cb63-6" tabindex="-1"></a>      <span class="at">edge.width =</span> <span class="cn">NA</span>, </span>
<span id="cb63-7"><a href="graph-representations-of-word-cooccurrences.html#cb63-7" tabindex="-1"></a>      <span class="at">edge.color =</span> <span class="cn">NA</span>,</span>
<span id="cb63-8"><a href="graph-representations-of-word-cooccurrences.html#cb63-8" tabindex="-1"></a>      <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb63-9"><a href="graph-representations-of-word-cooccurrences.html#cb63-9" tabindex="-1"></a>      <span class="at">mark.groups =</span> fc2, </span>
<span id="cb63-10"><a href="graph-representations-of-word-cooccurrences.html#cb63-10" tabindex="-1"></a>      <span class="at">mark.border=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5fig519"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5fig519-1.png" alt="Groupings by fastgreedy in Surah Yusuf for Yusuf Ali" width="576" />
<p class="caption">
Figure 5.19: Groupings by fastgreedy in Surah Yusuf for Yusuf Ali
</p>
</div>
<p>Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig518">5.18</a> and Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5fig519">5.19</a> show the groupings by the colors. To interpret these visuals, we use the analogy of people in a large ballroom having conversations or hearing conversations. Are there any groupings between the people (denoted by the color schemes)? The larger nodes represent people who speak more than the smaller nodes, and a set of colors represent the sub-groupings of people. Based on this analogy, we can see that Saheeh differs from Yusuf Ali to some degree. What this implies is that the differences between Saheeh and Yusuf Ali are beyond lexical, syntactic, and semantic, rather it goes towards pragmatic (i.e. dynamics of conversations) as well.</p>
<p>There are so many ways to show these dynamics using graph theory mathematics, but for now, it suffices to leave the readers with visual impressions. For this reason, in the next section, we present a short tutorial on graphs in <strong>R</strong>. We want the readers to use some of the methods of graphing and learn to see many other dimensions of the relations using graph algorithms.</p>
</div>
</div>
<div id="a-short-tutorial-on-graphs-in-R" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> A short tutorial on graphs in <strong>R</strong><a href="graph-representations-of-word-cooccurrences.html#a-short-tutorial-on-graphs-in-R" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we will detour from our main discussion to provide a brief tutorial for graph packages in <strong>R</strong>. We will use the data from Surah Yusuf that we worked on earlier as a sample. This serves both purposes of showing how we can use <strong>R</strong> for analysis using network graphs, and at the same time demonstrate various possibilities of analysis using graph packages in <strong>R</strong>.</p>
<p>We will start with the data. As explained in the previous chapter, word co-occurrences allow us to see how words are used either in the same sentence or next to each other. The <em>udpipe</em> package makes creating co-occurrence graphs using the relevant POS tags easy. We look at how many times nouns, proper nouns, adjectives, verbs, adverbs, and numbers are used in the same verse.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="graph-representations-of-word-cooccurrences.html#cb64-1" tabindex="-1"></a>cooccur <span class="ot">&lt;-</span> <span class="fu">cooccurrence</span>(<span class="at">x =</span> <span class="fu">subset</span>(x,upos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;NOUN&quot;</span>, <span class="st">&quot;PROPN&quot;</span>, <span class="st">&quot;VERB&quot;</span>,</span>
<span id="cb64-2"><a href="graph-representations-of-word-cooccurrences.html#cb64-2" tabindex="-1"></a>                                                <span class="st">&quot;ADJ&quot;</span>, <span class="st">&quot;ADV&quot;</span>, <span class="st">&quot;NUM&quot;</span>)), </span>
<span id="cb64-3"><a href="graph-representations-of-word-cooccurrences.html#cb64-3" tabindex="-1"></a>                        <span class="at">term =</span> <span class="st">&quot;lemma&quot;</span>, </span>
<span id="cb64-4"><a href="graph-representations-of-word-cooccurrences.html#cb64-4" tabindex="-1"></a>                        <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;doc_id&quot;</span>, <span class="st">&quot;paragraph_id&quot;</span>, <span class="st">&quot;sentence_id&quot;</span>))</span></code></pre></div>
<p>The result can be easily visualized using the <em>igraph</em> and <em>ggraph</em> R packages as we have seen earlier.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="graph-representations-of-word-cooccurrences.html#cb65-1" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb65-2"><a href="graph-representations-of-word-cooccurrences.html#cb65-2" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb65-3"><a href="graph-representations-of-word-cooccurrences.html#cb65-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb65-4"><a href="graph-representations-of-word-cooccurrences.html#cb65-4" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">head</span>(cooccur, <span class="dv">100</span>)</span>
<span id="cb65-5"><a href="graph-representations-of-word-cooccurrences.html#cb65-5" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(wordnetwork)</span>
<span id="cb65-6"><a href="graph-representations-of-word-cooccurrences.html#cb65-6" tabindex="-1"></a><span class="fu">ggraph</span>(wordnetwork, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>) <span class="sc">+</span></span>
<span id="cb65-7"><a href="graph-representations-of-word-cooccurrences.html#cb65-7" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), <span class="at">edge_colour =</span> <span class="st">&quot;#ed9de9&quot;</span>) <span class="sc">+</span></span>
<span id="cb65-8"><a href="graph-representations-of-word-cooccurrences.html#cb65-8" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(wordnetwork)), <span class="at">shape =</span> <span class="dv">1</span>, </span>
<span id="cb65-9"><a href="graph-representations-of-word-cooccurrences.html#cb65-9" tabindex="-1"></a>                  <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb65-10"><a href="graph-representations-of-word-cooccurrences.html#cb65-10" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb65-11"><a href="graph-representations-of-word-cooccurrences.html#cb65-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Co-occurrences within sentence&quot;</span>,</span>
<span id="cb65-12"><a href="graph-representations-of-word-cooccurrences.html#cb65-12" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Top 100 Nouns, Names, Adjectives, Verbs, Adverbs&quot;</span>,</span>
<span id="cb65-13"><a href="graph-representations-of-word-cooccurrences.html#cb65-13" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Surah Yusuf (Sahih International)&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut1"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut1-1.png" alt="Co-occurence within sentence" width="576" />
<p class="caption">
Figure 5.20: Co-occurence within sentence
</p>
</div>
<p>The network graph shows the main words used in the Surah as nodes. The nouns and proper nouns like Joseph, his father, his brothers, the king, and the wife of the minister (al-’Azeez) make up the main characters in this revealed story. The strength or influence of each word (node) is visualized by the size of the circle representing the words (nodes) and the thickness of the links with other nodes. The verb “say” is a node that dominates since Surah Yusuf is a narrated story. It is interesting to see the strong link and occurrence of “know” with “Allah”.</p>
<p>After the simple introduction and sample examples, we come back to the graph model of how many times nouns, proper nouns, adjectives, verbs, adverbs, and numbers are used in the same verse in Surah Yusuf (111 verses).</p>
<div id="graph-creation" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Graph creation<a href="graph-representations-of-word-cooccurrences.html#graph-creation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Data, format, size</strong>
The example data used here is not big, many of the ideas behind the visualizations we will generate apply to medium and large-scale networks.</p>
<ul>
<li>When drawing very big networks we focus on identifying and visualizing communities or subsets of nodes.</li>
<li>Visualizing larger networks as giant hairballs is less helpful than providing plots that show key characteristics of the graph.</li>
</ul>
<p><strong>Create graph</strong></p>
<ul>
<li>Read nodes (term1 and term2) and edges</li>
<li>Convert raw data to an <em>igraph</em> network object.</li>
<li>Use the graph_from_data_frame() function, which takes one data frame (in our case)
<ul>
<li>Its first two columns are the IDs of the source and the target node for each edge.</li>
<li>The following columns are edge attributes (cooc, or the number of co-occurrences).</li>
</ul></li>
<li>Nodes start with a column of node IDs.
<ul>
<li>Any following columns are interpreted as node attributes.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="graph-representations-of-word-cooccurrences.html#cb66-1" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">head</span>(cooccur, <span class="dv">50</span>)</span>
<span id="cb66-2"><a href="graph-representations-of-word-cooccurrences.html#cb66-2" tabindex="-1"></a>gm <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(wordnetwork)</span></code></pre></div>
<p>We purposely limited the graph to 50 co-occurrences (links/edges) to make the plots easy to visualize. R is case sensitive. The choice of Weight/weight or Type/type makes a great difference.</p>
<ul>
<li>The description of an <em>igraph</em> object starts with four letters:
<ul>
<li>D or U, for a directed or undirected graph</li>
<li>N for a named graph (where nodes have a name attribute)</li>
<li>W for a weighted graph (where edges have a weight attribute)</li>
<li>B for a bipartite (two-mode) graph (where nodes have a type attribute)</li>
</ul></li>
<li>The two numbers that follow <strong>(35 50)</strong> refer to the number of nodes and edges in the graph. The description also lists node and edge attributes, for example:
<ul>
<li>(g/c) - graph-level character attribute</li>
<li>(v/c) - vertex-level character attribute</li>
<li>(e/n) - edge-level numeric attribute</li>
</ul></li>
</ul>
<p><strong>Some simple commands</strong></p>
<ul>
<li>We have easy access to nodes, edges, and their attributes with:</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="graph-representations-of-word-cooccurrences.html#cb67-1" tabindex="-1"></a><span class="co"># Sample of Edges of the network</span></span>
<span id="cb67-2"><a href="graph-representations-of-word-cooccurrences.html#cb67-2" tabindex="-1"></a><span class="fu">E</span>(gm)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb67-3"><a href="graph-representations-of-word-cooccurrences.html#cb67-3" tabindex="-1"></a><span class="fu">E</span>(gm)[<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb67-4"><a href="graph-representations-of-word-cooccurrences.html#cb67-4" tabindex="-1"></a><span class="co"># Sample of Vertices of the network</span></span>
<span id="cb67-5"><a href="graph-representations-of-word-cooccurrences.html#cb67-5" tabindex="-1"></a><span class="fu">V</span>(gm)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]     </span>
<span id="cb67-6"><a href="graph-representations-of-word-cooccurrences.html#cb67-6" tabindex="-1"></a><span class="fu">V</span>(gm)[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb67-7"><a href="graph-representations-of-word-cooccurrences.html#cb67-7" tabindex="-1"></a><span class="co"># Sample of Edge attribute</span></span>
<span id="cb67-8"><a href="graph-representations-of-word-cooccurrences.html#cb67-8" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>cooc[<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>]  </span>
<span id="cb67-9"><a href="graph-representations-of-word-cooccurrences.html#cb67-9" tabindex="-1"></a><span class="co"># Sample of Vertex attribute </span></span>
<span id="cb67-10"><a href="graph-representations-of-word-cooccurrences.html#cb67-10" tabindex="-1"></a><span class="fu">V</span>(gm)<span class="sc">$</span>name[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]  </span>
<span id="cb67-11"><a href="graph-representations-of-word-cooccurrences.html#cb67-11" tabindex="-1"></a><span class="fu">V</span>(gm)<span class="sc">$</span>name[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>] </span></code></pre></div>
<p><strong>Find nodes and edges by attribute:</strong></p>
<ul>
<li>We can select nodes and edges based on their attributes.</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="graph-representations-of-word-cooccurrences.html#cb68-1" tabindex="-1"></a><span class="fu">V</span>(gm)[name<span class="sc">==</span><span class="st">&quot;Allah&quot;</span>]</span>
<span id="cb68-2"><a href="graph-representations-of-word-cooccurrences.html#cb68-2" tabindex="-1"></a><span class="fu">E</span>(gm)[cooc <span class="sc">&gt;</span> <span class="dv">10</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb68-3"><a href="graph-representations-of-word-cooccurrences.html#cb68-3" tabindex="-1"></a><span class="fu">E</span>(gm)[cooc <span class="sc">&gt;</span> <span class="dv">10</span>][<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb68-4"><a href="graph-representations-of-word-cooccurrences.html#cb68-4" tabindex="-1"></a><span class="co"># You can also examine the network matrix directly:</span></span>
<span id="cb68-5"><a href="graph-representations-of-word-cooccurrences.html#cb68-5" tabindex="-1"></a>gm[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
</div>
<div id="graph-plots" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Graph plots<a href="graph-representations-of-word-cooccurrences.html#graph-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have created a scaled down network of only 50 edges from the Surah Yusuf word co-occurrence network. We refer to our tutorial word network as <strong>gm</strong>. Let us make a first simple plot and then improve it in steps. We adapted these from <a href="https://kateto.net/network-visualization" class="uri">https://kateto.net/network-visualization</a>.<a href="#fn65" class="footnote-ref" id="fnref65"><sup>65</sup></a></p>
<p><strong>Using igraph plots</strong></p>
<ul>
<li>There are sufficient plotting functions in <em>igraph</em> to begin with.</li>
</ul>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="graph-representations-of-word-cooccurrences.html#cb69-1" tabindex="-1"></a><span class="fu">plot</span>(gm)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut2"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut2-1.png" alt="First plot of tutorial word network" width="576" />
<p class="caption">
Figure 5.21: First plot of tutorial word network
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut2">5.21</a>.</p>
<p><strong>Plotting parameters</strong></p>
<p>Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut2">5.21</a> is not a pretty picture! The network plots in <em>igraph</em> have a wide set of parameters we can set. These include node options (starting with <em>vertex</em>) and edge options (starting with <em>edge</em>). A list of selected options is included below, but we can also check out by typing <em>?igraph.plotting</em> at the console prompt for more information.</p>
<ol style="list-style-type: decimal">
<li>For the <em>nodes</em>, the command is with <em>vertex.xxxx</em>, where <em>xxxx</em> are options, such as <em>color</em>, <em>label</em>, etc.</li>
<li>For the <em>edges</em>, the command is with <em>edge.xxxx</em>, where <em>yyyy</em> are options, such as <em>color</em>, <em>label</em>, etc.</li>
<li>Other commands are <em>margin</em>, <em>frame</em>, <em>palette</em>, <em>resalce</em>, etc.</li>
</ol>
<p><strong>Plot with curved edges (edge.curved=.1) and reduce arrow size:</strong></p>
<ul>
<li>We can set the node and edge options in two ways.
<ul>
<li>first one is to specify them in the plot() function, as we do below.</li>
</ul></li>
<li>Note that using curved edges will allow you to see multiple links between two nodes (e.g. links going in either direction or multiplex links)</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="graph-representations-of-word-cooccurrences.html#cb70-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">edge.arrow.size=</span>.<span class="dv">4</span>, <span class="at">edge.curved=</span>.<span class="dv">1</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut3"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut3-1.png" alt="Adjust some edge parameters" width="576" />
<p class="caption">
Figure 5.22: Adjust some edge parameters
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut3">5.22</a>.</p>
<p><strong>Set edge color to red, the node color to yellow:</strong></p>
<ul>
<li>We can set colors by name or hex code.</li>
<li>Replace the vertex label with the node names stored in “Label”</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="graph-representations-of-word-cooccurrences.html#cb71-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">edge.arrow.size=</span>.<span class="dv">2</span>, <span class="at">edge.color=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb71-2"><a href="graph-representations-of-word-cooccurrences.html#cb71-2" tabindex="-1"></a>      <span class="at">vertex.color=</span><span class="st">&quot;yellow&quot;</span>, <span class="at">vertex.frame.color=</span><span class="st">&quot;#ffffff&quot;</span>,</span>
<span id="cb71-3"><a href="graph-representations-of-word-cooccurrences.html#cb71-3" tabindex="-1"></a>      <span class="at">vertex.label=</span><span class="fu">V</span>(gm)<span class="sc">$</span>Label, <span class="at">vertex.label.color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut4"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut4-1.png" alt="Adjust colors" width="576" />
<p class="caption">
Figure 5.23: Adjust colors
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut4">5.23</a>.</p>
<p><strong>Compute node degrees (number of links) and use that to set node size:</strong></p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="graph-representations-of-word-cooccurrences.html#cb72-1" tabindex="-1"></a>deg <span class="ot">&lt;-</span> <span class="fu">degree</span>(gm, <span class="at">mode=</span><span class="st">&quot;all&quot;</span>)</span>
<span id="cb72-2"><a href="graph-representations-of-word-cooccurrences.html#cb72-2" tabindex="-1"></a><span class="fu">V</span>(gm)<span class="sc">$</span>size <span class="ot">&lt;-</span> deg</span>
<span id="cb72-3"><a href="graph-representations-of-word-cooccurrences.html#cb72-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.label=</span><span class="fu">V</span>(gm)<span class="sc">$</span>Label)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut5"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut5-1.png" alt="Adjust node size based on its degree" width="576" />
<p class="caption">
Figure 5.24: Adjust node size based on its degree
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut5">5.24</a>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="graph-representations-of-word-cooccurrences.html#cb73-1" tabindex="-1"></a>deg <span class="ot">&lt;-</span> <span class="fu">degree</span>(gm, <span class="at">mode=</span><span class="st">&quot;all&quot;</span>)</span>
<span id="cb73-2"><a href="graph-representations-of-word-cooccurrences.html#cb73-2" tabindex="-1"></a><span class="fu">V</span>(gm)<span class="sc">$</span>size <span class="ot">&lt;-</span> deg</span>
<span id="cb73-3"><a href="graph-representations-of-word-cooccurrences.html#cb73-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm), <span class="at">vertex.label=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut6"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut6-1.png" alt="Remove node labels" width="576" />
<p class="caption">
Figure 5.25: Remove node labels
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut6">5.25</a>.</p>
<p><strong>Set edge width based on number of co-occurrences:</strong></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="graph-representations-of-word-cooccurrences.html#cb74-1" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>cooc[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb74-2"><a href="graph-representations-of-word-cooccurrences.html#cb74-2" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>width <span class="ot">&lt;-</span> <span class="fu">E</span>(gm)<span class="sc">$</span>cooc</span>
<span id="cb74-3"><a href="graph-representations-of-word-cooccurrences.html#cb74-3" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>width[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb74-4"><a href="graph-representations-of-word-cooccurrences.html#cb74-4" tabindex="-1"></a><span class="fu">plot</span>(gm)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut7"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut7-1.png" alt="Adjust edge width based on number of co-occurrences" width="576" />
<p class="caption">
Figure 5.26: Adjust edge width based on number of co-occurrences
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut7">5.26</a>.</p>
<p>We change the arrow size and edge color. We introduce and set the network layout in the next code. We will show other layouts later.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="graph-representations-of-word-cooccurrences.html#cb75-1" tabindex="-1"></a><span class="co">#change arrow size and edge color:</span></span>
<span id="cb75-2"><a href="graph-representations-of-word-cooccurrences.html#cb75-2" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>arrow.size <span class="ot">&lt;-</span> .<span class="dv">2</span></span>
<span id="cb75-3"><a href="graph-representations-of-word-cooccurrences.html#cb75-3" tabindex="-1"></a><span class="fu">E</span>(gm)<span class="sc">$</span>edge.color <span class="ot">&lt;-</span> <span class="st">&quot;deeppink2&quot;</span></span>
<span id="cb75-4"><a href="graph-representations-of-word-cooccurrences.html#cb75-4" tabindex="-1"></a><span class="fu">graph_attr</span>(gm, <span class="st">&quot;layout&quot;</span>) <span class="ot">&lt;-</span> layout_with_fr</span>
<span id="cb75-5"><a href="graph-representations-of-word-cooccurrences.html#cb75-5" tabindex="-1"></a><span class="fu">plot</span>(gm) </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut8"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut8-1.png" alt="Adjust edge color and set layout" width="576" />
<p class="caption">
Figure 5.27: Adjust edge color and set layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut8">5.27</a>.</p>
<p>Sometimes, especially with semantic networks, we plot only the labels of the nodes:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="graph-representations-of-word-cooccurrences.html#cb76-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.shape=</span><span class="st">&quot;none&quot;</span>, <span class="at">vertex.label=</span><span class="fu">V</span>(gm)<span class="sc">$</span>name, </span>
<span id="cb76-2"><a href="graph-representations-of-word-cooccurrences.html#cb76-2" tabindex="-1"></a>      <span class="at">vertex.label.font=</span><span class="dv">2</span>, <span class="at">vertex.label.color=</span><span class="st">&quot;blue&quot;</span>,</span>
<span id="cb76-3"><a href="graph-representations-of-word-cooccurrences.html#cb76-3" tabindex="-1"></a>      <span class="at">vertex.label.cex=</span>.<span class="dv">7</span>, <span class="at">edge.color=</span><span class="st">&quot;gray85&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut9"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut9-1.png" alt="Adjust nodes highlighting only labels" width="576" />
<p class="caption">
Figure 5.28: Adjust nodes highlighting only labels
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut9">5.28</a>.</p>
<p><strong>Color edges of graph based on their source node color:</strong></p>
<ul>
<li>Get the starting node for each edge with the <em>ends()</em> <em>igraph</em> function.
<ul>
<li>returns the start and end vertex for edges listed in the <em>es</em> parameter.</li>
<li>names parameter controls whether the function returns edge names or IDs.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="graph-representations-of-word-cooccurrences.html#cb77-1" tabindex="-1"></a>edge.start <span class="ot">&lt;-</span> <span class="fu">ends</span>(gm, <span class="at">es=</span><span class="fu">E</span>(gm), <span class="at">names=</span>F)[,<span class="dv">1</span>]</span>
<span id="cb77-2"><a href="graph-representations-of-word-cooccurrences.html#cb77-2" tabindex="-1"></a>edge.col <span class="ot">&lt;-</span> <span class="fu">V</span>(gm)<span class="sc">$</span>color[edge.start]</span>
<span id="cb77-3"><a href="graph-representations-of-word-cooccurrences.html#cb77-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">edge.color=</span>edge.col, <span class="at">edge.curved=</span>.<span class="dv">1</span>)  </span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut10"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut10-1.png" alt="Adjust edge color based on the source node" width="576" />
<p class="caption">
Figure 5.29: Adjust edge color based on the source node
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut10">5.29</a>.</p>
<p><strong>Color edges of graph based on the number of co-occurrences:</strong></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="graph-representations-of-word-cooccurrences.html#cb78-1" tabindex="-1"></a><span class="fu">E</span>(gm)[cooc <span class="sc">&lt;=</span> <span class="dv">5</span>]<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb78-2"><a href="graph-representations-of-word-cooccurrences.html#cb78-2" tabindex="-1"></a><span class="fu">E</span>(gm)[cooc <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> cooc <span class="sc">&lt;=</span> <span class="dv">10</span>]<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">&quot;yellow&quot;</span></span>
<span id="cb78-3"><a href="graph-representations-of-word-cooccurrences.html#cb78-3" tabindex="-1"></a><span class="fu">E</span>(gm)[cooc <span class="sc">&gt;</span> <span class="dv">10</span>]<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="st">&quot;green&quot;</span></span>
<span id="cb78-4"><a href="graph-representations-of-word-cooccurrences.html#cb78-4" tabindex="-1"></a><span class="fu">plot</span>(gm)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut11"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut11-1.png" alt="Adjust edge color based on formula" width="576" />
<p class="caption">
Figure 5.30: Adjust edge color based on formula
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut11">5.30</a>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="graph-representations-of-word-cooccurrences.html#cb79-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.size=</span><span class="dv">5</span>,</span>
<span id="cb79-2"><a href="graph-representations-of-word-cooccurrences.html#cb79-2" tabindex="-1"></a>     <span class="at">layout=</span>layout.fruchterman.reingold,</span>
<span id="cb79-3"><a href="graph-representations-of-word-cooccurrences.html#cb79-3" tabindex="-1"></a>     <span class="at">vertex.label=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut12"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut12-1.png" alt="Adjust layout and remove label" width="576" />
<p class="caption">
Figure 5.31: Adjust layout and remove label
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut12">5.31</a>.</p>
</div>
<div id="graph-layouts" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Graph layouts<a href="graph-representations-of-word-cooccurrences.html#graph-layouts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Change the graph layout according to some algorithms already implemented in <em>igraph</em>. To adjust the figure we just have to assign a new layout:</p>
<ul>
<li>layout_with_dh</li>
<li>layout_with_fr</li>
<li>layout_with_kk</li>
<li>layout_with_sugiyama</li>
</ul>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="graph-representations-of-word-cooccurrences.html#cb80-1" tabindex="-1"></a>l<span class="ot">&lt;-</span><span class="fu">layout_with_dh</span>(gm)</span>
<span id="cb80-2"><a href="graph-representations-of-word-cooccurrences.html#cb80-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm)<span class="sc">$</span>cor,</span>
<span id="cb80-3"><a href="graph-representations-of-word-cooccurrences.html#cb80-3" tabindex="-1"></a>      <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm),</span>
<span id="cb80-4"><a href="graph-representations-of-word-cooccurrences.html#cb80-4" tabindex="-1"></a>      <span class="at">edge.width=</span>(<span class="fu">edge_attr</span>(gm)<span class="sc">$</span>weight)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb80-5"><a href="graph-representations-of-word-cooccurrences.html#cb80-5" tabindex="-1"></a>      <span class="at">edge.color=</span><span class="st">&quot;grey50&quot;</span>, </span>
<span id="cb80-6"><a href="graph-representations-of-word-cooccurrences.html#cb80-6" tabindex="-1"></a>      <span class="at">edge.curved=</span><span class="fl">0.5</span>,</span>
<span id="cb80-7"><a href="graph-representations-of-word-cooccurrences.html#cb80-7" tabindex="-1"></a>      <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut13"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut13-1.png" alt="Using dh layout" width="576" />
<p class="caption">
Figure 5.32: Using dh layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut13">5.32</a>.</p>
<p><strong>Other cool layouts:</strong></p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="graph-representations-of-word-cooccurrences.html#cb81-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm)<span class="sc">$</span>cor,<span class="at">vertex.label=</span><span class="cn">NA</span>,</span>
<span id="cb81-2"><a href="graph-representations-of-word-cooccurrences.html#cb81-2" tabindex="-1"></a>     <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm),</span>
<span id="cb81-3"><a href="graph-representations-of-word-cooccurrences.html#cb81-3" tabindex="-1"></a>     <span class="at">edge.width=</span>(<span class="fu">edge_attr</span>(gm)<span class="sc">$</span>weight)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb81-4"><a href="graph-representations-of-word-cooccurrences.html#cb81-4" tabindex="-1"></a>     <span class="at">edge.color=</span><span class="st">&quot;grey50&quot;</span>, </span>
<span id="cb81-5"><a href="graph-representations-of-word-cooccurrences.html#cb81-5" tabindex="-1"></a>     <span class="at">edge.curved=</span><span class="fl">0.3</span>,</span>
<span id="cb81-6"><a href="graph-representations-of-word-cooccurrences.html#cb81-6" tabindex="-1"></a>     <span class="at">layout=</span>layout_in_circle, <span class="at">main=</span><span class="st">&quot;layout_in_circle&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut14"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut14-1.png" alt="Layout in circle" width="576" />
<p class="caption">
Figure 5.33: Layout in circle
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut14">5.33</a>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="graph-representations-of-word-cooccurrences.html#cb82-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm)<span class="sc">$</span>cor,</span>
<span id="cb82-2"><a href="graph-representations-of-word-cooccurrences.html#cb82-2" tabindex="-1"></a>     <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm),</span>
<span id="cb82-3"><a href="graph-representations-of-word-cooccurrences.html#cb82-3" tabindex="-1"></a>     <span class="at">edge.width=</span>(<span class="fu">edge_attr</span>(gm)<span class="sc">$</span>weight)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb82-4"><a href="graph-representations-of-word-cooccurrences.html#cb82-4" tabindex="-1"></a>     <span class="at">edge.color=</span><span class="st">&quot;grey50&quot;</span>, </span>
<span id="cb82-5"><a href="graph-representations-of-word-cooccurrences.html#cb82-5" tabindex="-1"></a>     <span class="at">layout=</span>layout_as_tree, <span class="at">main=</span><span class="st">&quot;layout_as_tree&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut15"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut15-1.png" alt="Layout as tree" width="576" />
<p class="caption">
Figure 5.34: Layout as tree
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut15">5.34</a>.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="graph-representations-of-word-cooccurrences.html#cb83-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm)<span class="sc">$</span>cor,</span>
<span id="cb83-2"><a href="graph-representations-of-word-cooccurrences.html#cb83-2" tabindex="-1"></a>     <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm),</span>
<span id="cb83-3"><a href="graph-representations-of-word-cooccurrences.html#cb83-3" tabindex="-1"></a>     <span class="at">edge.width=</span><span class="dv">3</span><span class="sc">*</span>(<span class="fu">edge_attr</span>(gm)<span class="sc">$</span>weight)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb83-4"><a href="graph-representations-of-word-cooccurrences.html#cb83-4" tabindex="-1"></a>     <span class="at">edge.color=</span><span class="st">&quot;grey50&quot;</span>, </span>
<span id="cb83-5"><a href="graph-representations-of-word-cooccurrences.html#cb83-5" tabindex="-1"></a>     <span class="at">layout=</span>layout_as_star, <span class="at">main=</span><span class="st">&quot;layout_as_star&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut16"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut16-1.png" alt="Layout as star" width="576" />
<p class="caption">
Figure 5.35: Layout as star
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut16">5.35</a>.</p>
<p><strong>Additional layouts:</strong></p>
<ul>
<li>Use a simple program</li>
<li>List the available layouts and then grep to select</li>
</ul>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="graph-representations-of-word-cooccurrences.html#cb84-1" tabindex="-1"></a>layouts <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">&quot;^layout_&quot;</span>, <span class="fu">ls</span>(<span class="st">&quot;package:igraph&quot;</span>), </span>
<span id="cb84-2"><a href="graph-representations-of-word-cooccurrences.html#cb84-2" tabindex="-1"></a>                <span class="at">value=</span><span class="cn">TRUE</span>)[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb84-3"><a href="graph-representations-of-word-cooccurrences.html#cb84-3" tabindex="-1"></a>layouts <span class="ot">&lt;-</span> layouts[<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;bipartite|merge|norm|sugiyama|tree&quot;</span>,</span>
<span id="cb84-4"><a href="graph-representations-of-word-cooccurrences.html#cb84-4" tabindex="-1"></a>                          layouts)]</span>
<span id="cb84-5"><a href="graph-representations-of-word-cooccurrences.html#cb84-5" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb84-6"><a href="graph-representations-of-word-cooccurrences.html#cb84-6" tabindex="-1"></a><span class="cf">for</span> (layout <span class="cf">in</span> layouts) {</span>
<span id="cb84-7"><a href="graph-representations-of-word-cooccurrences.html#cb84-7" tabindex="-1"></a>      <span class="fu">print</span>(layout)</span>
<span id="cb84-8"><a href="graph-representations-of-word-cooccurrences.html#cb84-8" tabindex="-1"></a>      l <span class="ot">&lt;-</span> <span class="fu">do.call</span>(layout, <span class="fu">list</span>(gm)) </span>
<span id="cb84-9"><a href="graph-representations-of-word-cooccurrences.html#cb84-9" tabindex="-1"></a>      <span class="fu">plot</span>(gm, <span class="at">edge.arrow.mode=</span><span class="dv">0</span>, <span class="at">edge.width=</span><span class="dv">1</span>, <span class="at">layout=</span>l, </span>
<span id="cb84-10"><a href="graph-representations-of-word-cooccurrences.html#cb84-10" tabindex="-1"></a>           <span class="at">main=</span>layout) }</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut17-1"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut17-1.png" alt="Additional layouts" width="576" />
<p class="caption">
Figure 5.36: Additional layouts
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut17-2"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut17-2.png" alt="Additional layouts" width="576" />
<p class="caption">
Figure 5.37: Additional layouts
</p>
</div>
<p><strong>Fruchterman-Reingold:</strong></p>
<ul>
<li>One of the most used force-directed layout algorithms out there.</li>
<li>Force-directed layouts try to get a nice-looking graph where edges are similar in length and cross each other as little as possible.</li>
<li>They simulate the graph as a physical system.
<ul>
<li>Nodes are electrically charged particles that repel each other when they get too close.</li>
<li>Edges act as springs that attract connected nodes closer together.</li>
<li>Thus nodes are evenly distributed through the chart area, and the layout is intuitive in that nodes that share more connections are closer to each other.</li>
</ul></li>
<li>The disadvantage of these algorithms is that they are rather slow and therefore less often used in graphs larger than about 1000 nodes.</li>
<li>With force-directed layouts, you can use the <em>niter</em> parameter to control the number of iterations to perform.
<ul>
<li>Default is set at 500 iterations.</li>
<li>Lower that number for large graphs to get results faster and check if they look reasonable.</li>
</ul></li>
<li>The layout can also interpret edge weights. You can set the “weights” parameter which increases the attraction forces among nodes connected by heavier edges.</li>
</ul>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="graph-representations-of-word-cooccurrences.html#cb85-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(gm)</span>
<span id="cb85-2"><a href="graph-representations-of-word-cooccurrences.html#cb85-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut18"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut18-1.png" alt="Using fr layout" width="576" />
<p class="caption">
Figure 5.38: Using fr layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut18">5.38</a>.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="graph-representations-of-word-cooccurrences.html#cb86-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(gm, <span class="at">niter=</span><span class="dv">50</span>)</span>
<span id="cb86-2"><a href="graph-representations-of-word-cooccurrences.html#cb86-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut19"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut19-1.png" alt="Using fr layout with 50 iterations" width="576" />
<p class="caption">
Figure 5.39: Using fr layout with 50 iterations
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut19">5.39</a>.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="graph-representations-of-word-cooccurrences.html#cb87-1" tabindex="-1"></a>ws <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">rep</span>(<span class="dv">100</span>, <span class="fu">ecount</span>(gm)<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb87-2"><a href="graph-representations-of-word-cooccurrences.html#cb87-2" tabindex="-1"></a>lw <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(gm, <span class="at">weights=</span>ws)</span>
<span id="cb87-3"><a href="graph-representations-of-word-cooccurrences.html#cb87-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>lw)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut20"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut20-1.png" alt="Using fr layout different weights" width="576" />
<p class="caption">
Figure 5.40: Using fr layout different weights
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut20">5.40</a>.</p>
<p><strong>Fruchterman-Reingold Non-Deterministic:</strong></p>
<ul>
<li>Fruchterman-Reingold layout is not deterministic
<ul>
<li>different runs will result in slightly different configurations.</li>
<li>Saving the layout in <em>l</em> allows us to get the exact same result multiple times, which can be helpful if you want to plot the time evolution of a graph or different relationships – and want nodes to stay in the same place in multiple plots.</li>
</ul></li>
<li>By default, the coordinates of the plots are rescaled to the [-1,1] interval for both x and y.
<ul>
<li>change that with the parameter <em>rescale=FALSE</em> and rescale plot manually by multiplying the coordinates by a scalar.</li>
<li>use <em>norm_coords</em> to normalize the plot with the boundaries you want. This way you can create more compact or spread out layout versions.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="graph-representations-of-word-cooccurrences.html#cb88-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb88-2"><a href="graph-representations-of-word-cooccurrences.html#cb88-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>layout_with_fr)</span>
<span id="cb88-3"><a href="graph-representations-of-word-cooccurrences.html#cb88-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>layout_with_fr)</span>
<span id="cb88-4"><a href="graph-representations-of-word-cooccurrences.html#cb88-4" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span>
<span id="cb88-5"><a href="graph-representations-of-word-cooccurrences.html#cb88-5" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut21"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut21-1.png" alt="Each fr layout call with different outcomes" width="576" />
<p class="caption">
Figure 5.41: Each fr layout call with different outcomes
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut21">5.41</a>.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="graph-representations-of-word-cooccurrences.html#cb89-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_fr</span>(gm)</span>
<span id="cb89-2"><a href="graph-representations-of-word-cooccurrences.html#cb89-2" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">norm_coords</span>(l, <span class="at">ymin=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">ymax=</span><span class="dv">1</span>, <span class="at">xmin=</span><span class="sc">-</span><span class="dv">1</span>, <span class="at">xmax=</span><span class="dv">1</span>)</span>
<span id="cb89-3"><a href="graph-representations-of-word-cooccurrences.html#cb89-3" tabindex="-1"></a></span>
<span id="cb89-4"><a href="graph-representations-of-word-cooccurrences.html#cb89-4" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb89-5"><a href="graph-representations-of-word-cooccurrences.html#cb89-5" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">rescale=</span>F, <span class="at">layout=</span>l<span class="sc">*</span><span class="fl">0.4</span>)</span>
<span id="cb89-6"><a href="graph-representations-of-word-cooccurrences.html#cb89-6" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">rescale=</span>F, <span class="at">layout=</span>l<span class="sc">*</span><span class="fl">0.6</span>)</span>
<span id="cb89-7"><a href="graph-representations-of-word-cooccurrences.html#cb89-7" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">rescale=</span>F, <span class="at">layout=</span>l<span class="sc">*</span><span class="fl">0.8</span>)</span>
<span id="cb89-8"><a href="graph-representations-of-word-cooccurrences.html#cb89-8" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">rescale=</span>F, <span class="at">layout=</span>l<span class="sc">*</span><span class="fl">1.0</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut22"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut22-1.png" alt="Using fr layout call with manual rescaling" width="576" />
<p class="caption">
Figure 5.42: Using fr layout call with manual rescaling
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut22">5.42</a>.</p>
<p><strong>Kamada Kawai:</strong></p>
<ul>
<li>Another popular force-directed algorithm that produces nice results for connected graphs.</li>
<li>Like Fruchterman Reingold, it attempts to minimize the energy in a spring system.</li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="graph-representations-of-word-cooccurrences.html#cb90-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(gm)</span>
<span id="cb90-2"><a href="graph-representations-of-word-cooccurrences.html#cb90-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut23"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut23-1.png" alt="Using kk layout" width="576" />
<p class="caption">
Figure 5.43: Using kk layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut23">5.43</a>.</p>
<p><strong>Graphopt:</strong></p>
<ul>
<li>A nice force-directed layout implemented in igraph that uses layering to help with visualizations of large networks.</li>
<li>The available graphopt parameters can be used to change the mass and electric charge of nodes, as well as the optimal spring length and the spring constant for edges. The parameter names are:
<ul>
<li>charge (defaults to 0.001),</li>
<li>mass (defaults to 30),</li>
<li>spring.length (defaults to 0), and</li>
<li>spring.constant (defaults to 1).</li>
</ul></li>
<li>Tweaking those can lead to considerably different graph layouts.</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="graph-representations-of-word-cooccurrences.html#cb91-1" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_graphopt</span>(gm)</span>
<span id="cb91-2"><a href="graph-representations-of-word-cooccurrences.html#cb91-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut24"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut24-1.png" alt="Using graphopt layout" width="576" />
<p class="caption">
Figure 5.44: Using graphopt layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut24">5.44</a>.</p>
<p>The charge parameter below changes node repulsion:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="graph-representations-of-word-cooccurrences.html#cb92-1" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> <span class="fu">layout_with_graphopt</span>(gm, <span class="at">charge=</span><span class="fl">0.02</span>)</span>
<span id="cb92-2"><a href="graph-representations-of-word-cooccurrences.html#cb92-2" tabindex="-1"></a>l2 <span class="ot">&lt;-</span> <span class="fu">layout_with_graphopt</span>(gm, <span class="at">charge=</span><span class="fl">0.00000001</span>)</span>
<span id="cb92-3"><a href="graph-representations-of-word-cooccurrences.html#cb92-3" tabindex="-1"></a> </span>
<span id="cb92-4"><a href="graph-representations-of-word-cooccurrences.html#cb92-4" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb92-5"><a href="graph-representations-of-word-cooccurrences.html#cb92-5" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l1)</span>
<span id="cb92-6"><a href="graph-representations-of-word-cooccurrences.html#cb92-6" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>l2)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut25"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut25-1.png" alt="Using graphopt layout with different charge" width="576" />
<p class="caption">
Figure 5.45: Using graphopt layout with different charge
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut25">5.45</a>.</p>
</div>
<div id="graph-algorithms" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Graph algorithms<a href="graph-representations-of-word-cooccurrences.html#graph-algorithms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>LGL algorithm:</strong></p>
<ul>
<li>Meant for large, connected graphs.</li>
<li>Here you can also specify a root, a node that will be placed in the middle of the layout.</li>
</ul>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="graph-representations-of-word-cooccurrences.html#cb93-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb93-2"><a href="graph-representations-of-word-cooccurrences.html#cb93-2" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>layout_with_lgl, <span class="at">root =</span> <span class="dv">1</span>)</span>
<span id="cb93-3"><a href="graph-representations-of-word-cooccurrences.html#cb93-3" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>layout_with_lgl, <span class="at">root =</span> <span class="dv">5</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut26"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut26-1.png" alt="Using lgl layout with different roots" width="576" />
<p class="caption">
Figure 5.46: Using lgl layout with different roots
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut26">5.46</a>.</p>
<p><strong>The MDS (multidimensional scaling) algorithm:</strong></p>
<ul>
<li>Tries to place nodes based on some measure of similarity or distance between them. More similar nodes are plotted closer to each other.</li>
<li>By default, the measure used is based on the shortest paths between nodes in the network.</li>
<li>We can change that by using our own distance matrix (however defined) with the parameter dist.</li>
<li>MDS layouts are nice because positions and distances have a clear interpretation.</li>
<li>The problem with them is visual clarity: nodes often overlap, or are placed on top of each other.</li>
</ul>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="graph-representations-of-word-cooccurrences.html#cb94-1" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">layout=</span>layout_with_mds)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut27"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut27-1.png" alt="Using mds layout" width="576" />
<p class="caption">
Figure 5.47: Using mds layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut27">5.47</a>.</p>
</div>
<div id="graph-analysis" class="section level3 hasAnchor" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> Graph analysis<a href="graph-representations-of-word-cooccurrences.html#graph-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><em>igraph</em> has several built-in functions to analyze graph properties.</li>
<li>We can check for communities or clusters with a choice of algorithms.
<ul>
<li>cluster_spinglass()</li>
<li>cluster_optimal()</li>
<li>cluster_walktrap()</li>
</ul></li>
<li>We will calculate modularity using the cluster_spinglass function, which uses simulated annealing for optimization:</li>
<li>Some of the clustering functions give error results for networks with unconnected nodes.
<ul>
<li>It is obvious from the previous plots that the nodes <strong>“seek”</strong> and <strong>“seduce”</strong> are unconnected with the rest.</li>
<li>The code below shows how to use the delete_vertices() function.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="graph-representations-of-word-cooccurrences.html#cb95-1" tabindex="-1"></a>gm1 <span class="ot">&lt;-</span> <span class="fu">delete_vertices</span>(gm, <span class="st">&quot;seek&quot;</span>)</span>
<span id="cb95-2"><a href="graph-representations-of-word-cooccurrences.html#cb95-2" tabindex="-1"></a>gm1 <span class="ot">&lt;-</span> <span class="fu">delete_vertices</span>(gm1, <span class="st">&quot;seduce&quot;</span>)</span>
<span id="cb95-3"><a href="graph-representations-of-word-cooccurrences.html#cb95-3" tabindex="-1"></a>gmc <span class="ot">&lt;-</span> <span class="fu">cluster_spinglass</span>(gm1)</span>
<span id="cb95-4"><a href="graph-representations-of-word-cooccurrences.html#cb95-4" tabindex="-1"></a><span class="fu">str</span>(gmc) <span class="co">#evaluating output</span></span>
<span id="cb95-5"><a href="graph-representations-of-word-cooccurrences.html#cb95-5" tabindex="-1"></a>gmc<span class="sc">$</span>membership <span class="co">#checking to which module each node belongs to </span></span>
<span id="cb95-6"><a href="graph-representations-of-word-cooccurrences.html#cb95-6" tabindex="-1"></a><span class="fu">plot</span>(gm1, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm1)<span class="sc">$</span>cor,</span>
<span id="cb95-7"><a href="graph-representations-of-word-cooccurrences.html#cb95-7" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="dv">3</span><span class="sc">*</span><span class="fu">degree</span>(gm1),</span>
<span id="cb95-8"><a href="graph-representations-of-word-cooccurrences.html#cb95-8" tabindex="-1"></a>     <span class="at">edge.width =</span> <span class="fu">edge_attr</span>(gm1)<span class="sc">$</span>coor, </span>
<span id="cb95-9"><a href="graph-representations-of-word-cooccurrences.html#cb95-9" tabindex="-1"></a>     <span class="at">edge.color =</span> <span class="st">&quot;grey50&quot;</span>,</span>
<span id="cb95-10"><a href="graph-representations-of-word-cooccurrences.html#cb95-10" tabindex="-1"></a>     <span class="at">edge.curved =</span> <span class="fl">0.3</span>, </span>
<span id="cb95-11"><a href="graph-representations-of-word-cooccurrences.html#cb95-11" tabindex="-1"></a>     <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb95-12"><a href="graph-representations-of-word-cooccurrences.html#cb95-12" tabindex="-1"></a>     <span class="at">mark.groups =</span> gmc, </span>
<span id="cb95-13"><a href="graph-representations-of-word-cooccurrences.html#cb95-13" tabindex="-1"></a>     <span class="at">mark.border=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut28"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut28-1.png" alt="Communities or clusters in tutorial word network" width="576" />
<p class="caption">
Figure 5.48: Communities or clusters in tutorial word network
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut28">5.48</a>.</p>
<p><strong>Calculate and plot the shortest path between two nodes:</strong></p>
<ul>
<li>To emphasize the path between them, we create a new color vector for interactions (edges) the same way we did before for the nodes/vertices:</li>
</ul>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="graph-representations-of-word-cooccurrences.html#cb96-1" tabindex="-1"></a>short.path <span class="ot">&lt;-</span> <span class="fu">shortest_paths</span>(gm, <span class="at">from =</span> <span class="st">&quot;Joseph&quot;</span>, <span class="at">to =</span> <span class="st">&quot;seven&quot;</span>, <span class="at">output =</span> <span class="st">&quot;both&quot;</span>)</span>
<span id="cb96-2"><a href="graph-representations-of-word-cooccurrences.html#cb96-2" tabindex="-1"></a>short.path</span>
<span id="cb96-3"><a href="graph-representations-of-word-cooccurrences.html#cb96-3" tabindex="-1"></a><span class="co"># creating a color vector for all the edges with the color &quot;grey80&quot;; </span></span>
<span id="cb96-4"><a href="graph-representations-of-word-cooccurrences.html#cb96-4" tabindex="-1"></a><span class="co"># the ecount fucntion tells you how many edges the network has</span></span>
<span id="cb96-5"><a href="graph-representations-of-word-cooccurrences.html#cb96-5" tabindex="-1"></a>ecol <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;gray80&quot;</span>, <span class="fu">ecount</span>(gm)) </span>
<span id="cb96-6"><a href="graph-representations-of-word-cooccurrences.html#cb96-6" tabindex="-1"></a><span class="co"># coloring in red only the path in which we are interested, </span></span>
<span id="cb96-7"><a href="graph-representations-of-word-cooccurrences.html#cb96-7" tabindex="-1"></a><span class="co"># that we calculed using the shortest_paths function.</span></span>
<span id="cb96-8"><a href="graph-representations-of-word-cooccurrences.html#cb96-8" tabindex="-1"></a>ecol[<span class="fu">unlist</span>(short.path<span class="sc">$</span>epath)] <span class="ot">&lt;-</span> <span class="st">&quot;red&quot;</span> </span>
<span id="cb96-9"><a href="graph-representations-of-word-cooccurrences.html#cb96-9" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">layout_with_kk</span>(gm)</span>
<span id="cb96-10"><a href="graph-representations-of-word-cooccurrences.html#cb96-10" tabindex="-1"></a><span class="fu">plot</span>(gm, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(gm)<span class="sc">$</span>cor,</span>
<span id="cb96-11"><a href="graph-representations-of-word-cooccurrences.html#cb96-11" tabindex="-1"></a>     <span class="at">vertex.size=</span>igraph<span class="sc">::</span><span class="fu">degree</span>(gm),</span>
<span id="cb96-12"><a href="graph-representations-of-word-cooccurrences.html#cb96-12" tabindex="-1"></a>     <span class="at">edge.width=</span><span class="dv">2</span>, </span>
<span id="cb96-13"><a href="graph-representations-of-word-cooccurrences.html#cb96-13" tabindex="-1"></a>     <span class="at">edge.color=</span>ecol,</span>
<span id="cb96-14"><a href="graph-representations-of-word-cooccurrences.html#cb96-14" tabindex="-1"></a>     <span class="at">layout=</span>l)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut29"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut29-1.png" alt="Path from one node to another" width="576" />
<p class="caption">
Figure 5.49: Path from one node to another
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut29">5.49</a>.</p>
</div>
<div id="using-ggraph" class="section level3 hasAnchor" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> Using ggraph<a href="graph-representations-of-word-cooccurrences.html#using-ggraph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The <em>ggplot2</em> package and its extensions are known for offering a more meaningfully structured and advanced way to visualize data in R.</li>
<li>In <em>ggplot2</em>, we can select from a variety of visual building blocks and add them to our graphics one by one, a layer at a time.</li>
<li>The <em>ggraph</em> package takes this principle and extends it to network data. In this section, we will only cover the basics.</li>
<li>We can use our <em>igraph</em> objects directly with the <em>ggraph</em> package.</li>
<li>The following code gets the data and adds separate layers for nodes and links.</li>
</ul>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="graph-representations-of-word-cooccurrences.html#cb97-1" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb97-2"><a href="graph-representations-of-word-cooccurrences.html#cb97-2" tabindex="-1"></a>lay <span class="ot">=</span> <span class="fu">create_layout</span>(gm, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>)</span>
<span id="cb97-3"><a href="graph-representations-of-word-cooccurrences.html#cb97-3" tabindex="-1"></a><span class="fu">ggraph</span>(lay) <span class="sc">+</span> </span>
<span id="cb97-4"><a href="graph-representations-of-word-cooccurrences.html#cb97-4" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span> </span>
<span id="cb97-5"><a href="graph-representations-of-word-cooccurrences.html#cb97-5" tabindex="-1"></a>  <span class="fu">geom_node_point</span>() <span class="sc">+</span></span>
<span id="cb97-6"><a href="graph-representations-of-word-cooccurrences.html#cb97-6" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut30"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut30-1.png" alt="Using ggraph with minimal parameters set" width="576" />
<p class="caption">
Figure 5.50: Using ggraph with minimal parameters set
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut30">5.50</a>.</p>
<p><strong>Add node names and edge type:</strong></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="graph-representations-of-word-cooccurrences.html#cb98-1" tabindex="-1"></a><span class="fu">ggraph</span>(lay) <span class="sc">+</span> </span>
<span id="cb98-2"><a href="graph-representations-of-word-cooccurrences.html#cb98-2" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span> </span>
<span id="cb98-3"><a href="graph-representations-of-word-cooccurrences.html#cb98-3" tabindex="-1"></a>    <span class="fu">geom_node_point</span>() <span class="sc">+</span> </span>
<span id="cb98-4"><a href="graph-representations-of-word-cooccurrences.html#cb98-4" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb98-5"><a href="graph-representations-of-word-cooccurrences.html#cb98-5" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">color =</span> cooc))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut31"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut31-1.png" alt="ggraph with node and edge parameters set" width="576" />
<p class="caption">
Figure 5.51: ggraph with node and edge parameters set
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut31">5.51</a>.</p>
<p><strong>Plot node degree as node size (and alpha):</strong></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="graph-representations-of-word-cooccurrences.html#cb99-1" tabindex="-1"></a><span class="fu">ggraph</span>(lay) <span class="sc">+</span> </span>
<span id="cb99-2"><a href="graph-representations-of-word-cooccurrences.html#cb99-2" tabindex="-1"></a>    <span class="fu">geom_node_point</span>() <span class="sc">+</span> </span>
<span id="cb99-3"><a href="graph-representations-of-word-cooccurrences.html#cb99-3" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb99-4"><a href="graph-representations-of-word-cooccurrences.html#cb99-4" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm), <span class="at">alpha =</span> <span class="fu">degree</span>(gm)), </span>
<span id="cb99-5"><a href="graph-representations-of-word-cooccurrences.html#cb99-5" tabindex="-1"></a>                    <span class="at">color =</span> <span class="st">&quot;#de4e96&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-6"><a href="graph-representations-of-word-cooccurrences.html#cb99-6" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">color =</span> cooc))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut32"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut32-1.png" alt="ggraph with node size and alpha based on degree" width="576" />
<p class="caption">
Figure 5.52: ggraph with node size and alpha based on degree
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut32">5.52</a>.</p>
<p><strong>Plot edge weight as edge alpha:</strong></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="graph-representations-of-word-cooccurrences.html#cb100-1" tabindex="-1"></a><span class="fu">ggraph</span>(lay) <span class="sc">+</span> </span>
<span id="cb100-2"><a href="graph-representations-of-word-cooccurrences.html#cb100-2" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb100-3"><a href="graph-representations-of-word-cooccurrences.html#cb100-3" tabindex="-1"></a>  <span class="fu">geom_node_point</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut33"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut33-1.png" alt="ggraph with edge width and alpha based on number of co-occurrences" width="576" />
<p class="caption">
Figure 5.53: ggraph with edge width and alpha based on number of co-occurrences
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut33">5.53</a>.</p>
<p><strong>Layouts in ggraph:</strong></p>
<ul>
<li>Some network layouts are familiar from <em>igraph</em>:
<ul>
<li>‘star’, ‘circle’, ‘grid’, ‘sphere’, ‘kk’, ‘fr’, ‘mds’, ‘lgl’, etc.</li>
</ul></li>
<li>We can use geom_edge_link() for straight edges, geom_edge_arc() for curved ones, and geom_edge_fan() when we want to make sure any overlapping multiplex edges will be fanned out.</li>
<li>We can set visual properties for the network plot by using key function parameters.
<ul>
<li>Nodes have color, fill, shape, size, and stroke.</li>
<li>Edges have color, width, and linetype.</li>
<li>alpha parameter controls transparency.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="graph-representations-of-word-cooccurrences.html#cb101-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout=</span><span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb101-2"><a href="graph-representations-of-word-cooccurrences.html#cb101-2" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb101-3"><a href="graph-representations-of-word-cooccurrences.html#cb101-3" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Your Title Here&quot;</span>) <span class="sc">+</span>  <span class="co"># add title to the plot</span></span>
<span id="cb101-4"><a href="graph-representations-of-word-cooccurrences.html#cb101-4" tabindex="-1"></a>  <span class="fu">geom_edge_fan</span>(<span class="at">color=</span><span class="st">&quot;gray50&quot;</span>, <span class="at">width=</span><span class="fl">0.8</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb101-5"><a href="graph-representations-of-word-cooccurrences.html#cb101-5" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb101-6"><a href="graph-representations-of-word-cooccurrences.html#cb101-6" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut34"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut34-1.png" alt="Using ggraph with layout kk" width="576" />
<p class="caption">
Figure 5.54: Using ggraph with layout kk
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut34">5.54</a>.</p>
<p><strong>Different themes:</strong></p>
<ul>
<li>As in <em>ggplot2</em>, we can add different themes to the plot.
<ul>
<li>For a cleaner look, we can use a minimal or empty theme with theme_minimal() or theme_void().</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="graph-representations-of-word-cooccurrences.html#cb102-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout =</span> <span class="st">&#39;linear&#39;</span>) <span class="sc">+</span> </span>
<span id="cb102-2"><a href="graph-representations-of-word-cooccurrences.html#cb102-2" tabindex="-1"></a>    <span class="fu">geom_edge_arc</span>(<span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>, <span class="at">width=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb102-3"><a href="graph-representations-of-word-cooccurrences.html#cb102-3" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;gray50&quot;</span>) <span class="sc">+</span></span>
<span id="cb102-4"><a href="graph-representations-of-word-cooccurrences.html#cb102-4" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel=</span><span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb102-5"><a href="graph-representations-of-word-cooccurrences.html#cb102-5" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut35"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut35-1.png" alt="Using ggraph with linear layout and void theme" width="576" />
<p class="caption">
Figure 5.55: Using ggraph with linear layout and void theme
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut35">5.55</a>.</p>
<p><strong>Mapping aesthetics:</strong></p>
<ul>
<li>The <em>ggraph</em> package also uses the traditional <em>ggplot2</em> way of mapping aesthetics: specifying which elements of the data should correspond to different visual properties of the graphic.</li>
<li>It is done using the aes() function that matches visual parameters with attribute names from the data.</li>
<li>In the code below, the edge attribute type and node attribute audience.size are taken from our data as they are included in the <em>igraph</em> object.</li>
</ul>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="graph-representations-of-word-cooccurrences.html#cb103-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout=</span><span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-2"><a href="graph-representations-of-word-cooccurrences.html#cb103-2" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">color =</span> cooc)) <span class="sc">+</span>           </span>
<span id="cb103-3"><a href="graph-representations-of-word-cooccurrences.html#cb103-3" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm))) <span class="sc">+</span>  </span>
<span id="cb103-4"><a href="graph-representations-of-word-cooccurrences.html#cb103-4" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut36"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut36-1.png" alt="Using ggraph with kk layout and aes setting" width="576" />
<p class="caption">
Figure 5.56: Using ggraph with kk layout and aes setting
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut36">5.56</a>.</p>
<p><strong>Legends:</strong></p>
<ul>
<li>One great thing about <em>ggplot2</em> and <em>ggraph</em> we can see above is that they automatically generate a legend which makes plots easier to interpret.</li>
<li>We can add a layer with node labels using geom_node_text() or geom_node_label() which correspond to similar functions in <em>ggplot2</em>.</li>
</ul>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="graph-representations-of-word-cooccurrences.html#cb104-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm,  <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span></span>
<span id="cb104-2"><a href="graph-representations-of-word-cooccurrences.html#cb104-2" tabindex="-1"></a>  <span class="fu">geom_edge_arc</span>(<span class="at">color=</span><span class="st">&quot;gray&quot;</span>, <span class="at">curvature=</span><span class="fl">0.3</span>) <span class="sc">+</span>            </span>
<span id="cb104-3"><a href="graph-representations-of-word-cooccurrences.html#cb104-3" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">color=</span><span class="st">&quot;#de4e96&quot;</span>, <span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm))) <span class="sc">+</span>     </span>
<span id="cb104-4"><a href="graph-representations-of-word-cooccurrences.html#cb104-4" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;darkblue&quot;</span>, </span>
<span id="cb104-5"><a href="graph-representations-of-word-cooccurrences.html#cb104-5" tabindex="-1"></a>                 <span class="at">repel=</span>T) <span class="sc">+</span></span>
<span id="cb104-6"><a href="graph-representations-of-word-cooccurrences.html#cb104-6" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut37"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut37-1.png" alt="Using ggraph with various parameter settings" width="576" />
<p class="caption">
Figure 5.57: Using ggraph with various parameter settings
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut37">5.57</a>.</p>
<p><strong>Arc and Coord:</strong></p>
<ul>
<li><em>ggraph</em> provides some new layout types and algorithms for our drawing pleasure</li>
</ul>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="graph-representations-of-word-cooccurrences.html#cb105-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout =</span> <span class="st">&#39;linear&#39;</span>,  <span class="at">circular =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb105-2"><a href="graph-representations-of-word-cooccurrences.html#cb105-2" tabindex="-1"></a>     <span class="fu">geom_edge_arc</span>(<span class="fu">aes</span>(<span class="at">color =</span> cooc)) <span class="sc">+</span></span>
<span id="cb105-3"><a href="graph-representations-of-word-cooccurrences.html#cb105-3" tabindex="-1"></a>     <span class="fu">geom_node_point</span>() <span class="sc">+</span></span>
<span id="cb105-4"><a href="graph-representations-of-word-cooccurrences.html#cb105-4" tabindex="-1"></a>     <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;darkblue&quot;</span>, </span>
<span id="cb105-5"><a href="graph-representations-of-word-cooccurrences.html#cb105-5" tabindex="-1"></a>                    <span class="at">repel=</span>T)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut38"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut38-1.png" alt="Using ggraph with linear layout" width="576" />
<p class="caption">
Figure 5.58: Using ggraph with linear layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut38">5.58</a>.</p>
<p><strong>Fan:</strong></p>
<ul>
<li>Sometimes the graph is not simple, i.e. it has multiple edges between the same nodes.</li>
<li>Using links is a bad choice here because edges will overlap and the viewer will be unable to discover parallel edges.</li>
<li>geom_edge_fan() helps here.
<ul>
<li>If there are no parallel edges it behaves like geom_edge_link() and draws a straight line.</li>
<li>If parallel edges exist it will spread them out as arcs with different curvature.</li>
<li>Parallel edges will be sorted by directionality before plotting so edges flowing in the same direction will be plotted together.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="graph-representations-of-word-cooccurrences.html#cb106-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb106-2"><a href="graph-representations-of-word-cooccurrences.html#cb106-2" tabindex="-1"></a>     <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">color =</span> cooc, <span class="at">width =</span> cooc)) <span class="sc">+</span></span>
<span id="cb106-3"><a href="graph-representations-of-word-cooccurrences.html#cb106-3" tabindex="-1"></a>     <span class="fu">geom_node_point</span>() <span class="sc">+</span></span>
<span id="cb106-4"><a href="graph-representations-of-word-cooccurrences.html#cb106-4" tabindex="-1"></a>     <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">&quot;darkred&quot;</span>, </span>
<span id="cb106-5"><a href="graph-representations-of-word-cooccurrences.html#cb106-5" tabindex="-1"></a>                    <span class="at">repel=</span>T)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut39"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut39-1.png" alt="Using ggraph with edge fan" width="576" />
<p class="caption">
Figure 5.59: Using ggraph with edge fan
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut39">5.59</a>.</p>
<p><strong>Density:</strong></p>
<ul>
<li>Consider the case where it is of interest to see which types of edges dominate certain areas of the graph.</li>
<li>We can color the edges, but edges can tend to get overplotted, thus reducing readability.</li>
<li>geom_edge_density() lets us add shading to our plot based on the density of edges in a certain area:</li>
</ul>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="graph-representations-of-word-cooccurrences.html#cb107-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb107-2"><a href="graph-representations-of-word-cooccurrences.html#cb107-2" tabindex="-1"></a>     <span class="fu">geom_edge_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb107-3"><a href="graph-representations-of-word-cooccurrences.html#cb107-3" tabindex="-1"></a>     <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb107-4"><a href="graph-representations-of-word-cooccurrences.html#cb107-4" tabindex="-1"></a>     <span class="fu">geom_node_point</span>(<span class="at">color=</span><span class="st">&quot;#de4e96&quot;</span>, <span class="fu">aes</span>(<span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(gm)))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut40"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut40-1.png" alt="Using ggraph with edge density" width="576" />
<p class="caption">
Figure 5.60: Using ggraph with edge density
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut40">5.60</a>.</p>
<p><strong>Other ways to represent a network:</strong></p>
<ul>
<li><em>ggraph</em> offers several other interesting ways to represent networks, including dendrograms, treemaps, hive plots, and circle plots.</li>
<li>We show below a simple heatmap of our network matrix.</li>
</ul>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="graph-representations-of-word-cooccurrences.html#cb108-1" tabindex="-1"></a>netm <span class="ot">&lt;-</span> <span class="fu">get.adjacency</span>(gm, <span class="at">attr=</span><span class="st">&quot;cooc&quot;</span>, <span class="at">sparse=</span>F)</span>
<span id="cb108-2"><a href="graph-representations-of-word-cooccurrences.html#cb108-2" tabindex="-1"></a><span class="fu">colnames</span>(netm) <span class="ot">&lt;-</span> <span class="fu">V</span>(gm)<span class="sc">$</span>name</span>
<span id="cb108-3"><a href="graph-representations-of-word-cooccurrences.html#cb108-3" tabindex="-1"></a><span class="fu">rownames</span>(netm) <span class="ot">&lt;-</span> <span class="fu">V</span>(gm)<span class="sc">$</span>name</span>
<span id="cb108-4"><a href="graph-representations-of-word-cooccurrences.html#cb108-4" tabindex="-1"></a>palf <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;red&quot;</span>)) </span>
<span id="cb108-5"><a href="graph-representations-of-word-cooccurrences.html#cb108-5" tabindex="-1"></a><span class="fu">heatmap</span>(netm[,<span class="dv">17</span><span class="sc">:</span><span class="dv">1</span>], <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">Colv =</span> <span class="cn">NA</span>, <span class="at">col =</span> <span class="fu">palf</span>(<span class="dv">100</span>), </span>
<span id="cb108-6"><a href="graph-representations-of-word-cooccurrences.html#cb108-6" tabindex="-1"></a>        <span class="at">scale=</span><span class="st">&quot;none&quot;</span>, <span class="at">margins=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">10</span>) )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut41"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut41-1.png" alt="Heatmap of word network" width="576" />
<p class="caption">
Figure 5.61: Heatmap of word network
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut41">5.61</a>.</p>
<p><strong>Plot the degree distribution for our network:</strong></p>
<ul>
<li>Depending on what properties of the network or its nodes and edges are most important to us, simple graphs can often be more informative.</li>
</ul>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="graph-representations-of-word-cooccurrences.html#cb109-1" tabindex="-1"></a>deg.dist <span class="ot">&lt;-</span> <span class="fu">degree_distribution</span>(gm, <span class="at">cumulative=</span>T, <span class="at">mode=</span><span class="st">&quot;all&quot;</span>)</span>
<span id="cb109-2"><a href="graph-representations-of-word-cooccurrences.html#cb109-2" tabindex="-1"></a><span class="fu">plot</span>( <span class="at">x=</span><span class="dv">0</span><span class="sc">:</span><span class="fu">max</span>(<span class="fu">degree</span>(gm)), <span class="at">y=</span><span class="dv">1</span><span class="sc">-</span>deg.dist, <span class="at">pch=</span><span class="dv">19</span>, <span class="at">cex=</span><span class="fl">1.2</span>, <span class="at">col=</span><span class="st">&quot;orange&quot;</span>, </span>
<span id="cb109-3"><a href="graph-representations-of-word-cooccurrences.html#cb109-3" tabindex="-1"></a>      <span class="at">xlab=</span><span class="st">&quot;Degree&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Cumulative Frequency&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut42"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut42-1.png" alt="Degree distribution of word network" width="576" />
<p class="caption">
Figure 5.62: Degree distribution of word network
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut42">5.62</a>.</p>
</div>
</div>
<div id="fun-with-network-graphs" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Fun with network graphs<a href="graph-representations-of-word-cooccurrences.html#fun-with-network-graphs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let us have some light moments working with network graphs. We have seen the various network layout options, and also for geom_edge_density, geom_edge_link, geom_node_point, geom_node_text. Different combinations of these options can result in interesting and fun ways to represent network graph data.</p>
<p>Digital art is one interesting aspect of visualizing data. We will show an example in this section. For that, we increase the network size of the word co-occurrences in Surah Yusuf and explore.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="graph-representations-of-word-cooccurrences.html#cb110-1" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">head</span>(cooccur, <span class="dv">100</span>)</span>
<span id="cb110-2"><a href="graph-representations-of-word-cooccurrences.html#cb110-2" tabindex="-1"></a>gm1 <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(wordnetwork)</span>
<span id="cb110-3"><a href="graph-representations-of-word-cooccurrences.html#cb110-3" tabindex="-1"></a><span class="fu">ggraph</span>(gm1, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb110-4"><a href="graph-representations-of-word-cooccurrences.html#cb110-4" tabindex="-1"></a>      <span class="fu">geom_edge_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb110-5"><a href="graph-representations-of-word-cooccurrences.html#cb110-5" tabindex="-1"></a>      <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">&quot;#57d3e6&quot;</span>) <span class="sc">+</span></span>
<span id="cb110-6"><a href="graph-representations-of-word-cooccurrences.html#cb110-6" tabindex="-1"></a>      <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm1)), <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>) <span class="sc">+</span></span>
<span id="cb110-7"><a href="graph-representations-of-word-cooccurrences.html#cb110-7" tabindex="-1"></a>      <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb110-8"><a href="graph-representations-of-word-cooccurrences.html#cb110-8" tabindex="-1"></a>      <span class="fu">ggtitle</span>(<span class="st">&quot;Network of Top 100 Words&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut43"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut43-1.png" alt="Larger network density with labels" width="576" />
<p class="caption">
Figure 5.63: Larger network density with labels
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut43">5.63</a>.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="graph-representations-of-word-cooccurrences.html#cb111-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm1, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb111-2"><a href="graph-representations-of-word-cooccurrences.html#cb111-2" tabindex="-1"></a>      <span class="fu">geom_edge_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb111-3"><a href="graph-representations-of-word-cooccurrences.html#cb111-3" tabindex="-1"></a>      <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">&quot;#57d3e6&quot;</span>) <span class="sc">+</span></span>
<span id="cb111-4"><a href="graph-representations-of-word-cooccurrences.html#cb111-4" tabindex="-1"></a>      <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm1)),</span>
<span id="cb111-5"><a href="graph-representations-of-word-cooccurrences.html#cb111-5" tabindex="-1"></a>                      <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>) <span class="sc">+</span></span>
<span id="cb111-6"><a href="graph-representations-of-word-cooccurrences.html#cb111-6" tabindex="-1"></a>      <span class="fu">ggtitle</span>(<span class="st">&quot;Network of Top 100 Words&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut44"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut44-1.png" alt="Larger network density without labels" width="576" />
<p class="caption">
Figure 5.64: Larger network density without labels
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut44">5.64</a>.</p>
<p>We remove the title and legend. We encourage our readers to try different combinations of colors, alphas, and network size. Surah Yusuf is a beautiful Surah. The word co-occurrence network of this Surah looks quite pretty too.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="graph-representations-of-word-cooccurrences.html#cb112-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm1, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb112-2"><a href="graph-representations-of-word-cooccurrences.html#cb112-2" tabindex="-1"></a>      <span class="fu">geom_edge_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb112-3"><a href="graph-representations-of-word-cooccurrences.html#cb112-3" tabindex="-1"></a>      <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">&quot;#57d3e6&quot;</span>) <span class="sc">+</span></span>
<span id="cb112-4"><a href="graph-representations-of-word-cooccurrences.html#cb112-4" tabindex="-1"></a>      <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm1)),</span>
<span id="cb112-5"><a href="graph-representations-of-word-cooccurrences.html#cb112-5" tabindex="-1"></a>                      <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut45"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut45-1.png" alt="Digital art from Surah Yusuf" width="576" />
<p class="caption">
Figure 5.65: Digital art from Surah Yusuf
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut45">5.65</a>.</p>
<p>We now use the linear layout with the circular parameter set to TRUE to give a circular effect.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="graph-representations-of-word-cooccurrences.html#cb113-1" tabindex="-1"></a><span class="fu">ggraph</span>(gm1, <span class="at">layout =</span> <span class="st">&#39;linear&#39;</span>, <span class="at">circular =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb113-2"><a href="graph-representations-of-word-cooccurrences.html#cb113-2" tabindex="-1"></a>     <span class="fu">geom_edge_arc</span>(<span class="at">color =</span> <span class="st">&quot;#57d3e6&quot;</span>, <span class="at">width=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb113-3"><a href="graph-representations-of-word-cooccurrences.html#cb113-3" tabindex="-1"></a>     <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> <span class="fu">degree</span>(gm1)), <span class="at">alpha =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(gm1), </span>
<span id="cb113-4"><a href="graph-representations-of-word-cooccurrences.html#cb113-4" tabindex="-1"></a>                     <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>) <span class="sc">+</span></span>
<span id="cb113-5"><a href="graph-representations-of-word-cooccurrences.html#cb113-5" tabindex="-1"></a>     <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb113-6"><a href="graph-representations-of-word-cooccurrences.html#cb113-6" tabindex="-1"></a>     <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb113-7"><a href="graph-representations-of-word-cooccurrences.html#cb113-7" tabindex="-1"></a>     <span class="fu">ggtitle</span>(<span class="st">&quot;Network of Top 100 Words&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut46"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut46-1.png" alt="Word network with circular layout" width="576" />
<p class="caption">
Figure 5.66: Word network with circular layout
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut46">5.66</a>.</p>
<div id="working-with-a-bigger-graph" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Working with a bigger graph<a href="graph-representations-of-word-cooccurrences.html#working-with-a-bigger-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We increase the word network for Surah Yusuf to 2000 co-occurrences or edges.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="graph-representations-of-word-cooccurrences.html#cb114-1" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">head</span>(cooccur, <span class="dv">2000</span>)</span>
<span id="cb114-2"><a href="graph-representations-of-word-cooccurrences.html#cb114-2" tabindex="-1"></a>jg <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(wordnetwork)</span>
<span id="cb114-3"><a href="graph-representations-of-word-cooccurrences.html#cb114-3" tabindex="-1"></a></span>
<span id="cb114-4"><a href="graph-representations-of-word-cooccurrences.html#cb114-4" tabindex="-1"></a><span class="fu">ggraph</span>(jg, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span> </span>
<span id="cb114-5"><a href="graph-representations-of-word-cooccurrences.html#cb114-5" tabindex="-1"></a>      <span class="fu">geom_edge_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> cooc)) <span class="sc">+</span> </span>
<span id="cb114-6"><a href="graph-representations-of-word-cooccurrences.html#cb114-6" tabindex="-1"></a>      <span class="fu">geom_edge_link</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">&quot;#57d3e6&quot;</span>) <span class="sc">+</span></span>
<span id="cb114-7"><a href="graph-representations-of-word-cooccurrences.html#cb114-7" tabindex="-1"></a>      <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(jg)), </span>
<span id="cb114-8"><a href="graph-representations-of-word-cooccurrences.html#cb114-8" tabindex="-1"></a>                      <span class="at">colour =</span> <span class="st">&quot;#a83268&quot;</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb114-9"><a href="graph-representations-of-word-cooccurrences.html#cb114-9" tabindex="-1"></a>      <span class="fu">ggtitle</span>(<span class="st">&quot;Data Art of Top 2000 Coccurrences&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut47"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut47-1.png" alt="Larger word network with kk layout and edge density" width="576" />
<p class="caption">
Figure 5.67: Larger word network with kk layout and edge density
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut47">5.67</a>.</p>
<p>Does the plot above show all the 421 nodes as connected? We can do other analyses.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="graph-representations-of-word-cooccurrences.html#cb115-1" tabindex="-1"></a><span class="fu">is.connected</span>(jg) <span class="co"># Is it connected?</span></span>
<span id="cb115-2"><a href="graph-representations-of-word-cooccurrences.html#cb115-2" tabindex="-1"></a><span class="fu">no.clusters</span>(jg) <span class="co"># How many components?</span></span>
<span id="cb115-3"><a href="graph-representations-of-word-cooccurrences.html#cb115-3" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">clusters</span>(jg)<span class="sc">$</span>csize) <span class="co"># How big are these?</span></span>
<span id="cb115-4"><a href="graph-representations-of-word-cooccurrences.html#cb115-4" tabindex="-1"></a><span class="fu">max</span>(<span class="fu">degree</span>(jg, <span class="at">mode=</span><span class="st">&quot;in&quot;</span>)) <span class="co"># Vertex degree</span></span>
<span id="cb115-5"><a href="graph-representations-of-word-cooccurrences.html#cb115-5" tabindex="-1"></a><span class="fu">max</span>(<span class="fu">degree</span>(jg, <span class="at">mode=</span><span class="st">&quot;out&quot;</span>))</span>
<span id="cb115-6"><a href="graph-representations-of-word-cooccurrences.html#cb115-6" tabindex="-1"></a><span class="fu">max</span>(<span class="fu">degree</span>(jg, <span class="at">mode=</span><span class="st">&quot;all&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="graph-representations-of-word-cooccurrences.html#cb116-1" tabindex="-1"></a><span class="co"># In-degree distribution</span></span>
<span id="cb116-2"><a href="graph-representations-of-word-cooccurrences.html#cb116-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">degree.distribution</span>(jg, <span class="at">mode=</span><span class="st">&quot;in&quot;</span>), <span class="at">log=</span><span class="st">&quot;xy&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut48"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut48-1.png" alt="Larger word network with kk layout and edge-in density" width="576" />
<p class="caption">
Figure 5.68: Larger word network with kk layout and edge-in density
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut48">5.68</a>.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="graph-representations-of-word-cooccurrences.html#cb117-1" tabindex="-1"></a><span class="co"># Out-degree distribution</span></span>
<span id="cb117-2"><a href="graph-representations-of-word-cooccurrences.html#cb117-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">degree.distribution</span>(jg, <span class="at">mode=</span><span class="st">&quot;out&quot;</span>), <span class="at">log=</span><span class="st">&quot;xy&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut49"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut49-1.png" alt="Larger word network with kk layout and edge-out density" width="576" />
<p class="caption">
Figure 5.69: Larger word network with kk layout and edge-out density
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut49">5.69</a>.</p>
<p><em>is.connected(jg)</em> being FALSE says that there are some nodes that are not connected.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="graph-representations-of-word-cooccurrences.html#cb118-1" tabindex="-1"></a>lay <span class="ot">=</span> <span class="fu">create_layout</span>(jg, <span class="at">layout =</span> <span class="st">&quot;fr&quot;</span>)</span>
<span id="cb118-2"><a href="graph-representations-of-word-cooccurrences.html#cb118-2" tabindex="-1"></a><span class="fu">ggraph</span>(lay) <span class="sc">+</span> </span>
<span id="cb118-3"><a href="graph-representations-of-word-cooccurrences.html#cb118-3" tabindex="-1"></a>   <span class="fu">geom_edge_link</span>() <span class="sc">+</span> </span>
<span id="cb118-4"><a href="graph-representations-of-word-cooccurrences.html#cb118-4" tabindex="-1"></a>   <span class="fu">geom_node_point</span>() <span class="sc">+</span></span>
<span id="cb118-5"><a href="graph-representations-of-word-cooccurrences.html#cb118-5" tabindex="-1"></a>   <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut50"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut50-1.png" alt="One big cluster and unconnected nodes" width="576" />
<p class="caption">
Figure 5.70: One big cluster and unconnected nodes
</p>
</div>
<p>The rather ugly Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut50">5.70</a> shows the 4 nodes. Let us delete and repeat the cluster analysis. But instead of using the delete_vertices() function like in an earlier example, we just use the main component. First, we find the components and then subset the graph based on those components. In <em>igraph</em> the largest component is not always the first one with id == 1.</p>
</div>
<div id="taking-the-largest-component" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Taking the largest component<a href="graph-representations-of-word-cooccurrences.html#taking-the-largest-component" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="graph-representations-of-word-cooccurrences.html#cb119-1" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">clusters</span>(jg)</span>
<span id="cb119-2"><a href="graph-representations-of-word-cooccurrences.html#cb119-2" tabindex="-1"></a>jg1 <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(jg, <span class="fu">which</span>(cl<span class="sc">$</span>membership <span class="sc">==</span> <span class="fu">which.max</span>(cl<span class="sc">$</span>csize)))</span>
<span id="cb119-3"><a href="graph-representations-of-word-cooccurrences.html#cb119-3" tabindex="-1"></a><span class="fu">summary</span>(jg1)</span></code></pre></div>
<p>Another approach is shown below.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="graph-representations-of-word-cooccurrences.html#cb120-1" tabindex="-1"></a>jg2 <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(jg, </span>
<span id="cb120-2"><a href="graph-representations-of-word-cooccurrences.html#cb120-2" tabindex="-1"></a>          <span class="fu">V</span>(jg)[<span class="fu">components</span>(jg)<span class="sc">$</span>membership <span class="sc">==</span> <span class="fu">which.max</span>(<span class="fu">components</span>(jg)<span class="sc">$</span>csize)])</span>
<span id="cb120-3"><a href="graph-representations-of-word-cooccurrences.html#cb120-3" tabindex="-1"></a><span class="fu">V</span>(jg2)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb120-4"><a href="graph-representations-of-word-cooccurrences.html#cb120-4" tabindex="-1"></a><span class="fu">E</span>(jg2)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb120-5"><a href="graph-representations-of-word-cooccurrences.html#cb120-5" tabindex="-1"></a><span class="fu">E</span>(jg2)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
</div>
<div id="community-structure-detection" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Community structure detection<a href="graph-representations-of-word-cooccurrences.html#community-structure-detection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="graph-representations-of-word-cooccurrences.html#cb121-1" tabindex="-1"></a>fc <span class="ot">&lt;-</span> <span class="fu">fastgreedy.community</span>(<span class="fu">simplify</span>(<span class="fu">as.undirected</span>(jg2)))</span>
<span id="cb121-2"><a href="graph-representations-of-word-cooccurrences.html#cb121-2" tabindex="-1"></a><span class="fu">plot</span>(jg2, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(jg2)<span class="sc">$</span>cor,</span>
<span id="cb121-3"><a href="graph-representations-of-word-cooccurrences.html#cb121-3" tabindex="-1"></a>      <span class="at">vertex.size =</span> <span class="dv">2</span>,</span>
<span id="cb121-4"><a href="graph-representations-of-word-cooccurrences.html#cb121-4" tabindex="-1"></a>      <span class="at">vertex.label=</span><span class="cn">NA</span>,</span>
<span id="cb121-5"><a href="graph-representations-of-word-cooccurrences.html#cb121-5" tabindex="-1"></a>      <span class="at">edge.width =</span> <span class="cn">NA</span>, </span>
<span id="cb121-6"><a href="graph-representations-of-word-cooccurrences.html#cb121-6" tabindex="-1"></a>      <span class="at">edge.color =</span> <span class="cn">NA</span>,</span>
<span id="cb121-7"><a href="graph-representations-of-word-cooccurrences.html#cb121-7" tabindex="-1"></a>      <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb121-8"><a href="graph-representations-of-word-cooccurrences.html#cb121-8" tabindex="-1"></a>      <span class="at">mark.groups =</span> fc, </span>
<span id="cb121-9"><a href="graph-representations-of-word-cooccurrences.html#cb121-9" tabindex="-1"></a>      <span class="at">mark.border=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut51"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut51-1.png" alt="Communities within the large fully connected network" width="576" />
<p class="caption">
Figure 5.71: Communities within the large fully connected network
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut51">5.71</a>.</p>
<p>The <em>igraph</em> documentation<a href="#fn66" class="footnote-ref" id="fnref66"><sup>66</sup></a> lists the following for clusters and communities. Interested readers can explore the different functions following the example above.</p>
<ul>
<li>cluster.distribution Connected components of a graph</li>
<li>cluster_edge_betweenness Community structure detection based on edge betweenness</li>
<li>cluster_fast_greedy Community structure via greedy optimization of modularity</li>
<li>cluster_infomap Infomap community finding</li>
<li>cluster_label_prop Finding communities based on propagating labels</li>
<li>cluster_leading_eigen Community structure detecting based on the leading eigenvector of the community matrix</li>
<li>cluster_louvain Finding community structure by multi-level optimization of modularity</li>
<li>cluster_optimal Optimal community structure</li>
<li>cluster_spinglass Finding communities in graphs based on statistical meachanics</li>
<li>cluster_walktrap Community strucure via short random walks</li>
</ul>
<p>Let us explore cluster_edge_betweenness. We can see a pleasing digital art representing the words in Surah Yusuf.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="graph-representations-of-word-cooccurrences.html#cb122-1" tabindex="-1"></a>fc <span class="ot">&lt;-</span> <span class="fu">cluster_edge_betweenness</span>(<span class="fu">simplify</span>(<span class="fu">as.undirected</span>(jg2)))</span>
<span id="cb122-2"><a href="graph-representations-of-word-cooccurrences.html#cb122-2" tabindex="-1"></a><span class="fu">plot</span>(jg2, <span class="at">vertex.color=</span><span class="fu">vertex_attr</span>(jg2)<span class="sc">$</span>cor,</span>
<span id="cb122-3"><a href="graph-representations-of-word-cooccurrences.html#cb122-3" tabindex="-1"></a>      <span class="at">vertex.size =</span> <span class="dv">2</span>,</span>
<span id="cb122-4"><a href="graph-representations-of-word-cooccurrences.html#cb122-4" tabindex="-1"></a>      <span class="at">vertex.label=</span><span class="cn">NA</span>,</span>
<span id="cb122-5"><a href="graph-representations-of-word-cooccurrences.html#cb122-5" tabindex="-1"></a>      <span class="at">edge.width =</span> <span class="cn">NA</span>, </span>
<span id="cb122-6"><a href="graph-representations-of-word-cooccurrences.html#cb122-6" tabindex="-1"></a>      <span class="at">edge.color =</span> <span class="cn">NA</span>,</span>
<span id="cb122-7"><a href="graph-representations-of-word-cooccurrences.html#cb122-7" tabindex="-1"></a>      <span class="at">layout =</span> layout_with_kk,</span>
<span id="cb122-8"><a href="graph-representations-of-word-cooccurrences.html#cb122-8" tabindex="-1"></a>      <span class="at">mark.groups =</span> fc, </span>
<span id="cb122-9"><a href="graph-representations-of-word-cooccurrences.html#cb122-9" tabindex="-1"></a>      <span class="at">mark.border=</span><span class="cn">NA</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch5tut52"></span>
<img src="07-Ch5WordLocStatAnal_files/figure-html/ch5tut52-1.png" alt="Another piece of art from Surah Yusuf" width="576" />
<p class="caption">
Figure 5.72: Another piece of art from Surah Yusuf
</p>
</div>
<p>Plot output is in Figure <a href="graph-representations-of-word-cooccurrences.html#fig:ch5tut52">5.72</a>.</p>
</div>
</div>
<div id="chapter-5-summary" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Summary<a href="graph-representations-of-word-cooccurrences.html#chapter-5-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Our work on Quran Analytics relies heavily on the use of network graphs. In this chapter, we introduced the tools available in R for creating, plotting, and analyzing network graphs. We have a more complete version of this tutorial.<a href="#fn67" class="footnote-ref" id="fnref67"><sup>67</sup></a></p>
<p>We strongly recommend our users experiment with the different parameters and functions from <em>ggraph</em> based on the sample network graphs from Surah Yusuf that we showed how to create in this chapter. It is important to have a working knowledge of network graphs to follow the coming chapters. Network graphs have applications in many other subject matters, so our readers will benefit much from this knowledge.</p>
<p>We will explore the <em>tidygraph</em> package and also some of the numerical analysis on network graphs like measures of centrality, in the next chapter. We have seen in the final example, concepts like “hub” (most central node) and “spread” for our Surah Yusuf word co-occurrence network that is similar to virus networks.</p>
</div>
<div id="further-readings-4" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Further readings<a href="graph-representations-of-word-cooccurrences.html#further-readings-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Examples of <em>ggraph</em> :</p>
<ul>
<li><a href="http://users.dimi.uniud.it/~massimo.franceschet/ns/syllabus/make/ggraph/ggraph.html" class="uri">http://users.dimi.uniud.it/~massimo.franceschet/ns/syllabus/make/ggraph/ggraph.html</a></li>
</ul>
<p>Examples of network analysis and visualization with R and igraph:</p>
<ul>
<li><a href="https://www.kateto.net" class="uri">https://www.kateto.net</a></li>
<li><a href="https://kateto.net/networks-r-igraph" class="uri">https://kateto.net/networks-r-igraph</a></li>
<li><a href="https://kateto.net/network-visualization" class="uri">https://kateto.net/network-visualization</a></li>
</ul>
<p>R graph gallery:</p>
<ul>
<li><a href="https://www.r-graph-gallery.com/network.html" class="uri">https://www.r-graph-gallery.com/network.html</a></li>
<li><a href="https://www.data-imaginist.com/2017/ggraph-introduction-layouts/" class="uri">https://www.data-imaginist.com/2017/ggraph-introduction-layouts/</a></li>
</ul>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-dimarco1988" class="csl-entry">
DiMarco, C., and G. Hirst. 1988. <span>“Stylistic Grammars in Language Translation.”</span> <em>COLING</em>.
</div>
<div id="ref-saeh2015" class="csl-entry">
Saeh, Bassam. 2015. <em>The Miraculous Language of Qur’an: Evidence of Divine Origin</em>. London, United Kingdom: International Institute of Islamic Thought.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="61">
<li id="fn61"><p>A full-scale work for the Arabic language is beyond the scope of this book and will be left as future research.<a href="graph-representations-of-word-cooccurrences.html#fnref61" class="footnote-back">↩︎</a></p></li>
<li id="fn62"><p>We have not analyzed the performance of the Udpipe model for the Arabic language, hence we cannot ensure its accuracies.<a href="graph-representations-of-word-cooccurrences.html#fnref62" class="footnote-back">↩︎</a></p></li>
<li id="fn63"><p>The data is obtained from running <em>udpipe</em> Arabic padt model on the <em>quran_ar_min</em> dataset from the <em>quRan</em> package.<a href="graph-representations-of-word-cooccurrences.html#fnref63" class="footnote-back">↩︎</a></p></li>
<li id="fn64"><p>This is an important point to be made since we alluded to earlier that removal of stopwords while being practiced frequently in NLP analysis, is non-trivial; and should only be used as a last resort rather than by default.<a href="graph-representations-of-word-cooccurrences.html#fnref64" class="footnote-back">↩︎</a></p></li>
<li id="fn65"><p>Ognyanova, K. (2019) Network visualization with R. Retrieved from www.kateto.net/network-visualization<a href="graph-representations-of-word-cooccurrences.html#fnref65" class="footnote-back">↩︎</a></p></li>
<li id="fn66"><p><a href="https://igraph.org/r/doc/" class="uri">https://igraph.org/r/doc/</a><a href="graph-representations-of-word-cooccurrences.html#fnref66" class="footnote-back">↩︎</a></p></li>
<li id="fn67"><p><a href="https://rpubs.com/azmanH/696047" class="uri">https://rpubs.com/azmanH/696047</a><a href="graph-representations-of-word-cooccurrences.html#fnref67" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="word-collocations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="word-coccurrences-of-Surah-Taa-Haa.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QuranAnalytics.pdf", "QuranAnalytics.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
