<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Word Cooccurences of Surah Taa Haa | Quran Analytics with R</title>
  <meta name="description" content="6 Word Cooccurences of Surah Taa Haa | Quran Analytics with R" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Word Cooccurences of Surah Taa Haa | Quran Analytics with R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Word Cooccurences of Surah Taa Haa | Quran Analytics with R" />
  
  
  

<meta name="author" content="Wan M Hasni and Azman Hussin" />


<meta name="date" content="2024-04-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="graph-representations-of-word-cooccurrences.html"/>
<link rel="next" href="text-and-knowledge-modeling.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quran Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-first-author.html"><a href="preface-from-the-first-author.html"><i class="fa fa-check"></i>Preface From the First Author</a></li>
<li class="chapter" data-level="" data-path="preface-from-the-second-author.html"><a href="preface-from-the-second-author.html"><i class="fa fa-check"></i>Preface From the Second Author</a></li>
<li class="chapter" data-level="" data-path="preamble.html"><a href="preamble.html"><i class="fa fa-check"></i>Preamble</a></li>
<li class="chapter" data-level="1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html"><i class="fa fa-check"></i><b>1</b> Introducing Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quran-analytics"><i class="fa fa-check"></i><b>1.1</b> Quran Analytics</a></li>
<li class="chapter" data-level="1.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-studies"><i class="fa fa-check"></i><b>1.2</b> Quranic Studies</a></li>
<li class="chapter" data-level="1.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#quranic-language-and-studies"><i class="fa fa-check"></i><b>1.3</b> Quranic language and linguistic studies</a></li>
<li class="chapter" data-level="1.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#computational-linguistics"><i class="fa fa-check"></i><b>1.4</b> Computational Linguistics</a></li>
<li class="chapter" data-level="1.5" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#natural-language-processing"><i class="fa fa-check"></i><b>1.5</b> Natural Language Processing (NLP)</a></li>
<li class="chapter" data-level="1.6" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#programming-language-in-NLP"><i class="fa fa-check"></i><b>1.6</b> Programming language in NLP</a></li>
<li class="chapter" data-level="1.7" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#advancements-in-NLP-and-quran-analytics"><i class="fa fa-check"></i><b>1.7</b> Advancements in NLP and Quran Analytics</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#common-NLP-tasks"><i class="fa fa-check"></i><b>1.7.1</b> Common NLP tasks</a></li>
<li class="chapter" data-level="1.7.2" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#available-resources-for-digital-quranic-studies"><i class="fa fa-check"></i><b>1.7.2</b> Available resources for digital Quranic studies</a></li>
<li class="chapter" data-level="1.7.3" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#nlp-works-on-english-translations-of-al-quran"><i class="fa fa-check"></i><b>1.7.3</b> NLP works on English translations of Al-Quran</a></li>
<li class="chapter" data-level="1.7.4" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#complex-nlp-tasks-for-quran-analytics"><i class="fa fa-check"></i><b>1.7.4</b> Complex NLP tasks for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#why-use-R"><i class="fa fa-check"></i><b>1.8</b> Why use R?</a></li>
<li class="chapter" data-level="1.9" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#focus-of-this-book"><i class="fa fa-check"></i><b>1.9</b> Focus of this book</a></li>
<li class="chapter" data-level="1.10" data-path="introducing-quran-analytics.html"><a href="introducing-quran-analytics.html#further-readings"><i class="fa fa-check"></i><b>1.10</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-frequencies.html"><a href="analysis-of-words-by-its-frequencies.html"><i class="fa fa-check"></i>Analysis of Words by its Frequencies</a></li>
<li class="chapter" data-level="2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html"><i class="fa fa-check"></i><b>2</b> Word Frequency Analysis</a>
<ul>
<li class="chapter" data-level="2.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#R-packages-and-data-used"><i class="fa fa-check"></i><b>2.1</b> R packages and data used</a></li>
<li class="chapter" data-level="2.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#wordcloud-analysis"><i class="fa fa-check"></i><b>2.2</b> Wordclouds analysis</a></li>
<li class="chapter" data-level="2.3" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#analyzing-word-and-document-frequency"><i class="fa fa-check"></i><b>2.3</b> Analyzing word and document frequency</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#term-frequency-in-english-quran"><i class="fa fa-check"></i><b>2.3.1</b> Term frequency in English Quran</a></li>
<li class="chapter" data-level="2.3.2" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#the-bind_tf_idf-function"><i class="fa fa-check"></i><b>2.3.2</b> The <em>bind_tf_idf</em> function</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#zipfs-law"><i class="fa fa-check"></i><b>2.4</b> Zipf’s law</a></li>
<li class="chapter" data-level="2.5" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-high-occurrence-and-stopwords"><i class="fa fa-check"></i><b>2.5</b> Words of high occurrence and stopwords</a></li>
<li class="chapter" data-level="2.6" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-of-rare-occurrence"><i class="fa fa-check"></i><b>2.6</b> Words of rare occurrence</a></li>
<li class="chapter" data-level="2.7" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#words-with-medium-occurrence"><i class="fa fa-check"></i><b>2.7</b> Words with medium occurrence</a></li>
<li class="chapter" data-level="2.8" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#chapter-2-summary"><i class="fa fa-check"></i><b>2.8</b> Summary</a></li>
<li class="chapter" data-level="2.9" data-path="word-frequency-analysis.html"><a href="word-frequency-analysis.html#further-readings-1"><i class="fa fa-check"></i><b>2.9</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html"><i class="fa fa-check"></i><b>3</b> Word Scoring Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#preprocessing-the-data"><i class="fa fa-check"></i><b>3.1</b> Preprocessing the data</a></li>
<li class="chapter" data-level="3.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-with-tidy-data"><i class="fa fa-check"></i><b>3.2</b> Sentiment analysis with tidy data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-models"><i class="fa fa-check"></i><b>3.2.1</b> Sentiment scoring models</a></li>
<li class="chapter" data-level="3.2.2" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#bing-scoring-model"><i class="fa fa-check"></i><b>3.2.2</b> <em>bing</em> scoring model</a></li>
<li class="chapter" data-level="3.2.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#afinn-scoring-model"><i class="fa fa-check"></i><b>3.2.3</b> <em>AFINN</em> scoring model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-analysis-within-the-surahs"><i class="fa fa-check"></i><b>3.3</b> Sentiment analysis within the Surahs</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#wordcloud-analysis-1"><i class="fa fa-check"></i><b>3.3.1</b> Wordcloud analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#statistics-of-sentiment-score"><i class="fa fa-check"></i><b>3.4</b> Statistics of sentiment score</a></li>
<li class="chapter" data-level="3.5" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#sentiment-scoring-frequencies"><i class="fa fa-check"></i><b>3.5</b> Sentiment scoring frequencies</a></li>
<li class="chapter" data-level="3.6" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#building-dedicated-sentiment-scoring-model"><i class="fa fa-check"></i><b>3.6</b> Building dedicated sentiment scoring model</a></li>
<li class="chapter" data-level="3.7" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#summary-chapter-3"><i class="fa fa-check"></i><b>3.7</b> Summary</a></li>
<li class="chapter" data-level="3.8" data-path="word-scoring-analysis.html"><a href="word-scoring-analysis.html#further-readings-2"><i class="fa fa-check"></i><b>3.8</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis-of-words-by-its-cooccurences.html"><a href="analysis-of-words-by-its-cooccurences.html"><i class="fa fa-check"></i>Analysis of Words by its Cooccurences</a></li>
<li class="chapter" data-level="4" data-path="word-collocations.html"><a href="word-collocations.html"><i class="fa fa-check"></i><b>4</b> Word Collocations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-word-collocations"><i class="fa fa-check"></i><b>4.1</b> Analyzing word collocations</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="word-collocations.html"><a href="word-collocations.html#analyzing-bi-grams"><i class="fa fa-check"></i><b>4.1.1</b> Analyzing bi-grams</a></li>
<li class="chapter" data-level="4.1.2" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-a-network-of-bigrams-with-ggraph"><i class="fa fa-check"></i><b>4.1.2</b> Visualizing a network of bigrams with <em>ggraph</em></a></li>
<li class="chapter" data-level="4.1.3" data-path="word-collocations.html"><a href="word-collocations.html#tri-grams"><i class="fa fa-check"></i><b>4.1.3</b> Tri-grams</a></li>
<li class="chapter" data-level="4.1.4" data-path="word-collocations.html"><a href="word-collocations.html#bigrams-co-ocurrences-and-correlations"><i class="fa fa-check"></i><b>4.1.4</b> Bigrams co-ocurrences and correlations</a></li>
<li class="chapter" data-level="4.1.5" data-path="word-collocations.html"><a href="word-collocations.html#visualizing-correlations-of-bigrams-of-keywords"><i class="fa fa-check"></i><b>4.1.5</b> Visualizing correlations of bigrams of keywords</a></li>
<li class="chapter" data-level="4.1.6" data-path="word-collocations.html"><a href="word-collocations.html#summarizing-ngrams"><i class="fa fa-check"></i><b>4.1.6</b> Summarizing ngrams</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="word-collocations.html"><a href="word-collocations.html#lexical-analysis"><i class="fa fa-check"></i><b>4.2</b> Lexical analysis</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="word-collocations.html"><a href="word-collocations.html#basic-frequency-statistics"><i class="fa fa-check"></i><b>4.2.1</b> Basic frequency statistics</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="word-collocations.html"><a href="word-collocations.html#word-cooccurrences-using-POS"><i class="fa fa-check"></i><b>4.3</b> Word cooccurrences using POS</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="word-collocations.html"><a href="word-collocations.html#nouns-adjectives-and-verbs-used-in-same-sentence"><i class="fa fa-check"></i><b>4.3.1</b> Nouns, adjectives, and verbs used in same sentence</a></li>
<li class="chapter" data-level="4.3.2" data-path="word-collocations.html"><a href="word-collocations.html#words-that-follow-one-another-using-pos"><i class="fa fa-check"></i><b>4.3.2</b> Words that follow one another using POS</a></li>
<li class="chapter" data-level="4.3.3" data-path="word-collocations.html"><a href="word-collocations.html#word-correlations-using-pos"><i class="fa fa-check"></i><b>4.3.3</b> Word correlations using POS</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="word-collocations.html"><a href="word-collocations.html#finding-keyword-combinations-using-POS"><i class="fa fa-check"></i><b>4.4</b> Finding keyword combinations using POS</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="word-collocations.html"><a href="word-collocations.html#using-rake"><i class="fa fa-check"></i><b>4.4.1</b> Using RAKE</a></li>
<li class="chapter" data-level="4.4.2" data-path="word-collocations.html"><a href="word-collocations.html#using-pointwise-mutual-information-collocations"><i class="fa fa-check"></i><b>4.4.2</b> Using Pointwise Mutual Information Collocations</a></li>
<li class="chapter" data-level="4.4.3" data-path="word-collocations.html"><a href="word-collocations.html#using-a-sequence-of-pos-tags-noun-phrases"><i class="fa fa-check"></i><b>4.4.3</b> Using a sequence of POS tags (noun phrases)</a></li>
<li class="chapter" data-level="4.4.4" data-path="word-collocations.html"><a href="word-collocations.html#textrank"><i class="fa fa-check"></i><b>4.4.4</b> Textrank</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="word-collocations.html"><a href="word-collocations.html#dependency-parsing"><i class="fa fa-check"></i><b>4.5</b> Dependency parsing</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="word-collocations.html"><a href="word-collocations.html#collocations-and-co-occurences"><i class="fa fa-check"></i><b>4.5.1</b> Collocations and co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="word-collocations.html"><a href="word-collocations.html#chapter-4-summary"><i class="fa fa-check"></i><b>4.6</b> Summary</a></li>
<li class="chapter" data-level="4.7" data-path="word-collocations.html"><a href="word-collocations.html#further-readings-3"><i class="fa fa-check"></i><b>4.7</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="word-collocations.html"><a href="word-collocations.html#appendix"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html"><i class="fa fa-check"></i><b>5</b> Graph Representations of Word Cooccurences</a>
<ul>
<li class="chapter" data-level="5.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#statistical-analysis-of-word-positions"><i class="fa fa-check"></i><b>5.1</b> Statistical analysis of word positions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-between-saheeh-and-yusuf-ali"><i class="fa fa-check"></i><b>5.1.1</b> Comparison between Saheeh and Yusuf Ali</a></li>
<li class="chapter" data-level="5.1.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#comparison-against-the-arabic-text"><i class="fa fa-check"></i><b>5.1.2</b> Comparison against the Arabic text</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#focus-on-surah-Yusuf"><i class="fa fa-check"></i><b>5.2</b> Focus on Surah Yusuf</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#arc-method-of-visualization"><i class="fa fa-check"></i><b>5.2.1</b> Arc method of visualization</a></li>
<li class="chapter" data-level="5.2.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#circular-method-of-visualization"><i class="fa fa-check"></i><b>5.2.2</b> Circular method of visualization</a></li>
<li class="chapter" data-level="5.2.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#grouping-of-co-occurences"><i class="fa fa-check"></i><b>5.2.3</b> Grouping of co-occurences</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#a-short-tutorial-on-graphs-in-R"><i class="fa fa-check"></i><b>5.3</b> A short tutorial on graphs in <strong>R</strong></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-creation"><i class="fa fa-check"></i><b>5.3.1</b> Graph creation</a></li>
<li class="chapter" data-level="5.3.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-plots"><i class="fa fa-check"></i><b>5.3.2</b> Graph plots</a></li>
<li class="chapter" data-level="5.3.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-layouts"><i class="fa fa-check"></i><b>5.3.3</b> Graph layouts</a></li>
<li class="chapter" data-level="5.3.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-algorithms"><i class="fa fa-check"></i><b>5.3.4</b> Graph algorithms</a></li>
<li class="chapter" data-level="5.3.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#graph-analysis"><i class="fa fa-check"></i><b>5.3.5</b> Graph analysis</a></li>
<li class="chapter" data-level="5.3.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#using-ggraph"><i class="fa fa-check"></i><b>5.3.6</b> Using ggraph</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#fun-with-network-graphs"><i class="fa fa-check"></i><b>5.4</b> Fun with network graphs</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#working-with-a-bigger-graph"><i class="fa fa-check"></i><b>5.4.1</b> Working with a bigger graph</a></li>
<li class="chapter" data-level="5.4.2" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#taking-the-largest-component"><i class="fa fa-check"></i><b>5.4.2</b> Taking the largest component</a></li>
<li class="chapter" data-level="5.4.3" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#community-structure-detection"><i class="fa fa-check"></i><b>5.4.3</b> Community structure detection</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#chapter-5-summary"><i class="fa fa-check"></i><b>5.5</b> Summary</a></li>
<li class="chapter" data-level="5.6" data-path="graph-representations-of-word-cooccurrences.html"><a href="graph-representations-of-word-cooccurrences.html#further-readings-4"><i class="fa fa-check"></i><b>5.6</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html"><i class="fa fa-check"></i><b>6</b> Word Cooccurences of Surah Taa Haa</a>
<ul>
<li class="chapter" data-level="6.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#data-preprocessing"><i class="fa fa-check"></i><b>6.1</b> Data preprocessing</a></li>
<li class="chapter" data-level="6.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-analysis-and-characteristics"><i class="fa fa-check"></i><b>6.2</b> Network analysis and characteristics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-characteristics"><i class="fa fa-check"></i><b>6.2.1</b> Network characteristics</a></li>
<li class="chapter" data-level="6.2.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#centrality-measures-node-level-measures"><i class="fa fa-check"></i><b>6.2.2</b> Centrality measures (node-level measures)</a></li>
<li class="chapter" data-level="6.2.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-strength"><i class="fa fa-check"></i><b>6.2.3</b> Degree and strength</a></li>
<li class="chapter" data-level="6.2.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distribution"><i class="fa fa-check"></i><b>6.2.4</b> Degree distribution</a></li>
<li class="chapter" data-level="6.2.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-degree-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.2.5</b> Degree and degree distribution for directed graph</a></li>
<li class="chapter" data-level="6.2.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-degree"><i class="fa fa-check"></i><b>6.2.6</b> Why do we care about degree?</a></li>
<li class="chapter" data-level="6.2.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#betweenness"><i class="fa fa-check"></i><b>6.2.7</b> Betweenness</a></li>
<li class="chapter" data-level="6.2.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.8</b> Degree centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#outdegree-centrality-and-indegree-prestige"><i class="fa fa-check"></i><b>6.2.9</b> Outdegree centrality and indegree prestige</a></li>
<li class="chapter" data-level="6.2.10" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#closeness-centrality-for-undirected-graph"><i class="fa fa-check"></i><b>6.2.10</b> Closeness centrality for undirected graph</a></li>
<li class="chapter" data-level="6.2.11" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#correlation-analysis-among-centrality-measures-for-the-gu-network"><i class="fa fa-check"></i><b>6.2.11</b> Correlation analysis among centrality measures for the <em>gu</em> network</a></li>
<li class="chapter" data-level="6.2.12" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assembling-a-dataset-of-node-level-measures-for-gd-network"><i class="fa fa-check"></i><b>6.2.12</b> Assembling a dataset of node-level measures for gd network</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#network-level-measures"><i class="fa fa-check"></i><b>6.3</b> Network-level measures</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#size-and-density"><i class="fa fa-check"></i><b>6.3.1</b> Size and density</a></li>
<li class="chapter" data-level="6.3.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#components"><i class="fa fa-check"></i><b>6.3.2</b> Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distributions"><i class="fa fa-check"></i><b>6.3.3</b> Degree distributions</a></li>
<li class="chapter" data-level="6.3.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#average-path-length-and-diameter"><i class="fa fa-check"></i><b>6.3.4</b> Average path length and diameter</a></li>
<li class="chapter" data-level="6.3.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution"><i class="fa fa-check"></i><b>6.3.5</b> Path distance distribution</a></li>
<li class="chapter" data-level="6.3.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution-for-directed-graph"><i class="fa fa-check"></i><b>6.3.6</b> Path distance distribution for directed graph</a></li>
<li class="chapter" data-level="6.3.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-path"><i class="fa fa-check"></i><b>6.3.7</b> Why do we care about path?</a></li>
<li class="chapter" data-level="6.3.8" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#clustering-coefficient-transitivity-distribution"><i class="fa fa-check"></i><b>6.3.8</b> Clustering coefficient (Transitivity) distribution</a></li>
<li class="chapter" data-level="6.3.9" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-clustering-coefficient"><i class="fa fa-check"></i><b>6.3.9</b> Why do we care about clustering coefficient?</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#community-structure-and-assortment"><i class="fa fa-check"></i><b>6.4</b> Community structure and assortment</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection"><i class="fa fa-check"></i><b>6.4.1</b> Modularity and community detection</a></li>
<li class="chapter" data-level="6.4.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection-a-simple-example"><i class="fa fa-check"></i><b>6.4.2</b> Modularity and community detection: a simple example</a></li>
<li class="chapter" data-level="6.4.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#another-example-of-clustering"><i class="fa fa-check"></i><b>6.4.3</b> Another example of clustering</a></li>
<li class="chapter" data-level="6.4.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#assortment-homophily"><i class="fa fa-check"></i><b>6.4.4</b> Assortment (homophily)</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#analyzing-using-tidygraph"><i class="fa fa-check"></i><b>6.5</b> Analyzing using <em>tidygraph</em></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#direct-ggraph-integration"><i class="fa fa-check"></i><b>6.5.1</b> Direct ggraph integration</a></li>
<li class="chapter" data-level="6.5.2" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#use-selected-measures-from-tidygraph-and-plot"><i class="fa fa-check"></i><b>6.5.2</b> Use selected measures from <em>tidygraph</em> and plot</a></li>
<li class="chapter" data-level="6.5.3" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#example-combining-selected-node-and-edge-measures-from-tidygraph"><i class="fa fa-check"></i><b>6.5.3</b> Example combining selected node and edge measures from <em>tidygraph</em></a></li>
<li class="chapter" data-level="6.5.4" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#who-is-the-most-important-influencer"><i class="fa fa-check"></i><b>6.5.4</b> Who is the most important influencer?</a></li>
<li class="chapter" data-level="6.5.5" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#build-communities-and-calculate-measures"><i class="fa fa-check"></i><b>6.5.5</b> Build communities and calculate measures</a></li>
<li class="chapter" data-level="6.5.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#visualize-the-network"><i class="fa fa-check"></i><b>6.5.6</b> Visualize the network</a></li>
<li class="chapter" data-level="6.5.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#concentric-layouts"><i class="fa fa-check"></i><b>6.5.7</b> Concentric layouts</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#chapter-6-summary"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
<li class="chapter" data-level="6.7" data-path="word-coccurrences-of-Surah-Taa-Haa.html"><a href="word-coccurrences-of-Surah-Taa-Haa.html#further-readings-5"><i class="fa fa-check"></i><b>6.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="text-and-knowledge-modeling.html"><a href="text-and-knowledge-modeling.html"><i class="fa fa-check"></i>Text and Knowledge Modeling</a></li>
<li class="chapter" data-level="7" data-path="text-network-analysis.html"><a href="text-network-analysis.html"><i class="fa fa-check"></i><b>7</b> Texts Network Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#a-brief-tutorial-on-quanteda"><i class="fa fa-check"></i><b>7.1</b> A brief on <em>quanteda</em></a></li>
<li class="chapter" data-level="7.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#analyzing-word-cooccurrences-as-a-network"><i class="fa fa-check"></i><b>7.2</b> Analyzing word cooccurrence as a network</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="text-network-analysis.html"><a href="text-network-analysis.html#network-dynamics-growth-of-word-co-occurrence-network"><i class="fa fa-check"></i><b>7.2.1</b> Network dynamics: growth of word co-occurrence network</a></li>
<li class="chapter" data-level="7.2.2" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-co-occurrence-network-statistics"><i class="fa fa-check"></i><b>7.2.2</b> Word co-occurrence network statistics</a></li>
<li class="chapter" data-level="7.2.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#diameter-and-average-distance"><i class="fa fa-check"></i><b>7.2.3</b> Diameter and average distance</a></li>
<li class="chapter" data-level="7.2.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#connectedness"><i class="fa fa-check"></i><b>7.2.4</b> Connectedness</a></li>
<li class="chapter" data-level="7.2.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#degree-distributions-1"><i class="fa fa-check"></i><b>7.2.5</b> Degree distributions</a></li>
<li class="chapter" data-level="7.2.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#clustering-coefficients"><i class="fa fa-check"></i><b>7.2.6</b> Clustering coefficients</a></li>
<li class="chapter" data-level="7.2.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#modularity"><i class="fa fa-check"></i><b>7.2.7</b> Modularity</a></li>
<li class="chapter" data-level="7.2.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#betweenness-1"><i class="fa fa-check"></i><b>7.2.8</b> Betweenness</a></li>
<li class="chapter" data-level="7.2.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#prestige-centrality"><i class="fa fa-check"></i><b>7.2.9</b> Prestige centrality</a></li>
<li class="chapter" data-level="7.2.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary"><i class="fa fa-check"></i><b>7.2.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="text-network-analysis.html"><a href="text-network-analysis.html#dive-into-selected-surahs"><i class="fa fa-check"></i><b>7.3</b> Dive into selected Surahs</a></li>
<li class="chapter" data-level="7.4" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-collocations-statistical-method"><i class="fa fa-check"></i><b>7.4</b> Word collocations statistical method</a></li>
<li class="chapter" data-level="7.5" data-path="text-network-analysis.html"><a href="text-network-analysis.html#word-keyness-comparisons"><i class="fa fa-check"></i><b>7.5</b> Word keyness comparisons</a></li>
<li class="chapter" data-level="7.6" data-path="text-network-analysis.html"><a href="text-network-analysis.html#lexical-diversity-and-dispersion"><i class="fa fa-check"></i><b>7.6</b> Lexical diversity and dispersion</a></li>
<li class="chapter" data-level="7.7" data-path="text-network-analysis.html"><a href="text-network-analysis.html#viewing-the-network-as-dendrogram"><i class="fa fa-check"></i><b>7.7</b> Viewing the network as dendrogram</a></li>
<li class="chapter" data-level="7.8" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-similarity-in-verses"><i class="fa fa-check"></i><b>7.8</b> Words similarity in verses</a></li>
<li class="chapter" data-level="7.9" data-path="text-network-analysis.html"><a href="text-network-analysis.html#words-dissimilarity-in-verses"><i class="fa fa-check"></i><b>7.9</b> Words dissimilarity in verses</a></li>
<li class="chapter" data-level="7.10" data-path="text-network-analysis.html"><a href="text-network-analysis.html#summary-chapter-7"><i class="fa fa-check"></i><b>7.10</b> Summary</a></li>
<li class="chapter" data-level="7.11" data-path="text-network-analysis.html"><a href="text-network-analysis.html#further-readings-6"><i class="fa fa-check"></i><b>7.11</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="text-classification-models.html"><a href="text-classification-models.html"><i class="fa fa-check"></i><b>8</b> Text Classification Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="text-classification-models.html"><a href="text-classification-models.html#brief-outline-of-text-modeling"><i class="fa fa-check"></i><b>8.1</b> Brief outline of text modeling</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="text-classification-models.html"><a href="text-classification-models.html#general-setting"><i class="fa fa-check"></i><b>8.1.1</b> General setting</a></li>
<li class="chapter" data-level="8.1.2" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-and-unsupervised-learning-methods"><i class="fa fa-check"></i><b>8.1.2</b> Supervised and unsupervised learning methods</a></li>
<li class="chapter" data-level="8.1.3" data-path="text-classification-models.html"><a href="text-classification-models.html#topic-modeling-for-quran-analytics"><i class="fa fa-check"></i><b>8.1.3</b> Topic modeling for Quran Analytics</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="text-classification-models.html"><a href="text-classification-models.html#unsupervised-learning-models"><i class="fa fa-check"></i><b>8.2</b> Unsupervised learning models</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda-model"><i class="fa fa-check"></i><b>8.2.1</b> Latent Dirichlet Allocation (LDA) model</a></li>
<li class="chapter" data-level="8.2.2" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm"><i class="fa fa-check"></i><b>8.2.2</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.3" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-model"><i class="fa fa-check"></i><b>8.2.3</b> Latent Semantic Analysis model</a></li>
<li class="chapter" data-level="8.2.4" data-path="text-classification-models.html"><a href="text-classification-models.html#labeling-the-data"><i class="fa fa-check"></i><b>8.2.4</b> Labeling the data</a></li>
<li class="chapter" data-level="8.2.5" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-dirichlet-allocation-lda"><i class="fa fa-check"></i><b>8.2.5</b> Latent Dirichlet Allocation (LDA)</a></li>
<li class="chapter" data-level="8.2.6" data-path="text-classification-models.html"><a href="text-classification-models.html#structural-topic-models-stm-1"><i class="fa fa-check"></i><b>8.2.6</b> Structural Topic Models (STM)</a></li>
<li class="chapter" data-level="8.2.7" data-path="text-classification-models.html"><a href="text-classification-models.html#latent-semantic-analysis-lsa"><i class="fa fa-check"></i><b>8.2.7</b> Latent Semantic Analysis (LSA)</a></li>
<li class="chapter" data-level="8.2.8" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-unsupervised-learning-model"><i class="fa fa-check"></i><b>8.2.8</b> Summarizing unsupervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="text-classification-models.html"><a href="text-classification-models.html#supervised-learning-models"><i class="fa fa-check"></i><b>8.3</b> Supervised learning models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="text-classification-models.html"><a href="text-classification-models.html#naive-bayes-nb"><i class="fa fa-check"></i><b>8.3.1</b> Naive Bayes (NB)</a></li>
<li class="chapter" data-level="8.3.2" data-path="text-classification-models.html"><a href="text-classification-models.html#support-vector-machines-svm"><i class="fa fa-check"></i><b>8.3.2</b> Support Vector Machines (SVM)</a></li>
<li class="chapter" data-level="8.3.3" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-supervised-learning-model"><i class="fa fa-check"></i><b>8.3.3</b> Summarizing supervised learning model</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="text-classification-models.html"><a href="text-classification-models.html#ideological-difference-models"><i class="fa fa-check"></i><b>8.4</b> Ideological difference models</a></li>
<li class="chapter" data-level="8.5" data-path="text-classification-models.html"><a href="text-classification-models.html#word-embedding-models"><i class="fa fa-check"></i><b>8.5</b> Word embeddings models</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="text-classification-models.html"><a href="text-classification-models.html#summarizing-word-embedding-model-methods"><i class="fa fa-check"></i><b>8.5.1</b> Summarizing word embedding model methods</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="text-classification-models.html"><a href="text-classification-models.html#summary-chapter-8"><i class="fa fa-check"></i><b>8.6</b> Summary</a></li>
<li class="chapter" data-level="8.7" data-path="text-classification-models.html"><a href="text-classification-models.html#further-readings-7"><i class="fa fa-check"></i><b>8.7</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html"><i class="fa fa-check"></i><b>9</b> Knowledge Through Verse Network</a>
<ul>
<li class="chapter" data-level="9.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#tafseer-Ibnu-Katheer-as-knowledge-graphs"><i class="fa fa-check"></i><b>9.1</b> Tafseer Ibnu Katheer as Knowledge Graphs</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#preparing-the-data-and-settings"><i class="fa fa-check"></i><b>9.1.1</b> Preparing the data and settings</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#Katheer-graph-network"><i class="fa fa-check"></i><b>9.2</b> Katheer Graph network</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-visualizations"><i class="fa fa-check"></i><b>9.2.1</b> Katheer Graph visualizations</a></li>
<li class="chapter" data-level="9.2.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-statistics"><i class="fa fa-check"></i><b>9.2.2</b> Katheer Graph network statistics</a></li>
<li class="chapter" data-level="9.2.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-degree"><i class="fa fa-check"></i><b>9.2.3</b> Katheer Graph network degree</a></li>
<li class="chapter" data-level="9.2.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#katheer-graph-network-paths-and-traversals"><i class="fa fa-check"></i><b>9.2.4</b> Katheer Graph network paths and traversals</a></li>
<li class="chapter" data-level="9.2.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#network-traversals-using-statistical-properties"><i class="fa fa-check"></i><b>9.2.5</b> Network traversals using statistical properties</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-surah-al-alaa-traversals-in-surah-al-alaa"><i class="fa fa-check"></i><b>9.3</b> Traversals in Surah Al-A’laa {#traversals-in-Surah-Al-A’laa}</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#themes-of-surah-al-alaa"><i class="fa fa-check"></i><b>9.3.1</b> Themes of Surah Al-A’laa</a></li>
<li class="chapter" data-level="9.3.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#surah-al-alaa-network"><i class="fa fa-check"></i><b>9.3.2</b> Surah Al-A’laa network</a></li>
<li class="chapter" data-level="9.3.3" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#view-from-the-perspectives-of-the-entire-ibnu-katheer-network"><i class="fa fa-check"></i><b>9.3.3</b> View from the perspectives of the entire Ibnu Katheer network</a></li>
<li class="chapter" data-level="9.3.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-1"><i class="fa fa-check"></i><b>9.3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversing-verse-13-surah-al-alaa-traversing-verse-13-surah-al-alaa"><i class="fa fa-check"></i><b>9.4</b> Traversing verse 13 Surah Al-A’laa {#traversing-verse-13-Surah-Al-A’laa}</a></li>
<li class="chapter" data-level="9.5" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#traversals-in-verses-2:255-and-16:90"><i class="fa fa-check"></i><b>9.5</b> Traversals in verses 2:255 and 16:90</a></li>
<li class="chapter" data-level="9.6" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#word-cooccurrences-from-Katheer-graph"><i class="fa fa-check"></i><b>9.6</b> Word cooccurrences from Katheer Graph</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#setting-the-text-data"><i class="fa fa-check"></i><b>9.6.1</b> Setting the text data</a></li>
<li class="chapter" data-level="9.6.2" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#what-words-co-occur-together"><i class="fa fa-check"></i><b>9.6.2</b> What words co-occur together</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#summary-chapter-9"><i class="fa fa-check"></i><b>9.7</b> Summary</a></li>
<li class="chapter" data-level="9.8" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#further-readings-8"><i class="fa fa-check"></i><b>9.8</b> Further readings</a></li>
<li class="chapter" data-level="" data-path="knowledge-through-verse-network.html"><a href="knowledge-through-verse-network.html#appendix-1"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="way-forward.html"><a href="way-forward.html"><i class="fa fa-check"></i><b>10</b> Way Forward</a>
<ul>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#new-tools-for-studying-al-quran"><i class="fa fa-check"></i>New tools for studying Al-Quran</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#limitations"><i class="fa fa-check"></i>Limitations</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#direction-of-future-works"><i class="fa fa-check"></i>Direction of future works</a></li>
<li class="chapter" data-level="" data-path="way-forward.html"><a href="way-forward.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quran Analytics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="word-coccurrences-of-Surah-Taa-Haa" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Word Cooccurences of Surah Taa Haa<a href="word-coccurrences-of-Surah-Taa-Haa.html#word-coccurrences-of-Surah-Taa-Haa" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In Chapter 5, we discussed the network graph tools in R like <em>igraph</em> and <em>ggraph</em>. The focus was on creating the network of word co-occurrences from Surah Yusuf and then showing the many options in plotting and visualizing. In the summary section of the chapter, we mentioned another important aspect of network graphs, their characteristics, and other numerical statistics. We will refer to terms like diameter, paths and distances, connectedness, clustering, centrality, and modularity measures of the overall Quran word network in Chapter 7.</p>
<p>This chapter will serve as a customized tutorial on the characteristics and statistics of network graphs. We will however choose a new Surah to analyze while learning the related functions in <strong>R</strong>.</p>
<p>In the summary section of Chapter 4, we mentioned that the study opens other investigation avenues like looking into other Surahs of the Quran or analyzing different aspects of the Quran structure. So, in this chapter, we will analyze Surah Taa-Haa (Surah 20) which details the story of Prophet Musa (Moses/Mose). We will discuss centrality and other important network graph measures. We will also explore some layouts provided by <em>tidygraph</em> and <em>ggraph</em> that highlight these measures.</p>
<div id="data-preprocessing" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Data preprocessing<a href="word-coccurrences-of-Surah-Taa-Haa.html#data-preprocessing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We repeat the same sequence of steps as in Chapter 5 except that we filter to select Surah Taa-Haa from the Saheeh International Quran <em>data.frame</em> (quran_en_sahih %&gt;% filter(surah == 20)).</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb123-1" tabindex="-1"></a><span class="co"># For the first time model download and execute the below line too</span></span>
<span id="cb123-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb123-2" tabindex="-1"></a><span class="co"># udmodel &lt;- udpipe_download_model(language = &quot;english&quot;)</span></span>
<span id="cb123-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb123-3" tabindex="-1"></a><span class="co"># Load the model</span></span>
<span id="cb123-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb123-4" tabindex="-1"></a>udmodel <span class="ot">&lt;-</span> <span class="fu">udpipe_load_model</span>(<span class="at">file =</span> <span class="st">&#39;english-ewt-ud-2.5-191206.udpipe&#39;</span>)</span></code></pre></div>
<p>We start by annotating Surah Taa-Haa.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb124-1" tabindex="-1"></a><span class="co"># Select the surah</span></span>
<span id="cb124-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb124-2" tabindex="-1"></a>Q01 <span class="ot">&lt;-</span>quRan<span class="sc">::</span>quran_en_sahih <span class="sc">%&gt;%</span> <span class="fu">filter</span>(surah <span class="sc">==</span> <span class="dv">20</span>)</span>
<span id="cb124-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb124-3" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">udpipe_annotate</span>(udmodel, <span class="at">x =</span> Q01<span class="sc">$</span>text, <span class="at">doc_id =</span> Q01<span class="sc">$</span>ayah_title)</span>
<span id="cb124-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb124-4" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(x)</span></code></pre></div>
<p>Again we look at how many times nouns, proper nouns, adjectives, verbs, adverbs, and numbers are used in the same verse in Surah Taa-Haa.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb125-1" tabindex="-1"></a>cooccur <span class="ot">&lt;-</span> <span class="fu">cooccurrence</span>(<span class="at">x =</span> <span class="fu">subset</span>(x, upos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;NOUN&quot;</span>, <span class="st">&quot;PROPN&quot;</span>, <span class="st">&quot;VERB&quot;</span>,</span>
<span id="cb125-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb125-2" tabindex="-1"></a>                                                  <span class="st">&quot;ADJ&quot;</span>, <span class="st">&quot;ADV&quot;</span>, <span class="st">&quot;NUM&quot;</span>)), </span>
<span id="cb125-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb125-3" tabindex="-1"></a>                     <span class="at">term =</span> <span class="st">&quot;lemma&quot;</span>, </span>
<span id="cb125-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb125-4" tabindex="-1"></a>                     <span class="at">group =</span> <span class="fu">c</span>(<span class="st">&quot;doc_id&quot;</span>, <span class="st">&quot;paragraph_id&quot;</span>, <span class="st">&quot;sentence_id&quot;</span>))</span></code></pre></div>
<p>The result can be easily visualized using the <em>igraph</em> and <em>ggraph</em> packages. We chose the top 50 occurrences for the tutorial so the plots do not clutter.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-1" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">head</span>(cooccur, <span class="dv">50</span>)</span>
<span id="cb126-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-2" tabindex="-1"></a>wordnetwork <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(wordnetwork)</span>
<span id="cb126-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-3" tabindex="-1"></a><span class="fu">ggraph</span>(wordnetwork, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb126-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-4" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), </span>
<span id="cb126-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-5" tabindex="-1"></a>                 <span class="at">edge_color =</span> <span class="st">&quot;deeppink&quot;</span>) <span class="sc">+</span></span>
<span id="cb126-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-6" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> igraph<span class="sc">::</span><span class="fu">degree</span>(wordnetwork)), </span>
<span id="cb126-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-7" tabindex="-1"></a>                  <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb126-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-8" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb126-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Co-occurrences Within Sentence&quot;</span>,</span>
<span id="cb126-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb126-10" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Top 50 Nouns, Names, Adjectives, Verbs, Adverbs&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig601"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig601-1.png" alt="First plot of tutorial word network" width="768" />
<p class="caption">
Figure 6.1: First plot of tutorial word network
</p>
</div>
<p>The base wordnetwork graph is a directed network with 41 nodes and 50 edges <em>(DN– 41 50 – )</em>. The nodes have the <em>name</em> attribute. The edges have the <em>cooc</em> attribute (+ attr: name (v/c), cooc (e/n))</p>
<p>The story is revealed by Allah (SWT). The main characters are Mose, his brother Aaron, Pharaoh, and the magicians. So the verb “say” dominates since it is a narrated story. It is interesting to see the strong link and occurrence of “fear” with “Allah”.</p>
</div>
<div id="network-analysis-and-characteristics" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Network analysis and characteristics<a href="word-coccurrences-of-Surah-Taa-Haa.html#network-analysis-and-characteristics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This introductory tutorial should be useful for those new to network graphs.<a href="#fn68" class="footnote-ref" id="fnref68"><sup>68</sup></a> We will be using the network graph tools frequently in our work, thus a tutorial on the network characteristics using an example from the Quran should be helpful.</p>
<p>We will be looking at various functions related to</p>
<ul>
<li><a href="https://rdrr.io/cran/tidygraph/man/graph_measures.html">graph_measures: Graph measurements</a></li>
<li><a href="https://rdrr.io/cran/tidygraph/man/centrality.html">centrality: Calculate node and edge centrality</a></li>
<li><a href="https://rdrr.io/cran/tidygraph/man/group_graph.html">group_graph: Group nodes and edges based on community structure</a></li>
</ul>
<p>This set of functions provide wrappers to several graph statistic algorithms in <em>ìgraph</em>. They are intended for use inside the <em>tidygraph</em> framework and some should not be called directly. Thus we will mix and match the use of the relevant <em>igraph</em> and/or <em>tidygraph</em> functions.</p>
<p>We will follow the structured presentation on Network Characteristics<a href="#fn69" class="footnote-ref" id="fnref69"><sup>69</sup></a> and Centrality Measures<a href="#fn70" class="footnote-ref" id="fnref70"><sup>70</sup></a> for easy reference.</p>
<div id="network-characteristics" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Network characteristics<a href="word-coccurrences-of-Surah-Taa-Haa.html#network-characteristics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our <em>wordnetwork graph</em> is a directed network. We will also create an undirected version of the network.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-1" tabindex="-1"></a>gd <span class="ot">&lt;-</span> wordnetwork</span>
<span id="cb127-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-2" tabindex="-1"></a>gu <span class="ot">&lt;-</span> <span class="fu">simplify</span>(<span class="fu">as.undirected</span>(wordnetwork))</span>
<span id="cb127-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-3" tabindex="-1"></a><span class="fu">V</span>(gd)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb127-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-4" tabindex="-1"></a><span class="fu">E</span>(gd)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb127-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-5" tabindex="-1"></a><span class="fu">E</span>(gd)[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb127-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-6" tabindex="-1"></a><span class="fu">V</span>(gu)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb127-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-7" tabindex="-1"></a><span class="fu">E</span>(gu)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb127-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb127-8" tabindex="-1"></a><span class="fu">E</span>(gu)[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>]</span></code></pre></div>
<p>The <em>igraph</em> notation for directed edges uses -&gt; (Mose -&gt;say) and – for undirected edges (Mose –Allah).</p>
<p>We can measure network properties at the level of nodes (centrality measures) or at the level of the network (global measures). If we are interested in the position of nodes within a network, then we are measuring something at the node level. If we want to understand the structure of the network as a whole, we are measuring something at the network level. Network analysis often combines both.</p>
<p>We will use the two networks, <em>gu</em> and <em>gd</em>, that we created in this section. For the early examples, we will mainly use the <em>igraph</em> package and the basic plot functions. In the later sections, we will show some of the same examples together with new ones using the <em>tidygraph</em> and <em>ggraph</em> packages.</p>
<p>Re-plotting of <em>gd</em> graph is in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig602">6.2</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig602"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig602-1.png" alt="Second plot of tutorial word network" width="576" />
<p class="caption">
Figure 6.2: Second plot of tutorial word network
</p>
</div>
</div>
<div id="centrality-measures-node-level-measures" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Centrality measures (node-level measures)<a href="word-coccurrences-of-Surah-Taa-Haa.html#centrality-measures-node-level-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Centrality relates to measures of a node’s position in the network. The main objective is to understand the position and/or importance of a node in the network. The individual characteristics of nodes can be described by<a href="#fn71" class="footnote-ref" id="fnref71"><sup>71</sup></a></p>
<ul>
<li>Degree</li>
<li>Clustering</li>
<li>Distance to other nodes</li>
</ul>
<p>The <em>centrality</em> of a node reflects its influence, power, and importance. There are four different types of centrality measures.</p>
<ul>
<li>Degree - connectedness</li>
<li>Eigenvectors - Influence, Prestige, “not what you know, but whom you know”</li>
<li>Betweenness - importance as an intermediary, connector</li>
<li>Closeness, Decay – ease of reaching other nodes</li>
</ul>
<p>There are many such centrality measures. It can be difficult to go through all of the available centrality measures. We will introduce just a few examples. More examples are shown in our earlier work.<a href="#fn72" class="footnote-ref" id="fnref72"><sup>72</sup></a></p>
<ul>
<li>Degree centrality</li>
<li>Betweenness centrality</li>
<li>Closeness centrality</li>
<li>Eigenvector centrality</li>
<li>PageRank centrality</li>
</ul>
<p>Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig603">6.3</a> summarizes some of the centrality measures in a graphical format.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig603"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig603-1.png" alt="Centrality summary" width="576" />
<p class="caption">
Figure 6.3: Centrality summary
</p>
</div>
</div>
<div id="degree-and-strength" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Degree and strength<a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-strength" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The most straightforward centrality measure is degree centrality. Degree centrality is simply the number of edges connected to a given node. In a social network, this might mean the number of friends an individual has. We will calculate and visualize the degree centrality by varying the node sizes proportional to degree centrality.</p>
<p>This is shown in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig604">6.4</a>.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-1" tabindex="-1"></a><span class="fu">degree</span>(gd)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb128-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-2" tabindex="-1"></a><span class="fu">degree</span>(gd)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb128-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-3" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb128-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-4" tabindex="-1"></a>deg <span class="ot">=</span> igraph<span class="sc">::</span><span class="fu">degree</span>(gd)</span>
<span id="cb128-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-5" tabindex="-1"></a><span class="fu">sort</span>(deg, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb128-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-6" tabindex="-1"></a><span class="fu">sort</span>(deg, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb128-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-7" tabindex="-1"></a><span class="fu">ggraph</span>(gd, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb128-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-8" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), </span>
<span id="cb128-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-9" tabindex="-1"></a>                 <span class="at">edge_color =</span> <span class="st">&quot;lightseagreen&quot;</span>) <span class="sc">+</span></span>
<span id="cb128-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb128-10" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> deg, <span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig604"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig604-1.png" alt="Node size reflects degree" width="576" />
<p class="caption">
Figure 6.4: Node size reflects degree
</p>
</div>
<p>In weighted networks, we can also use node strength, which is the sum of the weight of edges connected to the node. Let us calculate node strength and plot the node sizes as proportional to these values.</p>
<p>This is shown in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig605">6.5</a>.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10</span>)</span>
<span id="cb129-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-2" tabindex="-1"></a>st <span class="ot">=</span> <span class="fu">graph.strength</span>(gd)</span>
<span id="cb129-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-3" tabindex="-1"></a><span class="fu">sort</span>(st, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb129-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-4" tabindex="-1"></a><span class="fu">sort</span>(st, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb129-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-5" tabindex="-1"></a><span class="fu">ggraph</span>(gd, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-6" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), </span>
<span id="cb129-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-7" tabindex="-1"></a>                 <span class="at">edge_color =</span> <span class="st">&quot;lightseagreen&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-8" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> st, <span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>) <span class="sc">+</span></span>
<span id="cb129-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb129-9" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">filter=</span>(st <span class="sc">&gt;=</span> <span class="dv">3</span>), <span class="at">size=</span>st<span class="sc">*</span><span class="dv">2</span>, <span class="at">label=</span>name), <span class="at">repel=</span>F)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig605"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig605-1.png" alt="Node size reflects graph.strength" width="576" />
<p class="caption">
Figure 6.5: Node size reflects graph.strength
</p>
</div>
<p>Compare the relative node sizes when plotting by <em>degree</em> vs. <em>strength</em>. What differences do you notice? The top six words are the same say (18), indeed (8), so (8), fire (7), Mose (4), Lord (4).</p>
</div>
<div id="degree-distribution" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> Degree distribution<a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Degree distribution: A frequency count of the occurrence of each degree.</p>
<p>Let N be the number of nodes, and L be the number of edges. Average degree = 2L/N = 2(50)/41 = 2.439 for gu. The histogram of the degree is shown in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig606">6.6</a>.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">degree</span>(gu), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb130-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-2" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">degree</span>(gu), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb130-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-3" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">degree</span>(gu))</span>
<span id="cb130-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-4" tabindex="-1"></a><span class="fu">degree</span>(gu) <span class="sc">%&gt;%</span> <span class="fu">sum</span>()</span>
<span id="cb130-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-5" tabindex="-1"></a><span class="fu">degree.distribution</span>(gu)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb130-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-6" tabindex="-1"></a><span class="fu">degree.distribution</span>(gu)[<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb130-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb130-7" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">degree.distribution</span>(gu))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig606"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig606-1.png" alt="Degree distribution of tutorial word network" width="576" />
<p class="caption">
Figure 6.6: Degree distribution of tutorial word network
</p>
</div>
</div>
<div id="degree-and-degree-distribution-for-directed-graph" class="section level3 hasAnchor" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> Degree and degree distribution for directed graph<a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-and-degree-distribution-for-directed-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>In-degree of any node i: the number of nodes ending at i.</li>
<li>Out-degree of any node i: the number of nodes originating from i.</li>
<li>Every loop adds one degree to each of the in-degree and out-degree of a node.</li>
<li>Degree distribution: A frequency count of the occurrence of each degree</li>
<li>Average degree: let N = number of nodes, and L = number of edges:
<ul>
<li>Avg. degree-in = Avg. degree-out = L/N = 50/41 = 1.219, for <em>gd</em>.</li>
</ul></li>
</ul>
<p>The plots of the histogram are in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig607">6.7</a> and Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig608">6.8</a>.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb131-1" tabindex="-1"></a><span class="fu">degree</span>(gd,<span class="at">mode=</span><span class="st">&quot;in&quot;</span>,<span class="at">loops =</span> <span class="cn">FALSE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb131-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb131-2" tabindex="-1"></a><span class="fu">degree</span>(gd,<span class="at">mode=</span><span class="st">&quot;out&quot;</span>,<span class="at">loops =</span> <span class="cn">FALSE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb131-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb131-3" tabindex="-1"></a><span class="fu">degree</span>(gd,<span class="at">mode=</span><span class="st">&quot;in&quot;</span>,<span class="at">loops =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb131-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb131-4" tabindex="-1"></a><span class="fu">degree</span>(gd,<span class="at">mode=</span><span class="st">&quot;out&quot;</span>,<span class="at">loops =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb131-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb131-5" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">degree.distribution</span>(gd, <span class="at">mode=</span><span class="st">&quot;in&quot;</span>))</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig607"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig607-1.png" alt="In degree distribution of directed word network" width="576" />
<p class="caption">
Figure 6.7: In degree distribution of directed word network
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig608"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig608-1.png" alt="Out degree distribution of directed word network" width="576" />
<p class="caption">
Figure 6.8: Out degree distribution of directed word network
</p>
</div>
</div>
<div id="why-do-we-care-about-degree" class="section level3 hasAnchor" number="6.2.6">
<h3><span class="header-section-number">6.2.6</span> Why do we care about degree?<a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-degree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Simplest, yet very illuminating centrality measure in a network:
<ul>
<li>In a social network, the ones who have connections to many others might have more influence, more access to information, or more prestige than those who have fewer connections.</li>
</ul></li>
<li>The degree is the immediate risk of a node for catching whatever is flowing through the network (such as a virus, or some information)</li>
</ul>
</div>
<div id="betweenness" class="section level3 hasAnchor" number="6.2.7">
<h3><span class="header-section-number">6.2.7</span> Betweenness<a href="word-coccurrences-of-Surah-Taa-Haa.html#betweenness" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We now do the same for betweenness centrality. It is defined as the number of geodesic paths (shortest paths) that go through a given node. Nodes with high betweenness might be influential in a network if, for example, they capture the most amount of information flowing through the network because the information tends to flow through them.</p>
<ul>
<li>Betweenness centrality quantifies the number of times a node acts as a bridge along the shortest path between two other nodes.</li>
<li>It was introduced as a measure for quantifying the control of a human on the communication between other humans in a social network.</li>
<li>In this conception, nodes that have a high probability to occur on a randomly chosen shortest path between two randomly chosen nodes have a high betweenness.</li>
</ul>
<p>This is shown in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig609">6.9</a>.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-1" tabindex="-1"></a>betw <span class="ot">=</span> <span class="fu">betweenness</span>(gd, <span class="at">normalized=</span>F)</span>
<span id="cb132-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-2" tabindex="-1"></a><span class="co"># calculate the betweenness centrality</span></span>
<span id="cb132-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-3" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">betweenness</span>(gu), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb132-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-4" tabindex="-1"></a><span class="co"># calculate the standardized betweenness centrality</span></span>
<span id="cb132-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-5" tabindex="-1"></a>betwS <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="fu">betweenness</span>(gu)<span class="sc">/</span>((<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>)<span class="sc">*</span>(<span class="fu">vcount</span>(gu)<span class="sc">-</span><span class="dv">2</span>))</span>
<span id="cb132-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-6" tabindex="-1"></a><span class="fu">sort</span>(betwS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb132-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-7" tabindex="-1"></a></span>
<span id="cb132-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-8" tabindex="-1"></a><span class="fu">ggraph</span>(gd, <span class="at">layout =</span> <span class="st">&quot;kk&quot;</span>) <span class="sc">+</span></span>
<span id="cb132-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-9" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> cooc, <span class="at">edge_alpha =</span> cooc), </span>
<span id="cb132-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-10" tabindex="-1"></a>     <span class="at">edge_color =</span> <span class="st">&quot;lightseagreen&quot;</span>) <span class="sc">+</span></span>
<span id="cb132-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-11" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> betw<span class="sc">*</span><span class="fl">0.2</span>, <span class="at">color =</span> <span class="st">&quot;gold3&quot;</span>) <span class="sc">+</span></span>
<span id="cb132-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb132-12" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">filter=</span>(betw <span class="sc">&gt;=</span> <span class="dv">5</span>), <span class="at">size=</span>betw<span class="sc">*</span><span class="dv">2</span>, <span class="at">label=</span>name), <span class="at">repel=</span>F)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig609"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig609-1.png" alt="Node size reflects betweenness centrality" width="576" />
<p class="caption">
Figure 6.9: Node size reflects betweenness centrality
</p>
</div>
<p>We can see that there are three nodes (words = “say”, “indeed”, “fire”) that have qualitatively higher betweenness values than all other nodes in the network. One way to interpret this is that these are nodes that tend to act as “bridges” between different clusters of nodes in the network.</p>
</div>
<div id="degree-centrality-for-undirected-graph" class="section level3 hasAnchor" number="6.2.8">
<h3><span class="header-section-number">6.2.8</span> Degree centrality for undirected graph<a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-centrality-for-undirected-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The nodes with a higher degree are more central.</li>
<li>Degree is simply the number of nodes at distance one.</li>
<li>Though simple, the degree is often a highly effective measure of the influence or importance of a node.</li>
<li>In many social settings, people with more connections tend to have more power and are more visible.</li>
<li>Group-level centralization: degree, as an individual-level centrality measure, has a distribution that can be summarized by its mean and variance as is commonly practiced in data analysis.</li>
</ul>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-1" tabindex="-1"></a><span class="co"># calculate the degree centrality for business network</span></span>
<span id="cb133-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-2" tabindex="-1"></a>deg <span class="ot">&lt;-</span> <span class="fu">degree</span>(gu, <span class="at">loops =</span> <span class="cn">FALSE</span>)</span>
<span id="cb133-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-3" tabindex="-1"></a><span class="fu">sort</span>(deg, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb133-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-4" tabindex="-1"></a><span class="co"># calculate the standardized degree centrality</span></span>
<span id="cb133-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-5" tabindex="-1"></a>degS <span class="ot">&lt;-</span> <span class="fu">degree</span>(gu, <span class="at">loops =</span> <span class="cn">FALSE</span>)<span class="sc">/</span>(<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb133-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb133-6" tabindex="-1"></a><span class="fu">sort</span>(degS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span></code></pre></div>
</div>
<div id="outdegree-centrality-and-indegree-prestige" class="section level3 hasAnchor" number="6.2.9">
<h3><span class="header-section-number">6.2.9</span> Outdegree centrality and indegree prestige<a href="word-coccurrences-of-Surah-Taa-Haa.html#outdegree-centrality-and-indegree-prestige" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The nodes with higher out-degree are more central (choices made).</li>
<li>The nodes with higher in-degree are more prestigious (choices received).</li>
</ul>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb134-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">degree</span>(gd, <span class="at">mode=</span><span class="st">&#39;in&#39;</span>), <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb134-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb134-2" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">degree</span>(gd, <span class="at">mode=</span><span class="st">&#39;out&#39;</span>), <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<p>What does this say about the importance of these nodes? Well, that depends on the network and the questions; in particular how we might quantify ‘importance’ in our network. But clearly “say”, “indeed” “Mose”, “Allah”, “Lord”, “Pharaoh” are important words in the Surah. We have explained the importance of “say” in that the Surah is telling a story. “indeed” shows that the Quran is stressing the truth of the narrations.</p>
<p>Here is a shortlist of some commonly-used centrality measures:</p>
<ul>
<li>degree() - Number of edges connected to node</li>
<li>graph.strength() - Sum of edge weights connected to a node (aka weighted degree)</li>
<li>betweenness() - Number of geodesic paths that go through a given node</li>
<li>closeness() - Number of steps required to access every other node from a given node</li>
<li>eigen_centrality() - Values of the first eigenvector of the graph adjacency matrix. The values are high for nodes that are connected to many other nodes that are, in turn, connected to many others, etc.</li>
</ul>
</div>
<div id="closeness-centrality-for-undirected-graph" class="section level3 hasAnchor" number="6.2.10">
<h3><span class="header-section-number">6.2.10</span> Closeness centrality for undirected graph<a href="word-coccurrences-of-Surah-Taa-Haa.html#closeness-centrality-for-undirected-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>The farness/peripherality of a node <em>v</em> is defined as the sum of its distances to all other nodes</li>
<li>The closeness is defined as the inverse of the farness.</li>
<li>For comparison purpose, we can standardize the closeness by dividing by the maximum possible value <em>1/(n - 1)</em></li>
<li>If there is no (directed) path between node <em>v</em> and <em>i</em> then the total number of nodes is used in the formula instead of the path length.</li>
<li>The more central a node is, the lower its total distance to all other nodes.</li>
<li>Closeness can be regarded as a measure of how long it will take to spread information from <em>v</em> to all other nodes sequentially.</li>
</ul>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb135-1" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">closeness</span>(gu), <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb135-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb135-2" tabindex="-1"></a><span class="co"># calculate the standardized closeness centrality</span></span>
<span id="cb135-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb135-3" tabindex="-1"></a>closeS <span class="ot">&lt;-</span> <span class="fu">closeness</span>(gu)<span class="sc">*</span>(<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb135-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb135-4" tabindex="-1"></a><span class="fu">sort</span>(closeS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span></code></pre></div>
<p>From the various plots in the earlier sections, there are some words outside the main network cluster. They are <em>disconnected</em> from the main network. Hence, there are some warning messages for disconnected graphs.</p>
<p>We will calculate the Eigenvector and PageRank centrality measures in the next section as we assemble a <em>data.frame</em> of node-level measures.</p>
</div>
<div id="correlation-analysis-among-centrality-measures-for-the-gu-network" class="section level3 hasAnchor" number="6.2.11">
<h3><span class="header-section-number">6.2.11</span> Correlation analysis among centrality measures for the <em>gu</em> network<a href="word-coccurrences-of-Surah-Taa-Haa.html#correlation-analysis-among-centrality-measures-for-the-gu-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-1" tabindex="-1"></a><span class="co"># calculate the degree centrality</span></span>
<span id="cb136-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-2" tabindex="-1"></a>deg <span class="ot">&lt;-</span> <span class="fu">degree</span>(gu, <span class="at">loops =</span> <span class="cn">FALSE</span>)</span>
<span id="cb136-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-3" tabindex="-1"></a><span class="fu">sort</span>(deg, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>) <span class="co"># sort the nodes in decreasing order</span></span>
<span id="cb136-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-4" tabindex="-1"></a><span class="co"># calculate the standardized degree centrality</span></span>
<span id="cb136-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-5" tabindex="-1"></a>degS <span class="ot">&lt;-</span> <span class="fu">degree</span>(gu, <span class="at">loops =</span> <span class="cn">FALSE</span>)<span class="sc">/</span>(<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb136-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-6" tabindex="-1"></a><span class="fu">sort</span>(degS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>) <span class="co"># sort the nodes in decreasing order</span></span>
<span id="cb136-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-7" tabindex="-1"></a><span class="co"># calculate the closeness centrality</span></span>
<span id="cb136-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-8" tabindex="-1"></a>close <span class="ot">&lt;-</span> <span class="fu">closeness</span>(gu)</span>
<span id="cb136-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-9" tabindex="-1"></a><span class="fu">sort</span>(close, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb136-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-10" tabindex="-1"></a><span class="co"># calculate the standardized closeness centrality</span></span>
<span id="cb136-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-11" tabindex="-1"></a>closeS <span class="ot">&lt;-</span> <span class="fu">closeness</span>(gu)<span class="sc">*</span>(<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb136-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-12" tabindex="-1"></a><span class="fu">sort</span>(closeS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb136-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-13" tabindex="-1"></a><span class="co"># calculate the Betweenness centrality</span></span>
<span id="cb136-14"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-14" tabindex="-1"></a>betw <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(gu)</span>
<span id="cb136-15"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-15" tabindex="-1"></a><span class="fu">sort</span>(betw, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb136-16"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-16" tabindex="-1"></a><span class="co"># calculate the standardized Betweenness centrality</span></span>
<span id="cb136-17"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-17" tabindex="-1"></a>betwS <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">betweenness</span>(gu)<span class="sc">/</span>((<span class="fu">vcount</span>(gu) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> (<span class="fu">vcount</span>(gu)<span class="sc">-</span><span class="dv">2</span>))</span>
<span id="cb136-18"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-18" tabindex="-1"></a><span class="fu">sort</span>(betwS, <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb136-19"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-19" tabindex="-1"></a><span class="co"># calculate the Eigenvector centrality</span></span>
<span id="cb136-20"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-20" tabindex="-1"></a>eigen <span class="ot">&lt;-</span> <span class="fu">evcent</span>(gu)</span>
<span id="cb136-21"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-21" tabindex="-1"></a><span class="fu">sort</span>(eigen[[<span class="dv">1</span>]], <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span>
<span id="cb136-22"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-22" tabindex="-1"></a><span class="co"># calculate the PageRank centrality</span></span>
<span id="cb136-23"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-23" tabindex="-1"></a>page <span class="ot">&lt;-</span> <span class="fu">page.rank</span>(gu)</span>
<span id="cb136-24"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb136-24" tabindex="-1"></a><span class="fu">sort</span>(page[[<span class="dv">1</span>]], <span class="at">decreasing =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">6</span>)</span></code></pre></div>
<p>From the above parameters, we assemble a <em>data.frame</em> and plot a correlation matrix, (Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig610">6.10</a>).</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-1" tabindex="-1"></a>dfu <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(degS, closeS, betwS, eigen[[<span class="dv">1</span>]], page[[<span class="dv">1</span>]])</span>
<span id="cb137-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-2" tabindex="-1"></a><span class="co"># Pearson correlation matrix</span></span>
<span id="cb137-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-3" tabindex="-1"></a>Pearson_correlation_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(dfu) </span>
<span id="cb137-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-4" tabindex="-1"></a><span class="co"># Spearman correlation matrix</span></span>
<span id="cb137-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-5" tabindex="-1"></a>Spearman_correlation_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(dfu, <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>) </span>
<span id="cb137-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-6" tabindex="-1"></a><span class="co"># Kendall correlation matrix</span></span>
<span id="cb137-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-7" tabindex="-1"></a><span class="fu">cor</span>(dfu, <span class="at">method =</span> <span class="st">&quot;kendall&quot;</span>) </span>
<span id="cb137-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-8" tabindex="-1"></a><span class="co"># Basic Scatterplot Matrix</span></span>
<span id="cb137-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-9" tabindex="-1"></a><span class="fu">pairs</span>(<span class="sc">~</span>deg <span class="sc">+</span> close <span class="sc">+</span> betw <span class="sc">+</span> eigen[[<span class="dv">1</span>]] <span class="sc">+</span> page[[<span class="dv">1</span>]],</span>
<span id="cb137-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb137-10" tabindex="-1"></a>      <span class="at">data=</span>dfu)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig610"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig610-1.png" alt="Simple Scatterplot Matrix" width="576" />
<p class="caption">
Figure 6.10: Simple Scatterplot Matrix
</p>
</div>
</div>
<div id="assembling-a-dataset-of-node-level-measures-for-gd-network" class="section level3 hasAnchor" number="6.2.12">
<h3><span class="header-section-number">6.2.12</span> Assembling a dataset of node-level measures for gd network<a href="word-coccurrences-of-Surah-Taa-Haa.html#assembling-a-dataset-of-node-level-measures-for-gd-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-1" tabindex="-1"></a><span class="co">#assemble dataset</span></span>
<span id="cb138-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-2" tabindex="-1"></a>names <span class="ot">=</span> <span class="fu">V</span>(gd)<span class="sc">$</span>name</span>
<span id="cb138-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-3" tabindex="-1"></a>deg <span class="ot">=</span> <span class="fu">degree</span>(gd)</span>
<span id="cb138-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-4" tabindex="-1"></a>st <span class="ot">=</span> <span class="fu">graph.strength</span>(gd)</span>
<span id="cb138-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-5" tabindex="-1"></a>betw <span class="ot">=</span> <span class="fu">betweenness</span>(gd, <span class="at">normalized=</span>F)</span>
<span id="cb138-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-6" tabindex="-1"></a>eigen <span class="ot">&lt;-</span> <span class="fu">evcent</span>(gd)</span>
<span id="cb138-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-7" tabindex="-1"></a>page <span class="ot">&lt;-</span> <span class="fu">page.rank</span>(gd)</span>
<span id="cb138-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-8" tabindex="-1"></a>dfd <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">node.name=</span>names, <span class="at">degree=</span>deg, <span class="at">strength=</span>st, </span>
<span id="cb138-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-9" tabindex="-1"></a>                 <span class="at">betweenness=</span>betw,</span>
<span id="cb138-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-10" tabindex="-1"></a>                 <span class="at">eigen =</span> eigen[[<span class="dv">1</span>]], <span class="at">page =</span> page[[<span class="dv">1</span>]]) </span>
<span id="cb138-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-11" tabindex="-1"></a><span class="fu">head</span>(dfd)</span>
<span id="cb138-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-12" tabindex="-1"></a><span class="co"># plot the relationship between degree and strength</span></span>
<span id="cb138-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-13" tabindex="-1"></a>dfd <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> strength, <span class="at">y =</span> degree)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb138-14"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-14" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">label =</span> <span class="fu">rownames</span>(dfd),</span>
<span id="cb138-15"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-15" tabindex="-1"></a>                  <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>,</span>
<span id="cb138-16"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-16" tabindex="-1"></a>                  <span class="at">nudge_x =</span> <span class="fl">0.25</span>, <span class="at">nudge_y =</span> <span class="fl">0.25</span>, </span>
<span id="cb138-17"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-17" tabindex="-1"></a>                  <span class="at">check_overlap =</span> T) <span class="sc">+</span></span>
<span id="cb138-18"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-18" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Word Co-occurrences Network&quot;</span>,</span>
<span id="cb138-19"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb138-19" tabindex="-1"></a>             <span class="at">y =</span> <span class="st">&quot;Degree&quot;</span>,<span class="at">x =</span> <span class="st">&quot;Strength&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig611"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig611-1.png" alt="Relationship degree and strength" width="576" />
<p class="caption">
Figure 6.11: Relationship degree and strength
</p>
</div>
<p>The straight line in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig611">6.11</a> obviously shows that these are correlated since strength is simply the weighted version of degree.</p>
<p>How about the relationship between betweenness and strength?</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig612"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig612-1.png" alt="Relationship betweenness and strength" width="576" />
<p class="caption">
Figure 6.12: Relationship betweenness and strength
</p>
</div>
<p>These are not well correlated, since they describe something different (as shown in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig612">6.12</a>, points are not in a straight line). Again the common words “say” and “indeed” have a dominant role in Surah Taa-Haa that narrates the true story of Prophet Moses. The common adverb “so” is often used for emphasis<a href="#fn73" class="footnote-ref" id="fnref73"><sup>73</sup></a> to stress some facts and lessons of the story.</p>
</div>
</div>
<div id="network-level-measures" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Network-level measures<a href="word-coccurrences-of-Surah-Taa-Haa.html#network-level-measures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="size-and-density" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Size and density<a href="word-coccurrences-of-Surah-Taa-Haa.html#size-and-density" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We start by getting some basic information for the network, such as the number of nodes and edges. There are a couple of functions to help us extract this information without having to look it up in the “object summary” (e.g., summary(gd)). Using these functions, we can store the information as separate objects, e.g., <em>n</em> for number of nodes and <em>m</em> for number of edges.</p>
<p>For <em>gd</em> the number of nodes <em>n</em> is 41 and the number of edges <em>m</em> is 50.
For <em>gu</em> the number of nodes <em>n</em> is 41 and the number of edges <em>m</em> is 50.</p>
<p>The definition of network density is:</p>
<blockquote>
<p>density = [# edges that exist] / [# edges that are possible]</p>
</blockquote>
<p>In an undirected network with no loops, the number of edges that are possible is exactly the number of dyads that exist in the network. In turn, the number of dyads is <em>n(n-1)/2</em> where <em>n</em> = number of nodes. With this information, we can calculate the density with the following:</p>
<blockquote>
<p>dyads directed = <em>n(n-1)</em> = 41(41-1) = 1640</p>
</blockquote>
<blockquote>
<p>dyads undirected = <em>n(n-1)/2</em> = 41(41-1)/2 = 820</p>
</blockquote>
<blockquote>
<p>density = <em>m</em>/dyads</p>
</blockquote>
<p>There is a pre-packaged function for calculating density, edge_density():</p>
</div>
<div id="components" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Components<a href="word-coccurrences-of-Surah-Taa-Haa.html#components" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For ‘fully connected’ networks, we can follow edges from any given node to all other nodes in the network. Networks can also be composed of multiple components that are not connected to each other, as is obvious from the plots of our sample word network <em>gd</em>. We can get this information with a simple function.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb139-1" tabindex="-1"></a><span class="fu">components</span>(gd)<span class="sc">$</span>membership[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb139-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb139-2" tabindex="-1"></a><span class="fu">components</span>(gd)<span class="sc">$</span>csize</span>
<span id="cb139-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb139-3" tabindex="-1"></a><span class="fu">components</span>(gd)<span class="sc">$</span>no</span>
<span id="cb139-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb139-4" tabindex="-1"></a><span class="fu">plot</span>(gd)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig613"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig613-1.png" alt="Simple plot showing network components" width="576" />
<p class="caption">
Figure 6.13: Simple plot showing network components
</p>
</div>
<p>The output shows the node membership, component sizes, and number of components. The numbers for <em>no</em> (number of components, 4) and <em>csize</em> (size for each component) can be confirmed from Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig613">6.13</a>.</p>
</div>
<div id="degree-distributions" class="section level3 hasAnchor" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> Degree distributions<a href="word-coccurrences-of-Surah-Taa-Haa.html#degree-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Degree distribution, the statistical distribution of node degrees in a network, is a common and often powerful way to describe a network. We can simply look at the degree distribution as a histogram of degrees. (See the plots in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig614">6.14</a> and Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig615">6.15</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig614"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig614-1.png" alt="Histogram of gd degrees" width="576" />
<p class="caption">
Figure 6.14: Histogram of gd degrees
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig615"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig615-1.png" alt="Histogram of gu degrees" width="576" />
<p class="caption">
Figure 6.15: Histogram of gu degrees
</p>
</div>
<p>However, if we want to compare the degree distributions of different networks, it might be more useful to plot the probability densities of each degree: i.e., what proportion of nodes has degree = 1, degree = 2, etc. We can do this by using the function <em>degree.distribution()</em>. The output of the plot is in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig616">6.16</a> and Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig617">6.17</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig616"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig616-1.png" alt="Degree distribution of gd" width="576" />
<p class="caption">
Figure 6.16: Degree distribution of gd
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig617"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig617-1.png" alt="Degree distribution of gu" width="576" />
<p class="caption">
Figure 6.17: Degree distribution of gu
</p>
</div>
<p>Degree and degree distribution play an important role in understanding networks. A higher density changes the component structure of a network and impacts the diffusion and learning properties. The degree also is an individual node’s characteristic and reflects its position.</p>
</div>
<div id="average-path-length-and-diameter" class="section level3 hasAnchor" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> Average path length and diameter<a href="word-coccurrences-of-Surah-Taa-Haa.html#average-path-length-and-diameter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The network “path” is typically a short form for “geodesic path” or “shortest path” — the fewest number of edges to get from one node to another.</p>
<ul>
<li>The average path length can be considered as the average “degrees of separation” between all pairs of nodes in the network.</li>
<li>The diameter (maximum path length) is the maximum degree of separation that exists in the network.</li>
</ul>
<p>We can calculate path lengths with or without the edge weights (if using edge weights, we simply count up the weights as we go along the path). The <em>igraph</em> package includes a convenient function for finding the shortest paths between every dyad in a network. Make sure algorithm is set as “unweighted”.</p>
<ul>
<li>pathd = distances(gd, algorithm=“unweighted”)</li>
<li>pathu = distances(gu, algorithm=“unweighted”)</li>
</ul>
<p>This matrix is usually large, so we will not display the output. It gives us the geodesic path length between each pair of nodes in the network. We can describe the network using some characteristics of the paths that exist in that network. This matrix contains a bunch of cells that are “Inf” (i.e., infinity). This is because the network is not connected, and we cannot calculate path lengths between nodes in different components.</p>
<p>How should we measure the average path length and diameter of a network with multiple components? There are two common solutions. The first is to ignore pairs of nodes that are in different components and only measure the average lengths of the paths that exist. This solution does not make sense for the diameter since the diameter of an unconnected network should be infinite. The second solution is to measure each component separately. We will do each of these in turn.</p>
<p>Option 1: To calculate the average path length while ignoring pairs of nodes that are in different components, we can first replace the “Inf” with “NA” in the path length matrix. Next, we want just the “upper triangle” or “lower triangle” of this matrix, which lists all the geodesic paths without duplicates.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-1" tabindex="-1"></a>pathd <span class="ot">=</span> <span class="fu">distances</span>(gd, <span class="at">algorithm=</span><span class="st">&quot;unweighted&quot;</span>)</span>
<span id="cb140-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-2" tabindex="-1"></a>pathu <span class="ot">=</span> <span class="fu">distances</span>(gu, <span class="at">algorithm=</span><span class="st">&quot;unweighted&quot;</span>)</span>
<span id="cb140-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-3" tabindex="-1"></a>pathd[pathd<span class="sc">==</span><span class="st">&quot;Inf&quot;</span>]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb140-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-4" tabindex="-1"></a><span class="fu">mean</span>(pathd[<span class="fu">upper.tri</span>(pathd)], <span class="at">na.rm=</span>T)</span>
<span id="cb140-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-5" tabindex="-1"></a>pathu[pathu<span class="sc">==</span><span class="st">&quot;Inf&quot;</span>]<span class="ot">=</span><span class="cn">NA</span></span>
<span id="cb140-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb140-6" tabindex="-1"></a><span class="fu">mean</span>(pathu[<span class="fu">upper.tri</span>(pathu)], <span class="at">na.rm=</span>T)</span></code></pre></div>
<p>This is what the function mean_distances() does for unconnected networks because we will get the same value:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb141-1" tabindex="-1"></a><span class="fu">mean_distance</span>(gd)</span>
<span id="cb141-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb141-2" tabindex="-1"></a><span class="fu">mean_distance</span>(gu)</span></code></pre></div>
<p>Option 2: To calculate the average path lengths and diameter separately for each component, we will first ‘decompose’ the network into a list that contains each component as separate graph objects. We can then use the lapply() function to calculate separate path length matrices, and sapply() function to calculate the mean and max for each matrix.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-1" tabindex="-1"></a>comps <span class="ot">=</span> <span class="fu">decompose</span>(gd)</span>
<span id="cb142-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-2" tabindex="-1"></a><span class="co">#make list object with two path length matrices</span></span>
<span id="cb142-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-3" tabindex="-1"></a>path.list <span class="ot">=</span> <span class="fu">lapply</span>(comps, <span class="cf">function</span>(x) <span class="fu">distances</span>(x, <span class="at">algorithm=</span><span class="st">&quot;unweighted&quot;</span>)) </span>
<span id="cb142-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-4" tabindex="-1"></a><span class="co">#average path length of each component</span></span>
<span id="cb142-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-5" tabindex="-1"></a>avg.paths<span class="ot">=</span><span class="fu">sapply</span>(path.list, mean) </span>
<span id="cb142-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-6" tabindex="-1"></a><span class="co">#diameter of each component</span></span>
<span id="cb142-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-7" tabindex="-1"></a>diams<span class="ot">=</span><span class="fu">sapply</span>(path.list, max) </span>
<span id="cb142-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-8" tabindex="-1"></a>avg.paths</span>
<span id="cb142-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb142-9" tabindex="-1"></a>diams</span></code></pre></div>
</div>
<div id="path-distance-distribution" class="section level3 hasAnchor" number="6.3.5">
<h3><span class="header-section-number">6.3.5</span> Path distance distribution<a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Path distribution: A frequency count of the occurrence of each path distance.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb143-1" tabindex="-1"></a><span class="fu">average.path.length</span>(gu)</span>
<span id="cb143-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb143-2" tabindex="-1"></a><span class="fu">path.length.hist</span>(gu)</span></code></pre></div>
<ul>
<li>$res is the histogram of distances,</li>
<li>$unconnected is the number of pairs for which the first node is not reachable from the second.</li>
</ul>
</div>
<div id="path-distance-distribution-for-directed-graph" class="section level3 hasAnchor" number="6.3.6">
<h3><span class="header-section-number">6.3.6</span> Path distance distribution for directed graph<a href="word-coccurrences-of-Surah-Taa-Haa.html#path-distance-distribution-for-directed-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb144-1" tabindex="-1"></a><span class="fu">average.path.length</span>(gd)</span>
<span id="cb144-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb144-2" tabindex="-1"></a><span class="fu">path.length.hist</span> (gd)</span></code></pre></div>
</div>
<div id="why-do-we-care-about-path" class="section level3 hasAnchor" number="6.3.7">
<h3><span class="header-section-number">6.3.7</span> Why do we care about path?<a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-path" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Path means connectivity.</p></li>
<li><p>Path captures the indirect interactions in a network, and individual nodes benefit (or suffer) from indirect relationships because friends might provide access to favors from their friends or a virus might spread through the links of a network.</p></li>
<li><p>Path is closely related to the small-world phenomenon.</p></li>
<li><p>Path is related to many other centrality measures.</p></li>
</ul>
</div>
<div id="clustering-coefficient-transitivity-distribution" class="section level3 hasAnchor" number="6.3.8">
<h3><span class="header-section-number">6.3.8</span> Clustering coefficient (Transitivity) distribution<a href="word-coccurrences-of-Surah-Taa-Haa.html#clustering-coefficient-transitivity-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are two formal definitions of the Clustering Coefficient (or Transitivity): “global clustering coefficient” and “local clustering coefficient”. They are slightly different, but both deal with the probability of two nodes that are connected to a common node being connected themselves (e.g., the probability of two of your friends knowing each other).</p>
<ul>
<li>Global Clustering Coefficient = “ratio of triangles to connected triples”</li>
<li>Local Clustering Coefficient = for each node, the proportion of their neighbors that are connected to each other</li>
<li>Average Local Clustering Coefficient: If <em>Ci</em> is the proportion of two nodes connected to node <em>i</em> that are also connected to each other (i.e., the Local Clustering Coefficient), then Average Local Clustering Coefficient = <em>sum(Ci)/n</em></li>
</ul>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-1" tabindex="-1"></a><span class="co"># global clustering: the ratio of the triangles and </span></span>
<span id="cb145-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-2" tabindex="-1"></a><span class="co"># the connected triples in the graph</span></span>
<span id="cb145-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-3" tabindex="-1"></a>g.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gd, <span class="st">&quot;global&quot;</span>)</span>
<span id="cb145-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-4" tabindex="-1"></a><span class="co"># local clustering</span></span>
<span id="cb145-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-5" tabindex="-1"></a>l.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gd, <span class="st">&quot;local&quot;</span>) </span>
<span id="cb145-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-6" tabindex="-1"></a><span class="co"># average clustering</span></span>
<span id="cb145-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-7" tabindex="-1"></a>av.l.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gd, <span class="st">&quot;localaverage&quot;</span>) </span>
<span id="cb145-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-8" tabindex="-1"></a>g.cluster</span>
<span id="cb145-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-9" tabindex="-1"></a>l.cluster[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb145-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-10" tabindex="-1"></a>av.l.cluster</span>
<span id="cb145-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-11" tabindex="-1"></a><span class="co"># undirected</span></span>
<span id="cb145-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-12" tabindex="-1"></a>g.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gu, <span class="st">&quot;global&quot;</span>)</span>
<span id="cb145-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-13" tabindex="-1"></a>l.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gu, <span class="st">&quot;local&quot;</span>)</span>
<span id="cb145-14"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-14" tabindex="-1"></a>av.l.cluster <span class="ot">=</span> <span class="fu">transitivity</span>(gu, <span class="st">&quot;localaverage&quot;</span>)</span>
<span id="cb145-15"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-15" tabindex="-1"></a>g.cluster</span>
<span id="cb145-16"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-16" tabindex="-1"></a>l.cluster[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb145-17"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb145-17" tabindex="-1"></a>av.l.cluster</span></code></pre></div>
</div>
<div id="why-do-we-care-about-clustering-coefficient" class="section level3 hasAnchor" number="6.3.9">
<h3><span class="header-section-number">6.3.9</span> Why do we care about clustering coefficient?<a href="word-coccurrences-of-Surah-Taa-Haa.html#why-do-we-care-about-clustering-coefficient" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>A clustering coefficient is a measure of the degree to which nodes in a graph tend to cluster together. In most real-world networks, and in particular social networks, nodes tend to create tightly knit groups characterized by a relatively high density of links; this likelihood tends to be greater than the average probability of a link randomly established between two nodes.</li>
<li>Nodes with higher degrees have a lower local clustering coefficient on average.</li>
<li>Local clustering can be used as a probe for the existence of so-called structural holes in a network, which are missing links between neighbors of a node.</li>
<li>Structural holes can be bad when we are interested in the efficient spread of information or other traffic around a network because they reduce the number of alternative routes information can take through the network.</li>
<li>Structural holes can be a good thing for the central node whose friends lack connections because they give power over information flow between those friends.</li>
<li>The local clustering coefficient measures how influential a node is in this sense, taking lower values the more structural holes there are in the network around it.</li>
<li>Local clustering can be regarded as a type of centrality measure, albeit one that takes small values for powerful individuals rather than large ones.</li>
</ul>
</div>
</div>
<div id="community-structure-and-assortment" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Community structure and assortment<a href="word-coccurrences-of-Surah-Taa-Haa.html#community-structure-and-assortment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Networks exhibit community structure, the presence of discrete clusters of nodes that are densely connected, which themselves are only loosely connected to other clusters. These may be clusters of individuals that form social groups. How do we detect the presence of such clusters or communities, and how can we quantify the degree of community structure?</p>
<div id="modularity-and-community-detection" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Modularity and community detection<a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Modularity-based methods of community detection are not fool-proof. There is no perfect approach to community detection. There are several functions available for community detection in <em>igraph</em> and other packages.</p>
<ul>
<li>edge.betweenness.community()
<ul>
<li>One of the first in the class of “modularity optimization” algorithms. It is a “divisive” method. Cut the edge with the highest edge betweenness, and recalculate. Eventually, you end up cutting the network into different groups.</li>
</ul></li>
<li>fastgreedy.community()
<ul>
<li>Hierarchical agglomerative method that is designed to run well in large networks. Creates “multigraphs” where you lump groups of nodes together in the process of agglomeration to save time on sparse graphs.</li>
</ul></li>
<li>walktrap.community()
<ul>
<li>Uses random walks to calculate distances, and then use agglomerative method to optimize modularity</li>
</ul></li>
<li>spinglass.community()
<ul>
<li>This method uses the analogy of the lowest-energy state of a collection of magnets (a so-called spin-glass model).</li>
</ul></li>
<li>leading.eigenvector.community()
<ul>
<li>This is a “spectral partitioning” method. You first define a ‘modularity matrix’, which sums to 0 when there is no community structure. The leading eigenvector of this matrix ends up being useful as a community membership vector.</li>
</ul></li>
<li>cluster_louvain()
<ul>
<li>The “Louvain” method, so-called because it was created by a group of researchers at Louvain University in Belgium.</li>
</ul></li>
</ul>
</div>
<div id="modularity-and-community-detection-a-simple-example" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Modularity and community detection: a simple example<a href="word-coccurrences-of-Surah-Taa-Haa.html#modularity-and-community-detection-a-simple-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our undirected word co-occurrence network <em>gu</em> appears to have a clear community structure from the earlier plots (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig618">6.18</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig618"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig618-1.png" alt="Layout plot of gu" width="576" />
<p class="caption">
Figure 6.18: Layout plot of gu
</p>
</div>
<p>Because the community division in this example is clear, we can choose any of the community detection methods as described in the previous section and we are likely to come up with the same answer.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb146-1" tabindex="-1"></a>eb <span class="ot">=</span> <span class="fu">edge.betweenness.community</span>(gu) </span>
<span id="cb146-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb146-2" tabindex="-1"></a><span class="fu">length</span>(eb) <span class="co"># number of communities</span></span>
<span id="cb146-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb146-3" tabindex="-1"></a><span class="fu">modularity</span>(eb) <span class="co"># modularity</span></span></code></pre></div>
<p>The resulting object is a ‘communities object’, which includes a few pieces of information - the number of communities (groups), the modularity value based on the node assignments, and the membership of nodes to each community. We can call each of these values separately.</p>
<p>We can also use this ‘communities object’ to show the community structure (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig619">6.19</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig619"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig619-1.png" alt="Community structure using edge.betweenness.community()" width="576" />
<p class="caption">
Figure 6.19: Community structure using edge.betweenness.community()
</p>
</div>
<p>We repeat with the Louvain method (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig620">6.20</a>):</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig620"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig620-1.png" alt="Community structure using the Louvain method" width="576" />
<p class="caption">
Figure 6.20: Community structure using the Louvain method
</p>
</div>
<p>Figures <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig619">6.19</a> and <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig620">6.20</a> show that the two different methods yield different results; one with 7 and the other 8 communities (groups).</p>
<p>We can customize the plot. We use the <em>RColorBrewer</em> package to assign colors (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig621">6.21</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig621"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig621-1.png" alt="Using the Louvain method with some color adjustments" width="576" />
<p class="caption">
Figure 6.21: Using the Louvain method with some color adjustments
</p>
</div>
</div>
<div id="another-example-of-clustering" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Another example of clustering<a href="word-coccurrences-of-Surah-Taa-Haa.html#another-example-of-clustering" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The goal of clustering (also referred to as “community detection”) is to find cohesive subgroups within a network. We have mentioned earlier that there are various algorithms for graph clustering in <em>igraph</em>. It is important to note that there is no real theoretical basis for what constitutes a cluster in a network except for the vague “internally dense” versus “externally sparse” argument. As such, there is no clear argument for or against certain algorithms/methods.</p>
<p>No matter which algorithm is chosen, the workflow is always the same.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb147-1" tabindex="-1"></a>clu <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(gu)</span>
<span id="cb147-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb147-2" tabindex="-1"></a>mem <span class="ot">&lt;-</span> <span class="fu">membership</span>(clu) <span class="co"># membership vector</span></span>
<span id="cb147-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb147-3" tabindex="-1"></a><span class="fu">head</span>(mem)</span>
<span id="cb147-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb147-4" tabindex="-1"></a>com <span class="ot">&lt;-</span> <span class="fu">communities</span>(clu) <span class="co"># communities as list</span></span>
<span id="cb147-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb147-5" tabindex="-1"></a>com[[<span class="dv">1</span>]]</span></code></pre></div>
<p>An example using selected graph clustering algorithms for our <em>gu</em> network is shown below.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb148-1" tabindex="-1"></a>scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">infomap =</span> <span class="fu">modularity</span>(gu,<span class="fu">membership</span>(imc)),</span>
<span id="cb148-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb148-2" tabindex="-1"></a>            <span class="at">eigen =</span> <span class="fu">modularity</span>(gu,<span class="fu">membership</span>(lec)),</span>
<span id="cb148-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb148-3" tabindex="-1"></a>            <span class="at">louvain =</span> <span class="fu">modularity</span>(gu,<span class="fu">membership</span>(loc)),</span>
<span id="cb148-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb148-4" tabindex="-1"></a>            <span class="at">walk =</span> <span class="fu">modularity</span>(gu,<span class="fu">membership</span>(wtc)))</span>
<span id="cb148-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb148-5" tabindex="-1"></a>scores</span></code></pre></div>
<p>For the <em>gu</em> network, the modularity score is around 0.5 despite the different functions. In general, though, it is advisable to use cluster_louvain() since it has the best speed/performance trade-off.</p>
</div>
<div id="assortment-homophily" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> Assortment (homophily)<a href="word-coccurrences-of-Surah-Taa-Haa.html#assortment-homophily" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One major pattern common to many social networks (and other types of networks) is homophily or assortment — the tendency for nodes that share a trait to be connected. The assortment coefficient is a commonly used measure of homophily. It is similar to the modularity index used in community detection, but the assortativity coefficient is used when we know a priori the ‘type’ or ‘value’ of nodes. For example, we can use the assortment coefficient to examine whether discrete node types (e.g., gender, ethnicity, etc.) are more or less connected to each other. Assortment coefficient can also be used with “scalar attributes” (i.e. continuously varying traits).</p>
<p><strong>Assortment coefficient</strong></p>
<p>There are at least two easy ways to calculate the assortment coefficient. In the <em>igraph</em> package, there is a function for assortativity(). One benefit to this function is that it can calculate assortment in directed or undirected networks. However, the major downside is that it cannot handle weighted networks.</p>
<p><strong>Assortment: a simple example with igraph</strong></p>
<p>We use the same example network in this tutorial to demonstrate how to calculate assortativity, and to compare the difference between modularity and assortativity.</p>
<p>We start by assigning each node a value and let it vary in size (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig622">6.22</a>).</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3</span>)</span>
<span id="cb149-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-2" tabindex="-1"></a>l <span class="ot">=</span> <span class="fu">layout_with_kk</span>(gu)</span>
<span id="cb149-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-3" tabindex="-1"></a><span class="co"># assign sizes to nodes using two normal distributions </span></span>
<span id="cb149-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-4" tabindex="-1"></a><span class="co"># with different means</span></span>
<span id="cb149-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-5" tabindex="-1"></a><span class="fu">V</span>(gu)<span class="sc">$</span>size <span class="ot">=</span> <span class="dv">2</span><span class="sc">*</span><span class="fu">degree</span>(gu) </span>
<span id="cb149-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb149-6" tabindex="-1"></a><span class="fu">plot</span>(gu, <span class="at">layout=</span>l, <span class="at">edge.color=</span><span class="st">&quot;black&quot;</span>, <span class="at">repel=</span>T)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig622"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig622-1.png" alt="Node size reflecting its degree" width="576" />
<p class="caption">
Figure 6.22: Node size reflecting its degree
</p>
</div>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb150-1" tabindex="-1"></a><span class="fu">assortativity</span>(gu, <span class="fu">V</span>(gu)<span class="sc">$</span>size, <span class="at">directed=</span>F)</span></code></pre></div>
<p>This network exhibits negative (low) levels of assortativity by node size.</p>
<p>We can also convert the size variable into a binary (i.e., discrete) trait and calculate the assortment coefficient (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig623">6.23</a>).</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb151-1" tabindex="-1"></a><span class="fu">V</span>(gu)<span class="sc">$</span>size.discrete <span class="ot">=</span> (<span class="fu">V</span>(gu)<span class="sc">$</span>size <span class="sc">&gt;</span> <span class="dv">5</span>) <span class="sc">+</span> <span class="dv">0</span></span>
<span id="cb151-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb151-2" tabindex="-1"></a><span class="co"># shortcut to make the values = 1 if large individual </span></span>
<span id="cb151-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb151-3" tabindex="-1"></a><span class="co"># and 0 if small individual, with cutoff at size = 5</span></span>
<span id="cb151-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb151-4" tabindex="-1"></a><span class="fu">plot</span>(gu, <span class="at">layout=</span>l, <span class="at">edge.color=</span><span class="st">&quot;black&quot;</span>, <span class="at">repel=</span>T)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig623"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig623-1.png" alt="Node size discrete" width="576" />
<p class="caption">
Figure 6.23: Node size discrete
</p>
</div>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb152-1" tabindex="-1"></a><span class="fu">assortativity</span>(gu, <span class="fu">V</span>(gu)<span class="sc">$</span>size.discrete, <span class="at">directed=</span>F)</span></code></pre></div>
<p>As a comparison, we create a node attribute that varies randomly across all nodes in the network and then measure the assortativity coefficient based on this trait. We will plot the figure with square nodes, just to make it clear that we are plotting a different trait(see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig624">6.24</a>).</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3</span>)</span>
<span id="cb153-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-2" tabindex="-1"></a><span class="co"># create a node trait that varies randomly for all nodes </span></span>
<span id="cb153-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-3" tabindex="-1"></a><span class="fu">V</span>(gu)<span class="sc">$</span>random <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">41</span>, <span class="at">mean=</span><span class="dv">20</span>, <span class="at">sd=</span><span class="dv">5</span>) </span>
<span id="cb153-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-4" tabindex="-1"></a><span class="fu">assortativity</span>(gu, <span class="fu">V</span>(gu)<span class="sc">$</span>random, <span class="at">directed=</span>F)</span>
<span id="cb153-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-5" tabindex="-1"></a><span class="fu">plot</span>(gu, <span class="at">layout=</span>l, <span class="at">edge.color=</span><span class="st">&quot;black&quot;</span>, <span class="at">vertex.size=</span><span class="fu">V</span>(gu)<span class="sc">$</span>random,</span>
<span id="cb153-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb153-6" tabindex="-1"></a>     <span class="at">vertex.shape=</span><span class="st">&quot;square&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig624"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig624-1.png" alt="Using different node shape" width="576" />
<p class="caption">
Figure 6.24: Using different node shape
</p>
</div>
<p>We can see that there is little assortment based on this trait.</p>
<p>Just to be extra clear, this network still exhibits a community structure, but the trait we are measuring does not exhibit assortativity.</p>
</div>
</div>
<div id="analyzing-using-tidygraph" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Analyzing using <em>tidygraph</em><a href="word-coccurrences-of-Surah-Taa-Haa.html#analyzing-using-tidygraph" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Earlier we created the <em>wordnetwork</em> using <em>igraph</em>. In this section, we will show similar and different examples using <em>tidygraph</em>.</p>
<p>Two functions of the <em>tidygraph</em> package can be used to create network objects, they are:</p>
<ul>
<li>tbl_graph() creates a network object from nodes and edges data.</li>
<li>as_tbl_graph() converts network data and objects to a tbl_graph network.</li>
</ul>
<p>A central aspect of <em>tidygraph</em> is to directly manipulate node and edge data from the tbl_graph object by activating nodes or edges. When we first create a tbl_graph object, the nodes will be activated. We can then directly calculate node or edge measures, like centrality, using <em>tidyverse</em> functions.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb154-1" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb154-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb154-2" tabindex="-1"></a>gt <span class="ot">&lt;-</span> <span class="fu">as_tbl_graph</span>(wordnetwork)</span>
<span id="cb154-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb154-3" tabindex="-1"></a>gt</span></code></pre></div>
<p>Notice how the <em>igraph</em> <em>wordnetwork</em> is converted into two separate tibbles, Node Data and Edge Data. But both <em>wordnetwork</em> and <em>gt</em> are of the same <em>igraph class</em>.</p>
<div id="direct-ggraph-integration" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Direct ggraph integration<a href="word-coccurrences-of-Surah-Taa-Haa.html#direct-ggraph-integration" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>gt</em> can directly be used with our preferred <em>ggraph</em> package for visualizing networks (see the plot output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig625">6.25</a>).</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb155-1" tabindex="-1"></a><span class="fu">ggraph</span>(gt, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>, <span class="at">weights =</span> cooc) <span class="sc">+</span> </span>
<span id="cb155-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb155-2" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span> </span>
<span id="cb155-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb155-3" tabindex="-1"></a>  <span class="fu">geom_node_point</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig625"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig625-1.png" alt="Simple first plot example using tidygraph and ggraph" width="576" />
<p class="caption">
Figure 6.25: Simple first plot example using tidygraph and ggraph
</p>
</div>
<p>Now it is much easier to experiment with modifications to the node and edge parameters affecting layouts as it is not necessary to modify the underlying graph but only the plotting code (output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig626">6.26</a>).</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb156-1" tabindex="-1"></a><span class="fu">ggraph</span>(gt, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>, <span class="at">weights =</span> <span class="fu">log</span>(cooc)) <span class="sc">+</span> </span>
<span id="cb156-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb156-2" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">color =</span> <span class="st">&quot;cyan4&quot;</span>) <span class="sc">+</span> </span>
<span id="cb156-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb156-3" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">color =</span> <span class="st">&quot;gold4&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig626"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig626-1.png" alt="Adjusting node and edge plotting parameters" width="576" />
<p class="caption">
Figure 6.26: Adjusting node and edge plotting parameters
</p>
</div>
</div>
<div id="use-selected-measures-from-tidygraph-and-plot" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Use selected measures from <em>tidygraph</em> and plot<a href="word-coccurrences-of-Surah-Taa-Haa.html#use-selected-measures-from-tidygraph-and-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We show below how to collate some of the node related measures. Some of the measures we have shown earlier using <em>igraph</em>. Now it appears in a tidy <em>data.frame</em> or <em>tibble</em> format.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-1" tabindex="-1"></a>node_measures <span class="ot">&lt;-</span> gt <span class="sc">%&gt;%</span></span>
<span id="cb157-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-2" tabindex="-1"></a>     <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb157-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-3" tabindex="-1"></a>     <span class="fu">mutate</span>(</span>
<span id="cb157-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-4" tabindex="-1"></a>         <span class="at">degree_in =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&quot;in&quot;</span>),</span>
<span id="cb157-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-5" tabindex="-1"></a>         <span class="at">degree_out =</span> <span class="fu">centrality_degree</span>(<span class="at">mode =</span> <span class="st">&quot;out&quot;</span>),</span>
<span id="cb157-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-6" tabindex="-1"></a>         <span class="at">degree =</span> degree_in <span class="sc">+</span> degree_out,</span>
<span id="cb157-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-7" tabindex="-1"></a>         <span class="at">betweenness =</span> <span class="fu">centrality_betweenness</span>(),</span>
<span id="cb157-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-8" tabindex="-1"></a>         <span class="at">closeness =</span> <span class="fu">centrality_closeness</span>(<span class="at">normalized =</span> T),</span>
<span id="cb157-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-9" tabindex="-1"></a>         <span class="at">pg_rank =</span> <span class="fu">centrality_pagerank</span>(),</span>
<span id="cb157-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-10" tabindex="-1"></a>         <span class="at">eigen =</span> <span class="fu">centrality_eigen</span>(),</span>
<span id="cb157-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-11" tabindex="-1"></a>         <span class="at">br_score =</span> <span class="fu">node_bridging_score</span>(),</span>
<span id="cb157-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-12" tabindex="-1"></a>         <span class="at">coreness =</span> <span class="fu">node_coreness</span>()</span>
<span id="cb157-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-13" tabindex="-1"></a>     ) <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb157-14"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb157-14" tabindex="-1"></a>node_measures[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)]</span></code></pre></div>
<p>Now we plot the various measures from the resulting <em>node_measures</em> <em>data.frame</em> (output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig627">6.27</a>).</p>
<p>Plot <em>degree</em>, <em>degree_in</em>, and <em>degree_out</em> together (output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig628">6.28</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig627"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig627-1.png" alt="Degree for top 30 words" width="576" />
<p class="caption">
Figure 6.27: Degree for top 30 words
</p>
</div>
<p>Plot <em>degree</em> ( <em>degree-in</em> + <em>degree-out</em> ) and <em>betweenness</em> together (output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig629">6.29</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig628"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig628-1.png" alt="Degree-in and degree-out for top 50 words" width="576" />
<p class="caption">
Figure 6.28: Degree-in and degree-out for top 50 words
</p>
</div>
<p>Plot <em>closeness</em>, <em>pg_rank</em>, <em>eigen</em>, <em>br_score</em>, and <em>coreness</em> together (output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig630">6.30</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig629"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig629-1.png" alt="Degree and betweenness for top 50 words" width="576" />
<p class="caption">
Figure 6.29: Degree and betweenness for top 50 words
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig630"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig630-1.png" alt="Other measures for top 50 words" width="576" />
<p class="caption">
Figure 6.30: Other measures for top 50 words
</p>
</div>
<p>Despite using <em>coord_cartesian(ylim = c(0, 1))</em> to scale the Measure coordinate, the values for br_score, and coreness are 0 or very small. Without any doubt “say”, “Lord” together with “Allah” and “Mose” are the most influential and important words in Surah Taa-Haa.</p>
<p>Notice the slight difference in using the network measures with <em>tidygraph</em>. We can easily assemble the required measures for the nodes in a tidy <em>data.frame</em>. <em>tidygraph</em> has many functions that can give us information about nodes. We show examples of some measures that seem to measure slightly different things about the nodes.</p>
<ul>
<li>degree: Number of direct connections</li>
<li>betweenness: How many shortest paths go through this node</li>
<li>pagerank: How many links pointed to me come from a lot of pointed-to-nodes</li>
<li>eigen centrality: Something like the page rank but slightly different</li>
<li>closeness: How central is this node to the rest of the network</li>
<li>bridge score: Average decrease in cohesiveness if each of its edges were removed from the graph</li>
<li>coreness: K-core decomposition</li>
</ul>
</div>
<div id="example-combining-selected-node-and-edge-measures-from-tidygraph" class="section level3 hasAnchor" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> Example combining selected node and edge measures from <em>tidygraph</em><a href="word-coccurrences-of-Surah-Taa-Haa.html#example-combining-selected-node-and-edge-measures-from-tidygraph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following is an interesting example in true <em>tidyverse</em> fashion that combines some measures that we have not covered.<a href="#fn74" class="footnote-ref" id="fnref74"><sup>74</sup></a></p>
<p>We can also convert our active node or edge table back to a <em>tibble</em> and plot the output (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig631">6.31</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig631"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig631-1.png" alt="Nodes are colored by group" width="576" />
<p class="caption">
Figure 6.31: Nodes are colored by group
</p>
</div>
<p>For the next plot, we define our own specific colors. The center-most characters are in red and the distance to the center is the node size (see Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig632">6.32</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig632"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig632-1.png" alt="Nodes are colored by centeredness" width="576" />
<p class="caption">
Figure 6.32: Nodes are colored by centeredness
</p>
</div>
<p>Clearly, “say” is the <em>keyplayer</em> for the main group.</p>
</div>
<div id="who-is-the-most-important-influencer" class="section level3 hasAnchor" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> Who is the most important influencer?<a href="word-coccurrences-of-Surah-Taa-Haa.html#who-is-the-most-important-influencer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we ask some questions about which is the “most important” node. We want to understand important concepts of network centrality and how to calculate those in R.</p>
<p>What is the most important word in this network? What does “most important” mean? It of course depends on the definition and this is where network centrality measures come into play. We will have a look at three of these (there are many more out there).</p>
<p><strong>Degree centrality</strong>: Degree centrality tells us the most connected word: it is simply the number of nodes connected to each node. It can denote Popularity. This is often the only measure given to identify “influencers”: how many followers do they have?. So far “say” has the highest, 18 (12 in and 6 out).</p>
<p><strong>Closeness centrality</strong>: Closeness centrality tells us who can propagate information quickest. One application that comes to mind is identifying the superspreaders of infectious diseases, like COVID-19. “say” is no longer the highest.</p>
<p><strong>Betweenness centrality</strong>: Betweenness centrality tells us who is most important in maintaining connections throughout the network: it is the number of times the node is on the shortest path between any other pair of nodes. It can denote brokerage and bridging. “say” is prominent here. As a Surah that narrates the story of Prophet Mose, that is understandable.</p>
<p><strong>Eigenvector Centrality</strong>: Is a word (person) connected to other “well-connected” words (people)? It can denote connections. Again, “say” dominates.</p>
<p><strong>Diffusion Centrality</strong>: Can a given word (person) reach many others within a short number of hops in the network? It can denote reach.</p>
<p>As we have seen, there is more than one definition of “most important”. It will depend on the context (and the available information) which one to choose. Based on the previous plots, without any doubt “say”, “Lord” together with “Allah” and “Mose” are the most influential and important words in Surah Taa-Haa. Indeed, it is about “Allah” narrating the true story of “Mose”.</p>
</div>
<div id="build-communities-and-calculate-measures" class="section level3 hasAnchor" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> Build communities and calculate measures<a href="word-coccurrences-of-Surah-Taa-Haa.html#build-communities-and-calculate-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will do the analysis using <em>tidygraph</em>.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb158-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-2" tabindex="-1"></a>network_ego1 <span class="ot">&lt;-</span> gt <span class="sc">%&gt;%</span> </span>
<span id="cb158-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">community =</span> <span class="fu">as.factor</span>(<span class="fu">group_walktrap</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb158-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">degree_c =</span> <span class="fu">centrality_degree</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb158-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">betweenness_c =</span> <span class="fu">centrality_betweenness</span>(<span class="at">directed =</span> F, <span class="at">normalized =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb158-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">closeness_c =</span> <span class="fu">centrality_closeness</span>(<span class="at">normalized =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb158-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb158-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">eigen =</span> <span class="fu">centrality_eigen</span>(<span class="at">directed =</span> F))</span></code></pre></div>
<p>We can easily convert it to a <em>data.frame</em> using <code>as.data.frame()</code>. We need this to specify who is the “key player” in our ego network.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb159-1" tabindex="-1"></a>network_ego_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(network_ego1 <span class="sc">%&gt;%</span> <span class="fu">activate</span>(nodes))</span>
<span id="cb159-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb159-2" tabindex="-1"></a>network_ego_df <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)</span></code></pre></div>
<p><strong>Identify the prominent word in the network</strong></p>
<p>We have converted the table_graph to a <em>data.frame</em>. The last thing we need to do is to find the top account in each centrality and pull the key player.</p>
<p>“Key player” is a term for the most influential nodes in the network based on different centrality measures. Each centrality has different uses and interpretations. A node that appears at the top of most centrality measures will be considered as the “key player” of the whole network.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-1" tabindex="-1"></a><span class="co"># take 20 highest users by its centrality</span></span>
<span id="cb160-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-2" tabindex="-1"></a>kp_ego <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb160-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-3" tabindex="-1"></a>  network_ego_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>degree_c) <span class="sc">%&gt;%</span> <span class="fu">select</span>(name) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb160-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-4" tabindex="-1"></a>  network_ego_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>betweenness_c) <span class="sc">%&gt;%</span> <span class="fu">select</span>(name) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb160-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-5" tabindex="-1"></a>  network_ego_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>closeness_c) <span class="sc">%&gt;%</span> <span class="fu">select</span>(name) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb160-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-6" tabindex="-1"></a>  network_ego_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>eigen) <span class="sc">%&gt;%</span> <span class="fu">select</span>(name) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)</span>
<span id="cb160-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb160-7" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;degree&quot;</span>,<span class="st">&quot;betweenness&quot;</span>,<span class="st">&quot;closeness&quot;</span>,<span class="st">&quot;eigen&quot;</span>))</span></code></pre></div>
<p><strong>Top 10 words based on its centrality</strong></p>
<p>From the table above, “say” tops in most centrality measures.</p>
</div>
<div id="visualize-the-network" class="section level3 hasAnchor" number="6.5.6">
<h3><span class="header-section-number">6.5.6</span> Visualize the network<a href="word-coccurrences-of-Surah-Taa-Haa.html#visualize-the-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We scale the nodes by degree centrality, and color it by community. We filter by only showing community 1 to 10 (see output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig633">6.33</a>).</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-1" tabindex="-1"></a>network_ego1 <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-2" tabindex="-1"></a>  <span class="fu">filter</span>(community <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb161-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-3" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">100</span>,degree_c) <span class="sc">%&gt;%</span></span>
<span id="cb161-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">node_size =</span> <span class="fu">ifelse</span>(degree_c <span class="sc">&gt;=</span> <span class="dv">1</span>,degree_c,<span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb161-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">node_label =</span> <span class="fu">ifelse</span>(closeness_c <span class="sc">&gt;=</span> <span class="fl">0.001</span>,name,<span class="st">&quot;&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb161-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-6" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">&quot;stress&quot;</span>) <span class="sc">+</span></span>
<span id="cb161-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-7" tabindex="-1"></a>  <span class="fu">geom_edge_fan</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb161-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-8" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="fu">as.factor</span>(community), <span class="at">size =</span> <span class="fl">1.5</span><span class="sc">*</span>node_size)) <span class="sc">+</span></span>
<span id="cb161-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-9" tabindex="-1"></a>  <span class="fu">geom_node_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> node_label),<span class="at">repel =</span> T,</span>
<span id="cb161-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-10" tabindex="-1"></a>                 <span class="at">show.legend =</span> F, <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">label.size =</span> <span class="dv">0</span>,</span>
<span id="cb161-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-11" tabindex="-1"></a>                 <span class="at">segment.color=</span><span class="st">&quot;royalblue&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;wheat&quot;</span>) <span class="sc">+</span></span>
<span id="cb161-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-12" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb161-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb161-13" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig633"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig633-1.png" alt="Top 10 word communities" width="576" />
<p class="caption">
Figure 6.33: Top 10 word communities
</p>
</div>
<p><strong>ego() function</strong></p>
<p>The neighbors of a specific node can be extracted with the ego() function. Below, we are looking for all words that are linked with “say”, directly (order = 1) and indirectly (order &gt; 1).</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb162-1" tabindex="-1"></a>focusnode <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(gd)<span class="sc">$</span>name <span class="sc">==</span> <span class="st">&quot;say&quot;</span>)</span>
<span id="cb162-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb162-2" tabindex="-1"></a><span class="co"># ego(gd,order = 1, nodes = focusnode, mode = &quot;all&quot;, mindist = 1)[1:7]</span></span>
<span id="cb162-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb162-3" tabindex="-1"></a><span class="fu">ego</span>(gd,<span class="at">order =</span> <span class="dv">2</span>, <span class="at">nodes =</span> focusnode, <span class="at">mode =</span> <span class="st">&quot;all&quot;</span>, <span class="at">mindist =</span> <span class="dv">1</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>]</span>
<span id="cb162-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb162-4" tabindex="-1"></a><span class="co"># ego(gd,order = 3, nodes = focusnode, mode = &quot;all&quot;, mindist = 1)[1:7]</span></span></code></pre></div>
<p>We use this to test the small world and 6 degrees concept<a href="#fn75" class="footnote-ref" id="fnref75"><sup>75</sup></a>. Here “say” reaches every other word after 2 degrees/orders.</p>
</div>
<div id="concentric-layouts" class="section level3 hasAnchor" number="6.5.7">
<h3><span class="header-section-number">6.5.7</span> Concentric layouts<a href="word-coccurrences-of-Surah-Taa-Haa.html#concentric-layouts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We introduced some network graph layouts in Chapter 5. We discussed in more detail features about layouts, nodes, edges, and themes using the <em>ggraph</em> package where we used the same sample network of word co-occurrences in Surah Taa-Haa.<a href="#fn76" class="footnote-ref" id="fnref76"><sup>76</sup></a> Here, we will show examples of new layouts.</p>
<p>Concentric circles help to emphasize the position of certain nodes in the network. The <em>graphlayouts</em> package has two functions for concentric layouts, <em>layout_with_focus()</em> and <em>layout_with_centrality()</em>.</p>
<p>The first one allows to focus the network on a specific node and arrange all other nodes in concentric circles (depending on the geodesic distance) around it. Below we focus on the word “Mose”. However, it must be a connected graph. From previous plots, both <em>gd</em> and <em>gu</em> is not fully connected. So we focus on the largest cluster.</p>
<p><strong>Taking the largest component</strong></p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb163-1" tabindex="-1"></a>cld <span class="ot">&lt;-</span> <span class="fu">clusters</span>(gd)</span>
<span id="cb163-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb163-2" tabindex="-1"></a>jg1 <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(gd, <span class="fu">which</span>(cld<span class="sc">$</span>membership <span class="sc">==</span> <span class="fu">which.max</span>(cld<span class="sc">$</span>csize)))</span>
<span id="cb163-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb163-3" tabindex="-1"></a>jg2 <span class="ot">&lt;-</span> <span class="fu">simplify</span>(<span class="fu">as.undirected</span>(jg1))</span></code></pre></div>
<p>The parameter focus in the first line is used to choose the node id of the focal node (Mose = 1). The function coord_fixed() is used to always keep the aspect ratio at one (i.e. the circles are always displayed as a circle and not an ellipse).</p>
<p>The function draw_circle() can be used to add the circles explicitly (see the output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig634">6.34</a>).</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-1" tabindex="-1"></a>got_palette <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;gold&quot;</span>, <span class="st">&quot;coral&quot;</span>, <span class="st">&quot;cyan4&quot;</span>,</span>
<span id="cb164-2"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-2" tabindex="-1"></a>                <span class="st">&quot;maroon&quot;</span>, <span class="st">&quot;deeppink&quot;</span>)</span>
<span id="cb164-3"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-3" tabindex="-1"></a>focusnode <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">V</span>(jg1)<span class="sc">$</span>name <span class="sc">==</span> <span class="st">&quot;Mose&quot;</span>)</span>
<span id="cb164-4"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-4" tabindex="-1"></a>deg <span class="ot">=</span> <span class="fu">degree</span>(jg1)</span>
<span id="cb164-5"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-5" tabindex="-1"></a><span class="fu">ggraph</span>(jg1,<span class="at">layout =</span> <span class="st">&quot;focus&quot;</span>, <span class="at">focus =</span> focusnode) <span class="sc">+</span></span>
<span id="cb164-6"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-6" tabindex="-1"></a>    graphlayouts<span class="sc">::</span><span class="fu">draw_circle</span>(<span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">use =</span> <span class="st">&quot;focus&quot;</span>, </span>
<span id="cb164-7"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-7" tabindex="-1"></a>                              <span class="at">max.circle =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb164-8"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-8" tabindex="-1"></a>    <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">edge_width =</span> cooc), <span class="at">edge_color =</span> <span class="st">&quot;grey66&quot;</span>) <span class="sc">+</span></span>
<span id="cb164-9"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-9" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> deg), <span class="at">shape =</span> <span class="dv">19</span>, <span class="at">color =</span> <span class="st">&quot;hotpink&quot;</span>) <span class="sc">+</span></span>
<span id="cb164-10"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-10" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">filter =</span> (name <span class="sc">==</span> <span class="st">&quot;Mose&quot;</span>), </span>
<span id="cb164-11"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-11" tabindex="-1"></a>                       <span class="at">size =</span> <span class="dv">2</span><span class="sc">*</span>deg, <span class="at">label =</span> name),</span>
<span id="cb164-12"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-12" tabindex="-1"></a>                       <span class="at">family =</span> <span class="st">&quot;serif&quot;</span>) <span class="sc">+</span></span>
<span id="cb164-13"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-13" tabindex="-1"></a>    <span class="fu">scale_edge_width_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">2.0</span>)) <span class="sc">+</span></span>
<span id="cb164-14"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-14" tabindex="-1"></a>    <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb164-15"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-15" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> got_palette) <span class="sc">+</span></span>
<span id="cb164-16"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-16" tabindex="-1"></a>    <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb164-17"><a href="word-coccurrences-of-Surah-Taa-Haa.html#cb164-17" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig634"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig634-1.png" alt="Using draw circle layout with Mose as focus node" width="576" />
<p class="caption">
Figure 6.34: Using draw circle layout with Mose as focus node
</p>
</div>
<p>Repeat with a change of the focus node and displaying all the words (see the output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig635">6.35</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig635"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig635-1.png" alt="Same layout with say as focus node and text labels" width="576" />
<p class="caption">
Figure 6.35: Same layout with say as focus node and text labels
</p>
</div>
<p><em>layout_with_centrality()</em> works similarly. We can specify any centrality index (or numeric vector) and create a concentric layout where the most central nodes are put in the center and the most peripheral nodes in the biggest circle. The numeric attribute used for the layout is specified with the cent parameter. Here, we use the weighted degree of the characters. See the output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig636">6.36</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig636"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig636-1.png" alt="Weighted degree centrality layout" width="576" />
<p class="caption">
Figure 6.36: Weighted degree centrality layout
</p>
</div>
<p>We repeat with <em>betweenness centrality</em> (see the output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig637">6.37</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig637"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig637-1.png" alt="Betweenness centrality layout with degree for node size" width="576" />
<p class="caption">
Figure 6.37: Betweenness centrality layout with degree for node size
</p>
</div>
<p><strong>Stress layout and clustering</strong></p>
<p>We focus again on <em>gd</em> and <em>gu</em>. Some clustering functions do not work on directed graphs. We show two different examples here. The first one is a directed network (outputs in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig638">6.38</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig638"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig638-1.png" alt="Directed network with clusters" width="576" />
<p class="caption">
Figure 6.38: Directed network with clusters
</p>
</div>
<p>The second one is the undirected graph <em>gu</em> and <em>cluster_louvain</em> which does not work with directed graphs. <em>gu</em> does not have edge properties so we remove the aes(width=cooc). The output is in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig639">6.39</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig639"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig639-1.png" alt="Undirected network with clusters" width="576" />
<p class="caption">
Figure 6.39: Undirected network with clusters
</p>
</div>
<p>Interestingly, the cluster functions give 4 for <em>gd</em> and 8 for <em>gu</em>.</p>
<p><strong>Focus layout and clustering - focus on selected words</strong></p>
<p>Earlier, we have shown how <em>layout_with_focus()</em> allows us to focus the network on a specific word and order all other nodes in concentric circles (depending on distance) around it. Here we combine it with clustering. The limitation is that it can only work with a fully connected network (see the output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig640">6.40</a> and Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig641">6.41</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig640"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig640-1.png" alt="Focus layout with only the focus word" width="576" />
<p class="caption">
Figure 6.40: Focus layout with only the focus word
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig641"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig641-1.png" alt="Focus layout with all words" width="576" />
<p class="caption">
Figure 6.41: Focus layout with all words
</p>
</div>
<p><em>layout_with_centrality()</em> is based on a similar principle. We have shown this earlier. But here, we repeat with clustering (using <em>gu</em>) and look at the coreness centrality measure. Earlier, we have seen that <em>cluster_louvain()</em> gives different results than <em>clusters()</em> (see output in Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig642">6.42</a> and Figure <a href="word-coccurrences-of-Surah-Taa-Haa.html#fig:ch6fig643">6.43</a>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig642"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig642-1.png" alt="Centrality layout : graph.strength with clusters" width="576" />
<p class="caption">
Figure 6.42: Centrality layout : graph.strength with clusters
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch6fig643"></span>
<img src="08-Ch6WordLocNetAnal_files/figure-html/ch6fig643-1.png" alt="Centrality layout : graph.coreness with clusters" width="576" />
<p class="caption">
Figure 6.43: Centrality layout : graph.coreness with clusters
</p>
</div>
</div>
</div>
<div id="chapter-6-summary" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Summary<a href="word-coccurrences-of-Surah-Taa-Haa.html#chapter-6-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have covered the characteristics of networks using our example of the word co-occurrence network from Surah Taa-Haa. We showed how to use the functions from <em>igraph</em> and <em>tidygraph</em> that measure these characteristics. We also showed different ways to use <em>ggraph</em> and its layout, node, and edge formats to visualize the network and its related measures.</p>
<p>The main objective is to understand the <em>position and/or importance</em> of a node in the network. The individual characteristics of nodes can be described by</p>
<ul>
<li>Degree</li>
<li>Clustering</li>
<li>Distance to other nodes</li>
</ul>
<p>The <em>centrality</em> of a node reflects its influence, power, and importance. There are four different types of centrality measures.</p>
<ul>
<li>Degree - connectedness</li>
<li>Eigenvectors - Influence, Prestige, “not what you know, but whom you know”</li>
<li>Betweenness - importance as an intermediary, connector</li>
<li>Closeness, Decay – ease of reaching other nodes</li>
</ul>
<p>We summarize the use of some of these measures in simpler terms.</p>
<ul>
<li>Degree distributions help identify global patterns of networks.</li>
<li>Clustering helps identify local patterns.</li>
<li>Centrality measures determine the position and importance of nodes in networks.</li>
</ul>
<p>We ended the tutorial with examples of using <em>ggraph</em> with the stress, layout_with_focus() and layout_with_centrality() functions from the <em>graphlayouts</em> package. These examples will be very useful in our future work.</p>
<p>In concluding, we refer to some interesting points about areas of research in networks.<a href="#fn77" class="footnote-ref" id="fnref77"><sup>77</sup></a>
Why Study Networks?</p>
<ul>
<li>Many economic, political, and social interactions are shaped by the local structure of relationships:
<ul>
<li>trade of goods and services<br />
</li>
<li>sharing of information, favors, risk</li>
<li>transmission of viruses, opinions</li>
<li>access to info about jobs</li>
<li>choices of behavior, education<br />
</li>
<li>political alliances, trade alliances</li>
</ul></li>
<li>Social networks influence behavior
<ul>
<li>crime, employment, human capital, voting, smoking</li>
<li>networks exhibit heterogeneity, but also have enough underlying structure to model<br />
</li>
</ul></li>
<li>Pure interest in social structure
<ul>
<li>understand social network structure</li>
</ul></li>
</ul>
<p>Primary Questions:</p>
<ul>
<li>What do we know about network structure?<br />
</li>
<li>How do networks form? How do the efficient networks form?</li>
<li>How do networks influence behavior?</li>
<li>Diffusion, learning, peer effects, trade, inequality, polarization<br />
</li>
<li>Dynamics, feedback</li>
</ul>
<p>What are important areas for future research? Three areas for research include:</p>
<ul>
<li>Theory
<ul>
<li>network formation, dynamics, design</li>
<li>how networks influence behavior</li>
<li>co-evolution?</li>
</ul></li>
<li>Empirical and experimental work
<ul>
<li>observe networks, patterns, influence<br />
</li>
<li>test theory and identify regularities<br />
</li>
</ul></li>
<li>Methodology
<ul>
<li>how to measure and analyze networks</li>
</ul></li>
</ul>
<p>From the items above,</p>
<ul>
<li>interest in and understanding the Quran words network structure, and</li>
<li>empirical and experimental work to observe networks, patterns, and influence</li>
</ul>
<p>are what we can relate to with our current work on Quran Analytics.</p>
</div>
<div id="further-readings-5" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Further readings<a href="word-coccurrences-of-Surah-Taa-Haa.html#further-readings-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Jackson, M. O. <em>Social and Economic Networks</em>, Princeton University Press, Princeton, New Jersey, USA, 2008 <span class="citation">(<a href="#ref-jackson2008">Jackson 2008</a>)</span>.</p>
<p>Kolazcyk, E. and Csardi, G. <em>Statistical Analysis of Network Data with R</em>, Springer, New York,New York, USA, 2014 <span class="citation">(<a href="#ref-csardi2014">Kolaczyk and Csardi 2014</a>)</span>.</p>
<p>Barebra, P., <em>Introduction to social network analysis with R</em> (<a href="http://pablobarbera.com/big-data-upf/html/02a-networks-intro-visualization.html" class="uri">http://pablobarbera.com/big-data-upf/html/02a-networks-intro-visualization.html</a>)</p>
<p>Sadler, J, <em>Introduction to Network Analysis with R</em> (<a href="https://www.jessesadler.com/post/network-analysis-with-r/" class="uri">https://www.jessesadler.com/post/network-analysis-with-r/</a>)</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-jackson2008" class="csl-entry">
Jackson, Mathew O. 2008. <em>Social and Economic Networks</em>. Princeton,New Jersey, USA: Princeton University Press.
</div>
<div id="ref-csardi2014" class="csl-entry">
Kolaczyk, Eric, and Gabor Csardi. 2014. <em>Statistical Analysis of Network Data with r</em>. New York,New York, USA: Springer.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="68">
<li id="fn68"><p><a href="http://networksciencebook.com" class="uri">http://networksciencebook.com</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref68" class="footnote-back">↩︎</a></p></li>
<li id="fn69"><p><a href="https://dshizuka.github.io/networkanalysis/04_measuring.html" class="uri">https://dshizuka.github.io/networkanalysis/04_measuring.html</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref69" class="footnote-back">↩︎</a></p></li>
<li id="fn70"><p><a href="http://www2.unb.ca/~ddu/6634/Lecture_notes/Lecture_4_centrality_measure.pdf" class="uri">http://www2.unb.ca/~ddu/6634/Lecture_notes/Lecture_4_centrality_measure.pdf</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref70" class="footnote-back">↩︎</a></p></li>
<li id="fn71"><p><a href="http://web.stanford.edu/~jacksonm/Jackson-IntroConcepts.pdf" class="uri">http://web.stanford.edu/~jacksonm/Jackson-IntroConcepts.pdf</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref71" class="footnote-back">↩︎</a></p></li>
<li id="fn72"><p><a href="https://rpubs.com/azmanH/708667" class="uri">https://rpubs.com/azmanH/708667</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref72" class="footnote-back">↩︎</a></p></li>
<li id="fn73"><p><a href="https://www.macmillandictionary.com/dictionary/british/so_1" class="uri">https://www.macmillandictionary.com/dictionary/british/so_1</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref73" class="footnote-back">↩︎</a></p></li>
<li id="fn74"><p><a href="https://www.shirin-glander.de/2018/03/got_network/" class="uri">https://www.shirin-glander.de/2018/03/got_network/</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref74" class="footnote-back">↩︎</a></p></li>
<li id="fn75"><p><a href="http://networksciencebook.com/chapter/3#small-worlds" class="uri">http://networksciencebook.com/chapter/3#small-worlds</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref75" class="footnote-back">↩︎</a></p></li>
<li id="fn76"><p><a href="https://rpubs.com/azmanH/708667" class="uri">https://rpubs.com/azmanH/708667</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref76" class="footnote-back">↩︎</a></p></li>
<li id="fn77"><p><a href="https://www.coursera.org/learn/social-economic-networks" class="uri">https://www.coursera.org/learn/social-economic-networks</a><a href="word-coccurrences-of-Surah-Taa-Haa.html#fnref77" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="graph-representations-of-word-cooccurrences.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="text-and-knowledge-modeling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QuranAnalytics.pdf", "QuranAnalytics.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
